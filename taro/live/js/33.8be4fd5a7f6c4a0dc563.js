(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"306":function(e,t,n){"use strict";var o=n(1),r=n(9),i=n.n(r),a=n(86),c=n.n(a),s=n(14),l=n(271),u=n(2),p=n(0);var f=function chooseImage(e){var t=Object(p.l)(e);if(!t.res){var n={"errMsg":"chooseImage"+t.msg};return console.error(n.errMsg),Promise.reject(n)}var o=e.count,r=void 0===o?1:o,i=e.success,a=e.fail,c=e.complete,s=e.imageId,l=void 0===s?"taroChooseImage":s,u=e.sourceType,f=void 0===u?["album","camera"]:u,m={"errMsg":"chooseImage:ok","tempFilePaths":[],"tempFiles":[]},h=f&&f.toString(),d=["user","environment","camera"];if(r&&"number"!=typeof r)return m.errMsg=Object(p.e)({"name":"chooseImage","para":"count","correct":"Number","wrong":r}),console.error(m.errMsg),"function"==typeof a&&a(m),"function"==typeof c&&c(m),Promise.reject(m);var y=document.getElementById(l);if(y)d.indexOf(h)>-1?y.setAttribute("capture",h):y.removeAttribute("capture");else{var g=document.createElement("input");g.setAttribute("type","file"),g.setAttribute("id",l),r>1&&g.setAttribute("multiple","multiple"),d.indexOf(h)>-1&&g.setAttribute("capture",h),g.setAttribute("accept","image/*"),g.setAttribute("style","position: fixed; top: -4000px; left: -3000px; z-index: -300;"),document.body.appendChild(g),y=document.getElementById(l)}var b=void 0,v=new Promise(function(e){b=e}),_=document.createEvent("MouseEvents");return _.initEvent("click",!0,!0),y.dispatchEvent(_),y.onchange=function(e){var t=[].concat(function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.target.files)).splice(0,r);t&&t.forEach(function(e){var t=new Blob([e],{"type":e.type}),n=URL.createObjectURL(t);m.tempFilePaths.push(n),m.tempFiles.push({"path":n,"size":e.size,"type":e.type,"originalFileObj":e})}),"function"==typeof i&&i(m),"function"==typeof c&&c(m),b(m),e.target.value=""},v},m=n(85),h=n(92);n.d(t,"a",function(){return g});var d=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var y=u.a.getEnv(),g=function(e){function AtImagePicker(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtImagePicker);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtImagePicker.__proto__||Object.getPrototypeOf(AtImagePicker)).apply(this,arguments));return e.chooseFile=function(){var t=e.props,n=t.files,o=void 0===n?[]:n,r=t.multiple,i=t.count,a=t.sizeType,c=t.sourceType,s=y===u.a.ENV_TYPE.ALIPAY?"apFilePaths":"tempFiles",l={};r&&(l.count=99),i&&(l.count=i),a&&(l.sizeType=a),c&&(l.sourceType=c),f(l).then(function(t){var n=t.tempFilePaths.map(function(e,n){return{"url":e,"file":t[s][n]}}),r=o.concat(n);e.props.onChange(r,"add")}).catch(e.props.onFail)},e.handleImageClick=function(t){e.props.onImageClick&&e.props.onImageClick(t,e.props.files[t])},e.handleRemoveImg=function(t){var n=e.props.files,o=void 0===n?[]:n;y===u.a.ENV_TYPE.WEB&&window.URL.revokeObjectURL(o[t].url);var r=o.filter(function(e,n){return n!==t});e.props.onChange(r,"remove",t)},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtImagePicker,m["a"]),d(AtImagePicker,[{"key":"render","value":function render(){var e=this,t=this.props,n=t.className,r=t.customStyle,a=t.files,c=t.mode,u=t.length,p=void 0===u?4:u,f=t.showAddBtn,m=function generateMatrix(e,t,n){for(var o=[],r=n?e.length+1:e.length,i=Math.ceil(r/t),a=0;a<i;a++)if(a===i-1){var c=e.slice(a*t);if(c.length<t){n&&c.push({"type":"btn","uuid":Object(h.d)()});for(var s=c.length;s<t;s++)c.push({"type":"blank","uuid":Object(h.d)()})}o.push(c)}else o.push(e.slice(a*t,(a+1)*t));return o}(a,p<=0?1:p,void 0===f||f),d=i()("at-image-picker",n);return o.l.createElement(s.a,{"className":d,"style":r},m.map(function(t,n){return o.l.createElement(s.a,{"className":"at-image-picker__flex-box","key":n+1},t.map(function(t,r){return t.url?o.l.createElement(s.a,{"className":"at-image-picker__flex-item","key":n*p+r},o.l.createElement(s.a,{"className":"at-image-picker__item"},o.l.createElement(s.a,{"className":"at-image-picker__remove-btn","onClick":e.handleRemoveImg.bind(e,n*p+r)}),o.l.createElement(l.a,{"className":"at-image-picker__preview-img","mode":c,"src":t.url,"onClick":e.handleImageClick.bind(e,n*p+r)}))):o.l.createElement(s.a,{"className":"at-image-picker__flex-item","key":n*p+r},"btn"===t.type&&o.l.createElement(s.a,{"className":"at-image-picker__item at-image-picker__choose-btn","onClick":e.chooseFile},o.l.createElement(s.a,{"className":"add-bar"}),o.l.createElement(s.a,{"className":"add-bar"})))}))}))}}]),AtImagePicker}();g.defaultProps={"className":"","customStyle":"","files":[],"mode":"aspectFill","showAddBtn":!0,"multiple":!1,"length":4,"onChange":function onChange(){},"onImageClick":function onImageClick(){},"onFail":function onFail(){}},g.propTypes={"className":c.a.oneOfType([c.a.string,c.a.array]),"customStyle":c.a.oneOfType([c.a.string,c.a.object]),"files":c.a.array,"mode":c.a.oneOf(["scaleToFill","aspectFit","aspectFill","widthFix","top","bottom","center","left","right","top left","top right","bottom left","bottom right"]),"showAddBtn":c.a.bool,"multiple":c.a.bool,"length":c.a.number,"onChange":c.a.func,"onImageClick":c.a.func,"onFail":c.a.func,"count":c.a.number,"sizeType":c.a.array,"sourceType":c.a.array}},"85":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n(2),r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=function objectToString(e){if(e&&"object"===(void 0===e?"undefined":i(e))){var t="";return Object.keys(e).forEach(function(n){var o=n.replace(/([A-Z])/g,"-$1").toLowerCase();t+=o+":"+e[n]+";"}),t}return e&&"string"==typeof e?e:""},c=function(e){function AtComponent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtComponent),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtComponent.__proto__||Object.getPrototypeOf(AtComponent)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtComponent,o["a"].Component),r(AtComponent,[{"key":"mergeStyle","value":function mergeStyle(e,t){return e&&"object"===(void 0===e?"undefined":i(e))&&t&&"object"===(void 0===t?"undefined":i(t))?Object.assign({},e,t):a(e)+a(t)}}]),AtComponent}();c.options={"addGlobalClass":!0}},"86":function(e,t,n){e.exports=n(95)()},"92":function(e,t,n){"use strict";var o=n(2),r=n(1),i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function filter(e,t,n){if(!t)return null;var o=e.id,r=e.dataset,i=e.rect,a=e.size,c=e.scrollOffset,s=e.properties,l=void 0===s?[]:s,u=e.computedStyle,p=void 0===u?[]:u,f=t.getBoundingClientRect(),m=f.left,h=f.right,d=f.top,y=f.bottom,g=f.width,b=f.height,v="html"===n,_={};if(o&&(_.id=t.id),r&&(_.dataset=Object.assign({},t.dataset)),i&&(v?(_.left=0,_.right=0,_.top=0,_.bottom=0):(_.left=m,_.right=h,_.top=d,_.bottom=y)),a&&(v?(_.width=t.clientWidth,_.height=t.clientHeight):(_.width=g,_.height=b)),c&&(_.scrollLeft=t.scrollLeft,_.scrollTop=t.scrollTop,_.scrollHeight=t.scrollHeight,_.scrollWidth=t.scrollWidth),l.length&&l.forEach(function(e){var n=t.getAttribute(e);n&&(_[e]=n)}),p.length){var k=window.getComputedStyle(t);p.forEach(function(e){var t=k.getPropertyValue(e);t&&(_[e]=t)})}return _}!function(){function Query(){_classCallCheck(this,Query),this._defaultWebviewId=null,this._webviewId=null,this._queue=[],this._queueCb=[],this._component=null}i(Query,[{"key":"in","value":function _in(e){return this._component=e,this}},{"key":"select","value":function select(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new a(e,this,!0)}},{"key":"selectAll","value":function selectAll(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new a(e,this,!1)}},{"key":"selectViewport","value":function selectViewport(){return new a("html",this,!0)}},{"key":"exec","value":function exec(e){var t=this;!function queryBat(e,t){var n=[];e.forEach(function(e){var t=e.selector,o=e.single,i=e.fields,a=e.component,c=null!==a&&r.l.findDOMNode(a)||document,s=!1;if(c!==document)for(var l=c.parentNode.querySelectorAll(t),u=0,p=l.length;u<p;++u)if(c===l[u]){s=!0;break}if(o){var f=!0===s?c:c.querySelector(t);n.push(filter(i,f,t))}else{var m=c.querySelectorAll(t),h=[];!0===s&&h.push(c);for(var d=0,y=m.length;d<y;++d)h.push(m[d]);n.push(h.map(function(e){return filter(i,e)}))}}),t(n)}(this._queue,function(n){var o=t._queueCb;n.forEach(function(e,n){"function"==typeof o[n]&&o[n].call(t,e)}),"function"==typeof e&&e.call(t,n)})}},{"key":"_push","value":function _push(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this._queue.push({"component":t,"selector":e,"single":n,"fields":o}),this._queueCb.push(r)}}])}();var a=function(){function NodesRef(e,t,n){_classCallCheck(this,NodesRef),this._component=t._component,this._selector=e,this._selectorQuery=t,this._single=n}return i(NodesRef,[{"key":"boundingClientRect","value":function boundingClientRect(e){var t=this._selector,n=this._component,o=this._single,r=this._selectorQuery;return r._push(t,n,o,{"id":!0,"dataset":!0,"rect":!0,"size":!0},e),r}},{"key":"scrollOffset","value":function scrollOffset(e){var t=this._selector,n=this._component,o=this._single,r=this._selectorQuery;return r._push(t,n,o,{"id":!0,"dataset":!0,"scrollOffset":!0},e),r}},{"key":"fields","value":function fields(e,t){var n=this._selector,o=this._component,r=this._single,i=this._selectorQuery,a=e.id,c=e.dataset,s=e.rect,l=e.size,u=e.scrollOffset,p=e.properties,f=void 0===p?[]:p,m=e.computedStyle,h=void 0===m?[]:m;return i._push(n,o,r,{"id":a,"dataset":c,"rect":s,"size":l,"scrollOffset":u,"properties":f,"computedStyle":h},t),i}}]),NodesRef}();n.d(t,"d",function(){return uuid}),n.d(t,"b",function(){return initTestEnv}),n.d(t,"c",function(){return isTest}),n.d(t,"a",function(){return handleTouchScroll});var c=o.a.getEnv();function uuid(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[],r=0;if(t=t||n.length,e)for(r=0;r<e;r++)o[r]=n[0|Math.random()*t];else{var i=void 0;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",r=0;r<36;r++)o[r]||(i=0|16*Math.random(),o[r]=n[19===r?3&i|8:i])}return o.join("")}function initTestEnv(){0}function isTest(){return!1}var s=0;function handleTouchScroll(e){c===o.a.ENV_TYPE.WEB&&(e?(s=document.documentElement.scrollTop,document.body.classList.add("at-frozen"),document.body.style.top=-s+"px"):(document.body.style.top=null,document.body.classList.remove("at-frozen"),document.documentElement.scrollTop=s))}},"95":function(e,t,n){"use strict";var o=n(96);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,e.exports=function(){function shim(e,t,n,r,i,a){if(a!==o){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function getShim(){return shim}shim.isRequired=shim;var e={"array":shim,"bool":shim,"func":shim,"number":shim,"object":shim,"string":shim,"symbol":shim,"any":shim,"arrayOf":getShim,"element":shim,"elementType":shim,"instanceOf":getShim,"node":shim,"objectOf":getShim,"oneOf":getShim,"oneOfType":getShim,"shape":getShim,"exact":getShim,"checkPropTypes":emptyFunctionWithReset,"resetWarningCache":emptyFunction};return e.PropTypes=e,e}},"96":function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);