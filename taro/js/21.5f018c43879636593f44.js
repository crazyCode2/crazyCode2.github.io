(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"200":function(t,e,i){(function(i){var n,r,a,s,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};s=function(t){"use strict";var e=function isArrayLike(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},n=function filter(t,i){if(!e(t))return t;for(var n=[],r=0;r<t.length;r++){var a=t[r];i(a,r)&&n.push(a)}return n},r={}.toString,a=function isType(t,e){return r.call(t)==="[object "+e+"]"},s=function isFunction(t){return a(t,"Function")},l=function isNil(t){return null===t||void 0===t},c=function isArray(t){return Array.isArray?Array.isArray(t):a(t,"Array")},h=function isObject(t){var e=void 0===t?"undefined":o(t);return null!==t&&"object"===e||"function"===e};function each(t,e){if(t)if(c(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(h(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break}var u=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return each(t,function(i,n){s(t)&&"prototype"===n||e.push(n)}),e};var f=function isObjectLike(t){return"object"===(void 0===t?"undefined":o(t))&&null!==t},g=function isPlainObject(t){if(!f(t)||!a(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var d=function isString(t){return a(t,"String")},p=function uniq(t){var i=[];return each(t,function(t){(function contains(t,i){return!!e(t)&&t.indexOf(i)>-1})(i,t)||i.push(t)}),i};function head(t){if(e(t))return t[0]}function last(t){if(e(t)){return t[t.length-1]}}var v=function fixedBase(t,e){var i=e.toString(),n=i.indexOf(".");if(-1===n)return Math.round(t);var r=i.substr(n+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))},m=function isNumber(t){return a(t,"Number")},y=function toString$1(t){return l(t)?"":t.toString()},x=function lowerFirst(t){var e=y(t);return e.charAt(0).toLowerCase()+e.substring(1)},_=function upperFirst(t){var e=y(t);return e.charAt(0).toUpperCase()+e.substring(1)},S={}.toString,C=function getType(t){return S.call(t).replace(/^\[object /,"").replace(/]$/,"")},P=function isBoolean(t){return a(t,"Boolean")},M=function isDate(t){return a(t,"Date")},w=Object.prototype,b=function isPrototype(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||w)};function _mix(t,e){for(var i in e)e.hasOwnProperty(i)&&"constructor"!==i&&void 0!==e[i]&&(t[i]=e[i])}function mix(t,e,i,n){return e&&_mix(t,e),i&&_mix(t,i),n&&_mix(t,n),t}var T=5;function _deepMix(t,e,i,n){for(var r in i=i||0,n=n||T,e)if(e.hasOwnProperty(r)){var a=e[r];null!==a&&g(a)?(g(t[r])||(t[r]={}),i<n?_deepMix(t[r],a,i+1,n):t[r]=e[r]):c(a)?(t[r]=[],t[r]=t[r].concat(a)):void 0!==a&&(t[r]=a)}}var k=function deepMix(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n+=1)_deepMix(t,e[n]);return t},D=function indexOf(t,i){if(!e(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,i);for(var r=-1,a=0;a<t.length;a++)if(t[a]===i){r=a;break}return r},A=Object.prototype.hasOwnProperty;var I=function map(t,i){if(!e(t))return t;for(var n=[],r=0;r<t.length;r++){var a=t[r];n.push(i(a,r))}return n};function size(t){return l(t)?0:e(t)?t.length:Object.keys(t).length}function merge(t){for(var e=[],i=0,n=t.length;i<n;i++)e=e.concat(t[i]);return e}function values(t,e){for(var i=[],n={},r=0,a=t.length;r<a;r++){var s=t[r][e];l(s)||(c(s)?each(s,function(t){n[t]||(i.push(t),n[t]=!0)}):n[s]||(i.push(s),n[s]=!0))}return i}function firstValue(t,e){for(var i=null,n=0,r=t.length;n<r;n++){var a=t[n][e];if(!l(a)){i=c(a)?a[0]:a;break}}return i}function groupToMap(t,e){if(!e)return{"0":t};for(var i=function callback(t){for(var i="_",n=0,r=e.length;n<r;n++)i+=t[e[n]]&&t[e[n]].toString();return i},n={},r=0,a=t.length;r<a;r++){var s=t[r],o=i(s);n[o]?n[o].push(s):n[o]=[s]}return n}function group(t,e,i){if(void 0===i&&(i={}),!e)return[t];var n=groupToMap(t,e),r=[];if(1===e.length&&i[e[0]])each(i[e[0]],function(t){t="_"+t,r.push(n[t])});else for(var a in n)r.push(n[a]);return r}function remove(t,e){if(t){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}}function getRange$1(t){if(!t.length)return{"min":0,"max":0};var e=Math.max.apply(null,t);return{"min":Math.min.apply(null,t),"max":e}}var Y=Object.freeze({"__proto__":null,"merge":merge,"values":values,"firstValue":firstValue,"group":group,"groupToMap":groupToMap,"remove":remove,"getRange":getRange$1}),L=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{"get":function get(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{"passive":!0},E="object"===("undefined"==typeof wx?"undefined":o(wx))&&"function"==typeof wx.getSystemInfoSync,O="object"===("undefined"==typeof my?"undefined":o(my))&&"function"==typeof my.getSystemInfoSync,B=(void 0===i?"undefined":o(i))&&!("undefined"==typeof window||o(window)),F="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.sessionStorage;function isCanvasElement(t){return!(!t||"object"!==(void 0===t?"undefined":o(t)))&&(!(1!==t.nodeType||!t.nodeName)||!!t.isCanvasElement)}function getPixelRatio(){return window&&window.devicePixelRatio||1}function getStyle(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function getWidth(t){var e=getStyle(t,"width");return"auto"===e&&(e=t.offsetWidth),parseFloat(e)}function getHeight(t){var e=getStyle(t,"height");return"auto"===e&&(e=t.offsetHeight),parseFloat(e)}function getDomById(t){return t?document.getElementById(t):null}function getRelativePosition(t,e){var i=e.get("el");if(!i)return t;var n=i.getBoundingClientRect(),r=n.top,a=n.right,s=n.bottom,o=n.left,l=parseFloat(getStyle(i,"padding-left")),c=parseFloat(getStyle(i,"padding-top")),h=a-o-l-parseFloat(getStyle(i,"padding-right")),u=s-r-c-parseFloat(getStyle(i,"padding-bottom")),f=e.get("pixelRatio");return{"x":(t.x-o-l)/h*i.width/f,"y":(t.y-r-c)/u*i.height/f}}function addEventListener(t,e,i){t.addEventListener(e,i,L)}function removeEventListener(t,e,i){t.removeEventListener(e,i,L)}function createEventObj(t,e,i,n,r){return{"type":t,"chart":e,"native":r||null,"x":void 0!==i?i:null,"y":void 0!==n?n:null}}function createEvent(t,e){var i,n=t.type;if(t.touches){var r=t.changedTouches[0]||{},a=r.x,s=r.y,o=r.clientX,l=r.clientY;if(a&&s)return createEventObj(n,e,a,s,t);i={"x":o,"y":l}}else i={"x":t.clientX,"y":t.clientY};var c=getRelativePosition(i,e.get("canvas"));return createEventObj(n,e,c.x,c.y,t)}function measureText(t,e,i){return i||(i=document.createElement("canvas").getContext("2d")),i.font=e||"12px sans-serif",i.measureText(t)}function parsePadding(t){var e,i,n,r;return m(t)||d(t)?e=n=r=i=t:c(t)&&(e=t[0],i=l(t[1])?t[0]:t[1],n=l(t[2])?t[0]:t[2],r=l(t[3])?i:t[3]),[e,i,n,r]}function directionEnabled(t,e){return void 0===t||"string"==typeof t&&-1!==t.indexOf(e)}function toTimeStamp(t){return d(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),M(t)&&(t=t.getTime()),t}var z=Object.freeze({"__proto__":null,"Array":Y,"upperFirst":_,"lowerFirst":x,"isString":d,"isNumber":m,"isBoolean":P,"isFunction":s,"isDate":M,"isArray":c,"isNil":l,"isObject":h,"isPlainObject":g,"isEqual":function isEqual(t,i){if(t===i)return!0;if(!t||!i)return!1;if(d(t)||d(i))return!1;if(e(t)||e(i)){if(t.length!==i.length)return!1;for(var n=!0,r=0;r<t.length&&(n=isEqual(t[r],i[r]));r++);return n}if(f(t)||f(i)){var a=Object.keys(t),s=Object.keys(i);if(a.length!==s.length)return!1;for(n=!0,r=0;r<a.length&&(n=isEqual(t[a[r]],i[a[r]]));r++);return n}return!1},"deepMix":k,"mix":mix,"each":each,"uniq":p,"find":function find(t,e){if(!c(t))return null;var i;if(s(e)&&(i=e),g(e)&&(i=function _predicate(t){return function isMatch(t,e){var i=u(e),n=i.length;if(l(t))return!n;for(var r=0;r<n;r+=1){var a=i[r];if(e[a]!==t[a]||!(a in t))return!1}return!0}(t,e)}),i)for(var n=0;n<t.length;n+=1)if(i(t[n]))return t[n];return null},"isObjectValueEqual":function isObjectValueEqual(t,e){t=Object.assign({},t),e=Object.assign({},e);var i=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(e);if(i.length!==n.length)return!1;for(var r=0,a=i.length;r<a;r++){var s=i[r];if(t[s]!==e[s])return!1}return!0},"parsePadding":parsePadding,"directionEnabled":directionEnabled,"toTimeStamp":toTimeStamp,"isWx":E,"isMy":O,"isNode":B,"isBrowser":F,"isCanvasElement":isCanvasElement,"getPixelRatio":getPixelRatio,"getStyle":getStyle,"getWidth":getWidth,"getHeight":getHeight,"getDomById":getDomById,"getRelativePosition":getRelativePosition,"addEventListener":addEventListener,"removeEventListener":removeEventListener,"createEvent":createEvent,"measureText":measureText}),N={"label":{"fill":"#808080","fontSize":10},"line":{"stroke":"#E8E8E8","lineWidth":1},"grid":{"type":"line","stroke":"#E8E8E8","lineWidth":1,"lineDash":[2]},"tickLine":null,"labelOffset":7.5},G={"fontFamily":'"Helvetica Neue", "San Francisco", Helvetica, Tahoma, Arial, "PingFang SC", "Hiragino Sans GB", "Heiti SC", "Microsoft YaHei", sans-serif',"defaultColor":"#1890FF","pixelRatio":1,"padding":"auto","appendPadding":15,"colors":["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],"shapes":{"line":["line","dash"],"point":["circle","hollowCircle"]},"sizes":[4,10],"axis":{"common":N,"bottom":mix({},N,{"grid":null}),"left":mix({},N,{"line":null}),"right":mix({},N,{"line":null}),"circle":mix({},N,{"line":null}),"radius":mix({},N,{"labelOffset":4})},"shape":{"line":{"lineWidth":2,"lineJoin":"round","lineCap":"round"},"point":{"lineWidth":0,"size":3},"area":{"fillOpacity":.1}},"_defaultAxis":N},j={"version":"3.7.7","scales":{},"widthRatio":{"column":.5,"rose":.999999,"multiplePie":.75},"lineDash":[4,4]};function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{"value":i,"enumerable":!0,"configurable":!0,"writable":!0}):t[e]=i,t}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}j.setTheme=function(t){k(this,t)},j.setTheme(G);var R=function(){function EventEmit(){this.__events={}}var t=EventEmit.prototype;return t.on=function on(t,e){if(t&&e){var i=this.__events[t]||[];i.push(e),this.__events[t]=i}},t.emit=function emit(t,e){var i=this;if(h(t)&&(t=(e=t)&&e.type),t){var n=this.__events[t];n&&n.length&&n.forEach(function(t){t.call(i,e)})}},t.off=function off(t,e){var i=this.__events,n=i[t];if(n&&n.length)if(e)for(var r=0,a=n.length;r<a;r++)n[r]===e&&(n.splice(r,1),r--);else delete i[t]},EventEmit}(),X=function(t){_inheritsLoose(Base,t);var e=Base.prototype;function Base(e){var i,n={},r=(i=t.call(this)||this).getDefaultCfg();return i._attrs=n,mix(n,r,e),i}return e.getDefaultCfg=function getDefaultCfg(){return{}},e.get=function get(t){return this._attrs[t]},e.set=function set(t,e){this._attrs[t]=e},e.destroy=function destroy(){this._attrs={},this.destroyed=!0},Base}(R),H=function(){function Plot(t){mix(this,t),this._init()}var t=Plot.prototype;return t._init=function _init(){var t=this.start,e=this.end,i=Math.min(t.x,e.x),n=Math.max(t.x,e.x),r=Math.min(t.y,e.y),a=Math.max(t.y,e.y);this.tl={"x":i,"y":r},this.tr={"x":n,"y":r},this.bl={"x":i,"y":a},this.br={"x":n,"y":a},this.width=n-i,this.height=a-r},t.reset=function reset(t,e){this.start=t,this.end=e,this._init()},t.isInRange=function isInRange(t,e){h(t)&&(e=t.y,t=t.x);var i=this.tl,n=this.br;return i.x<=t&&t<=n.x&&i.y<=e&&e<=n.y},Plot}(),V={"generateDefault":function generateDefault(){return[1,0,0,1,0,0]},"isChanged":function isChanged(t){return 1!==t[0]||0!==t[1]||0!==t[2]||1!==t[3]||0!==t[4]||0!==t[5]},"multiply":function multiply(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},"scale":function scale(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[0],t[2]=e[2]*i[1],t[3]=e[3]*i[1],t[4]=e[4],t[5]=e[5],t},"rotate":function rotate(t,e,i){var n=Math.cos(i),r=Math.sin(i),a=e[0]*n+e[2]*r,s=e[1]*n+e[3]*r,o=e[0]*-r+e[2]*n,l=e[1]*-r+e[3]*n;return t[0]=a,t[1]=s,t[2]=o,t[3]=l,t[4]=e[4],t[5]=e[5],t},"translate":function translate(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+e[0]*i[0]+e[2]*i[1],t[5]=e[5]+e[1]*i[0]+e[3]*i[1],t},"transform":function transform(t,e){for(var i=[].concat(t),n=0,r=e.length;n<r;n++){var a=e[n];switch(a[0]){case"t":V.translate(i,i,[a[1],a[2]]);break;case"s":V.scale(i,i,[a[1],a[2]]);break;case"r":V.rotate(i,i,a[1])}}return i}},W={"create":function create(){return[0,0]},"length":function length(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)},"normalize":function normalize(t,e){var i=this.length(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t},"add":function add(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},"sub":function sub(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},"scale":function scale(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},"dot":function dot(t,e){return t[0]*e[0]+t[1]*e[1]},"direction":function direction(t,e){return t[0]*e[1]-e[0]*t[1]},"angle":function angle(t,e){var i=this.dot(t,e)/(this.length(t)*this.length(e));return Math.acos(i)},"angleTo":function angleTo(t,e,i){var n=this.angle(t,e),r=this.direction(t,e)>=0;return i?r?2*Math.PI-n:n:r?n:2*Math.PI-n},"zero":function zero(t){return 0===t[0]&&0===t[1]},"distance":function distance(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)},"clone":function clone(t){return[t[0],t[1]]},"min":function min(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},"max":function max(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t},"transformMat2d":function transformMat2d(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t}},q=[1,0,0,1,0,0],$=function(){var t=Base.prototype;function Base(t){var e,i;this._initDefaultCfg(),mix(this,t),this.plot?(e=this.plot.bl,i=this.plot.tr,this.start=e,this.end=i):(e=this.start,i=this.end),this.init(e,i)}return t._initDefaultCfg=function _initDefaultCfg(){},t._scale=function _scale(t,e){var i=this.matrix,n=this.center;V.translate(i,i,[n.x,n.y]),V.scale(i,i,[t,e]),V.translate(i,i,[-n.x,-n.y])},t.init=function init(t,e){this.matrix=[].concat(q),this.center={"x":(e.x-t.x)/2+t.x,"y":(e.y-t.y)/2+t.y},this.scale&&this._scale(this.scale[0],this.scale[1])},t.convertPoint=function convertPoint(t){var e=this._convertPoint(t),i=e.x,n=e.y;if(!V.isChanged(this.matrix))return{"x":i,"y":n};var r=[i,n];return W.transformMat2d(r,r,this.matrix),{"x":r[0],"y":r[1]}},t.invertPoint=function invertPoint(t){return this._invertPoint(t)},t._convertPoint=function _convertPoint(t){return t},t._invertPoint=function _invertPoint(t){return t},t.reset=function reset(t){this.plot=t;var e=t.bl,i=t.tr;this.start=e,this.end=i,this.init(e,i)},Base}(),U=function(t){function Cartesian(){return t.apply(this,arguments)||this}_inheritsLoose(Cartesian,t);var e=Cartesian.prototype;return e._initDefaultCfg=function _initDefaultCfg(){this.type="cartesian",this.transposed=!1,this.isRect=!0},e.init=function init(e,i){t.prototype.init.call(this,e,i),this.x={"start":e.x,"end":i.x},this.y={"start":e.y,"end":i.y}},e._convertPoint=function _convertPoint(t){var e=this.transposed,i=e?"y":"x",n=e?"x":"y",r=this.x,a=this.y;return{"x":r.start+(r.end-r.start)*t[i],"y":a.start+(a.end-a.start)*t[n]}},e._invertPoint=function _invertPoint(t){var e=this.transposed,i=e?"y":"x",n=e?"x":"y",r=this.x,a=this.y,s={};return s[i]=(t.x-r.start)/(r.end-r.start),s[n]=(t.y-a.start)/(a.end-a.start),s},Cartesian}($);function toScaleString(t,e){return d(e)?e:t.invert(t.scale(e))}$.Cartesian=U,$.Rect=U;var J=function(){function AttributeBase(t){var e=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null;var i=null,n=this.callback;if(t.callback){var r=t.callback;i=function mixedCallback(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var s=r.apply(void 0,i);return l(s)&&(s=n.apply(e,i)),s}}mix(this,t),i&&mix(this,{"callback":i})}var t=AttributeBase.prototype;return t._getAttrValue=function _getAttrValue(t,e){var i=this.values;if(t.isCategory&&!this.linear)return i[t.translate(e)%i.length];var n=t.scale(e);return this.getLinearValue(n)},t.getLinearValue=function getLinearValue(t){var e=this.values,i=e.length-1,n=Math.floor(i*t),r=i*t-n,a=e[n];return a+((n===i?a:e[n+1])-a)*r},t.callback=function callback(t){var e=this.scales[0];return"identity"===e.type?e.value:this._getAttrValue(e,t)},t.getNames=function getNames(){for(var t=this.scales,e=this.names,i=Math.min(t.length,e.length),n=[],r=0;r<i;r++)n.push(e[r]);return n},t.getFields=function getFields(){var t=[];return each(this.scales,function(e){t.push(e.field)}),t},t.getScale=function getScale(t){return this.scales[this.names.indexOf(t)]},t.mapping=function mapping(){for(var t=this.scales,e=this.callback,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var a=n;if(e){for(var s=0,o=n.length;s<o;s++)n[s]=this._toOriginParam(n[s],t[s]);a=e.apply(this,n)}return a=[].concat(a)},t._toOriginParam=function _toOriginParam(t,e){var i=t;if(!e.isLinear)if(c(t)){i=[];for(var n=0,r=t.length;n<r;n++)i.push(toScaleString(e,t[n]))}else i=toScaleString(e,t);return i},AttributeBase}(),Q=function(t){function Position(e){var i;return(i=t.call(this,e)||this).names=["x","y"],i.type="position",i}return _inheritsLoose(Position,t),Position.prototype.mapping=function mapping(t,e){var i,n,r,a=this.scales,s=this.coord,o=a[0],h=a[1];if(l(t)||l(e))return[];if(c(e)&&c(t)){i=[],n=[];for(var u=0,f=0,g=t.length,d=e.length;u<g&&f<d;u++,f++)r=s.convertPoint({"x":o.scale(t[u]),"y":h.scale(e[f])}),i.push(r.x),n.push(r.y)}else if(c(e))t=o.scale(t),n=[],each(e,function(e){e=h.scale(e),r=s.convertPoint({"x":t,"y":e}),i&&i!==r.x?(c(i)||(i=[i]),i.push(r.x)):i=r.x,n.push(r.y)});else if(c(t))e=h.scale(e),i=[],each(t,function(t){t=o.scale(t),r=s.convertPoint({"x":t,"y":e}),n&&n!==r.y?(c(n)||(n=[n]),n.push(r.y)):n=r.y,i.push(r.x)});else{t=o.scale(t),e=h.scale(e);var p=s.convertPoint({"x":t,"y":e});i=p.x,n=p.y}return[i,n]},Position}(J),K=function(t){function Shape(e){var i;return(i=t.call(this,e)||this).names=["shape"],i.type="shape",i.gradient=null,i}return _inheritsLoose(Shape,t),Shape.prototype.getLinearValue=function getLinearValue(t){var e=this.values;return e[Math.round((e.length-1)*t)]},Shape}(J),tt=function(t){function Size(e){var i;return(i=t.call(this,e)||this).names=["size"],i.type="size",i.gradient=null,i}return _inheritsLoose(Size,t),Size}(J);function getValue(t,e,i,n){return t[n]+(e[n]-t[n])*i}function arr2hex(t){return"#"+toRGBValue(t[0])+toRGBValue(t[1])+toRGBValue(t[2])}function toRGBValue(t){return 1===(t=(t=Math.round(t)).toString(16)).length&&(t="0"+t),t}var et={"black":"#000000","blue":"#0000ff","grey":"#808080","green":"#008000","orange":"#ffa500","pink":"#ffc0cb","purple":"#800080","red":"#ff0000","white":"#ffffff","yellow":"#ffff00"};function gradient(t){var e=[];return d(t)&&(t=t.split("-")),each(t,function(t){-1===t.indexOf("#")&&(t=function toHex(t){if(et[t])return et[t];if("#"===t[0]){if(7===t.length)return t;var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return"#"+e+e+i+i+n+n});return et[t]=e,e}var i=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return i.shift(),i=arr2hex(i),et[t]=i,i}(t)),e.push(function hex2arr(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}(t))}),function(t){return function calColor(t,e){var i=t.length-1,n=Math.floor(i*e),r=i*e-n,a=t[n],s=n===i?a:t[n+1];return arr2hex([getValue(a,s,r,0),getValue(a,s,r,1),getValue(a,s,r,2)])}(e,t)}}var it=function(t){function Color(e){var i;return(i=t.call(this,e)||this).names=["color"],i.type="color",i.gradient=null,d(i.values)&&(i.linear=!0),i}return _inheritsLoose(Color,t),Color.prototype.getLinearValue=function getLinearValue(t){var e=this.gradient;e||(e=gradient(this.values),this.gradient=e);return e(t)},Color}(J),nt=Object.freeze({"__proto__":null,"Position":Q,"Shape":K,"Size":tt,"Color":it}),rt={},at={"_coord":null,"draw":function draw(t,e){this.drawShape&&this.drawShape(t,e)},"setCoord":function setCoord(t){this._coord=t},"parsePoint":function parsePoint(t){var e=this._coord;return e.isPolar&&(1===t.x&&(t.x=.9999999),1===t.y&&(t.y=.9999999)),e.convertPoint(t)},"parsePoints":function parsePoints(t){if(!t)return!1;var e=this,i=[];return t.forEach(function(t){i.push(e.parsePoint(t))}),i}},st={"defaultShapeType":null,"setCoord":function setCoord(t){this._coord=t},"getShape":function getShape(t){c(t)&&(t=t[0]);var e=this[t]||this[this.defaultShapeType];return e._coord=this._coord,e},"getShapePoints":function getShapePoints(t,e){var i=this.getShape(t);return(i.getPoints||i.getShapePoints||this.getDefaultPoints)(e)},"getDefaultPoints":function getDefaultPoints(){return[]},"drawShape":function drawShape(t,e,i){var n=this.getShape(t);return e.color||(e.color=j.colors[0]),n.draw(e,i)}};function _mix$1(t,e){for(var i in e)e.hasOwnProperty(i)&&"constructor"!==i&&void 0!==e[i]&&(t[i]=e[i])}rt.registerFactory=function(t,e){var i=_(t),n=mix({},st,e);return rt[i]=n,n.name=t,n},rt.registerShape=function(t,e,i){var n=_(t),r=rt[n],a=mix({},at,i);return r[e]=a,a},rt.registShape=rt.registerShape,rt.getShapeFactory=function(t){return this[_(t=t||"point")]};var ot=function mix(t,e,i,n){return e&&_mix$1(t,e),i&&_mix$1(t,i),n&&_mix$1(t,n),t},lt=function(){var t=Adjust.prototype;function Adjust(t){this._initDefaultCfg(),ot(this,t)}return t._initDefaultCfg=function _initDefaultCfg(){this.adjustNames=["x","y"]},t.processAdjust=function processAdjust(){},Adjust}(),ct=["color","size","shape"];function parseFields(t){return c(t)?t:d(t)?t.split("*"):[t]}var ht=function(t){function Geom(){return t.apply(this,arguments)||this}_inheritsLoose(Geom,t);var e=Geom.prototype;return e.getDefaultCfg=function getDefaultCfg(){return{"type":null,"data":null,"attrs":{},"scales":{},"container":null,"styleOptions":null,"chart":null,"shapeType":"","generatePoints":!1,"attrOptions":{},"sortable":!1,"startOnZero":!0,"visible":!0,"connectNulls":!1,"ignoreEmptyGroup":!1,"isInit":!1}},e.init=function init(){this.get("isInit")||(this._initAttrs(),this._processData(),this.set("isInit",!0))},e._getGroupScales=function _getGroupScales(){var t=this,e=[];return each(ct,function(i){var n=t.getAttr(i);n&&each(n.scales,function(t){t&&t.isCategory&&-1===e.indexOf(t)&&e.push(t)})}),e},e._groupData=function _groupData(t){var e=this.get("colDefs"),i=this._getGroupScales();if(i.length){var n={},r=[];return each(i,function(t){var i=t.field;r.push(i),e&&e[i]&&e[i].values&&(n[t.field]=e[i].values)}),group(t,r,n)}return[t]},e._setAttrOptions=function _setAttrOptions(t,e){this.get("attrOptions")[t]=e;var i=this.get("attrs");Object.keys(i).length&&this._createAttr(t,e)},e._createAttrOption=function _createAttrOption(t,e,i,n){var r={};r.field=e,i?s(i)?r.callback=i:r.values=i:r.values=n,this._setAttrOptions(t,r)},e._createAttr=function _createAttr(t,e){var i=this.get("attrs"),n=this.get("coord"),r=_(t),a=parseFields(e.field);"position"===t&&(e.coord=n);for(var s=[],o=0,l=a.length;o<l;o++){var c=a[o],h=this._createScale(c);s.push(h)}if("position"===t){var u=s[1];"polar"===n.type&&n.transposed&&this.hasAdjust("stack")&&u.values.length&&u.change({"nice":!1,"min":0,"max":Math.max.apply(null,u.values)})}e.scales=s;var f=new nt[r](e);return i[t]=f,f},e._initAttrs=function _initAttrs(){var t=this.get("attrOptions");for(var e in t)t.hasOwnProperty(e)&&this._createAttr(e,t[e])},e._createScale=function _createScale(t){var e=this.get("scales"),i=e[t];return i||(i=this.get("chart").createScale(t),e[t]=i),i},e._processData=function _processData(){var t=this.get("data"),e=[],i=this._groupData(t);if(this.get("ignoreEmptyGroup")){var n=this.getYScale();i=i.filter(function(t){return t.some(function(t){return void 0!==t[n.field]})})}for(var r=0,a=i.length;r<a;r++){var s=i[r],o=this._saveOrigin(s);this.hasAdjust("dodge")&&this._numberic(o),e.push(o)}return this.get("adjust")&&this._adjustData(e),this.get("sortable")&&this._sort(e),this.emit("afterprocessdata",{"dataArray":e}),this.set("mappingData",e),this.set("dataArray",e),e},e._saveOrigin=function _saveOrigin(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i],a={};for(var s in r)a[s]=r[s];a._origin=r,e.push(a)}return e},e._numberic=function _numberic(t){for(var e=this.getAttr("position").scales,i=0,n=t.length;i<n;i++)for(var r=t[i],a=Math.min(2,e.length),s=0;s<a;s++){var o=e[s];if(o.isCategory){var l=o.field;r[l]=o.translate(r[l])}}},e._adjustData=function _adjustData(t){var e=this.get("adjust");if(e){var i=_(e.type);if(!lt[i])throw new Error("not support such adjust : "+e);var n=this.getXScale(),r=this.getYScale(),a=mix({"xField":n.field,"yField":r.field},e);new lt[i](a).processAdjust(t),"Stack"===i&&this._updateStackRange(r.field,r,t)}},e._updateStackRange=function _updateStackRange(t,e,i){for(var n=merge(i),r=e.min,a=e.max,s=0,o=n.length;s<o;s++){var l=n[s],c=Math.min.apply(null,l[t]),h=Math.max.apply(null,l[t]);c<r&&(r=c),h>a&&(a=h)}(r<e.min||a>e.max)&&e.change({"min":r,"max":a})},e._sort=function _sort(t){var e=this.getXScale(),i=e.field,n=e.type;"identity"!==n&&e.values.length>1&&each(t,function(t){t.sort(function(t,r){return"timeCat"===n?toTimeStamp(t._origin[i])-toTimeStamp(r._origin[i]):e.translate(t._origin[i])-e.translate(r._origin[i])})}),this.set("hasSorted",!0),this.set("dataArray",t)},e.paint=function paint(){var t=this.get("mappingData"),e=[],i=this.getShapeFactory();i.setCoord(this.get("coord")),this._beforeMapping(t);for(var n=0,r=t.length;n<r;n++){var a=t[n];if(a.length){var s=this._mapping(a);e.push(s),this.draw(s,i)}}this.set("dataArray",e)},e.getShapeFactory=function getShapeFactory(){var t=this.get("shapeFactory");if(!t){var e=this.get("shapeType");t=rt.getShapeFactory(e),this.set("shapeFactory",t)}return t},e._mapping=function _mapping(t){var e=this.get("attrs"),i=this.getYScale().field,n={},r=new Array(t.length);for(var a in e)if(e.hasOwnProperty(a))for(var s=e[a],o=s.names,l=s.scales,h=0,u=t.length;h<u;h++){var f=t[h],g=_extends({},f,r[h]);if(g._originY=f[i],"position"===s.type)for(var d=this._getAttrValues(s,f),p=0,v=d.length;p<v;p++){var m=d[p];g[o[p]]=c(m)&&1===m.length?m[0]:m}else{var y=o[0],x=""+y+f[l[0].field],_=n[x];_||(_=this._getAttrValues(s,f),n[x]=_),g[y]=_[0]}r[h]=g}return r},e._getAttrValues=function _getAttrValues(t,e){for(var i=t.scales,n=[],r=0,a=i.length;r<a;r++){var s=i[r],o=s.field;"identity"===s.type?n.push(s.value):n.push(e[o])}return t.mapping.apply(t,n)},e.getAttrValue=function getAttrValue(t,e){var i=this.getAttr(t),n=null;i&&(n=this._getAttrValues(i,e)[0]);return n},e._beforeMapping=function _beforeMapping(t){this.get("generatePoints")&&this._generatePoints(t)},e.isInCircle=function isInCircle(){var t=this.get("coord");return t&&t.isPolar},e.getCallbackCfg=function getCallbackCfg(t,e,i){if(!t)return e;var n={},r=t.map(function(t){return i[t]});return each(e,function(t,e){s(t)?n[e]=t.apply(null,r):n[e]=t}),n},e.getDrawCfg=function getDrawCfg(t){var e=this.isInCircle(),i={"origin":t,"x":t.x,"y":t.y,"color":t.color,"size":t.size,"shape":t.shape,"isInCircle":e,"opacity":t.opacity},n=this.get("styleOptions");return n&&n.style&&(i.style=this.getCallbackCfg(n.fields,n.style,t._origin)),this.get("generatePoints")&&(i.points=t.points,i.nextPoints=t.nextPoints),e&&(i.center=this.get("coord").center),i},e.draw=function draw(t,e){var i=this,n=i.get("container"),r=i.getYScale();each(t,function(t,a){if(!r||!l(t._origin[r.field])){t.index=a;var s=i.getDrawCfg(t),o=t.shape;i.drawShape(o,t,s,n,e)}})},e.drawShape=function drawShape(t,e,i,n,r){var a=r.drawShape(t,i,n);a&&each([].concat(a),function(t){t.set("origin",e)})},e._generatePoints=function _generatePoints(t){var e=this,i=e.getShapeFactory(),n=e.getAttr("shape");each(t,function(t){for(var r=0,a=t.length;r<a;r++){var s=t[r],o=e.createShapePointsCfg(s),l=n?e._getAttrValues(n,s):null,c=i.getShapePoints(l,o);s.points=c}}),each(t,function(e,i){var n=t[i+1];n&&(e[0].nextPoints=n[0].points)})},e.createShapePointsCfg=function createShapePointsCfg(t){var e=this.getXScale(),i=this.getYScale();return{"x":this._normalizeValues(t[e.field],e),"y":i?this._normalizeValues(t[i.field],i):t.y?t.y:.1,"y0":i?i.scale(this.getYMinValue()):void 0}},e.getYMinValue=function getYMinValue(){var t=this.getYScale(),e=t.min,i=t.max;return this.get("startOnZero")?i<=0&&e<=0?i:e>=0?e:0:e},e._normalizeValues=function _normalizeValues(t,e){var i=[];if(c(t))for(var n=0,r=t.length;n<r;n++){var a=t[n];i.push(e.scale(a))}else i=e.scale(t);return i},e.getAttr=function getAttr(t){return this.get("attrs")[t]},e.getXScale=function getXScale(){return this.getAttr("position").scales[0]},e.getYScale=function getYScale(){return this.getAttr("position").scales[1]},e.hasAdjust=function hasAdjust(t){return this.get("adjust")&&this.get("adjust").type===t},e._getSnap=function _getSnap(t,e,i){var n,r=0,a=this.getYScale().field;if(this.hasAdjust("stack")&&t.field===a){n=[],i.forEach(function(t){n.push(t._originY)});for(var s=n.length;r<s&&!(n[0][0]>e);r++){if(n[n.length-1][1]<=e){r=n.length-1;break}if(n[r][0]<=e&&n[r][1]>e)break}}else{(n=t.values).sort(function(t,e){return t-e});for(var o=n.length;r<o&&!(o<=1)&&!((n[0]+n[1])/2>e)&&!((n[r-1]+n[r])/2<=e&&(n[r+1]+n[r])/2>e);r++)if((n[n.length-2]+n[n.length-1])/2<=e){r=n.length-1;break}}return n[r]},e.getSnapRecords=function getSnapRecords(t){var e=this,i=e.get("coord"),n=e.getXScale(),r=e.getYScale(),a=n.field,s=e.get("dataArray");this.get("hasSorted")||this._sort(s);var o=[],h=i.invertPoint(t),u=h.x;e.isInCircle()&&!i.transposed&&u>(1+n.rangeMax())/2&&(u=n.rangeMin());var f=n.invert(u);n.isCategory||(f=e._getSnap(n,f));var g=[];if(s.forEach(function(t){t.forEach(function(t){var i=l(t._origin)?t[a]:t._origin[a];e._isEqual(i,f,n)&&g.push(t)})}),this.hasAdjust("stack")&&i.isPolar&&i.transposed){if(u>=0&&u<=1){var d=r.invert(h.y);d=e._getSnap(r,d,g),g.forEach(function(t){(c(d)?t._originY.toString()===d.toString():t._originY===d)&&o.push(t)})}}else o=g;return o},e.getRecords=function getRecords(t){var e=this,i=this.getXScale(),n=this.get("dataArray"),r=i.field;return n.map(function(n){for(var a=n.length-1;a>=0;a--){var s=n[a],o=l(s._origin)?s[r]:s._origin[r];if(e._isEqual(o,t,i))return s}return null})},e._isEqual=function _isEqual(t,e,i){return"timeCat"===i.type?toTimeStamp(t)===e:e===t},e.position=function position(t){return this._setAttrOptions("position",{"field":t}),this},e.color=function color(t,e){return this._createAttrOption("color",t,e,j.colors),this},e.size=function size(t,e){return this._createAttrOption("size",t,e,j.sizes),this},e.shape=function shape(t,e){var i=this.get("type"),n=j.shapes[i]||[];return this._createAttrOption("shape",t,e,n),this},e.style=function style(t,e){var i,n=this.get("styleOptions");return n||(n={},this.set("styleOptions",n)),h(t)&&(e=t,t=null),t&&(i=parseFields(t)),n.fields=i,n.style=e,this},e.adjust=function adjust(t){return d(t)&&(t={"type":t}),this.set("adjust",t),this},e.animate=function animate(t){return this.set("animateCfg",t),this},e.changeData=function changeData(t){this.set("data",t),this.set("scales",{}),this.get("isInit")&&(this.set("isInit",!1),this.init())},e.clearInner=function clearInner(){var t=this.get("container");t&&t.clear()},e.reset=function reset(){this.set("isInit",!1),this.set("attrs",{}),this.set("attrOptions",{}),this.set("adjust",null),this.clearInner()},e.clear=function clear(){this.clearInner()},e.destroy=function destroy(){this.set("isInit",!1),this.clear(),t.prototype.destroy.call(this)},e._display=function _display(t){this.set("visible",t);var e=this.get("container"),i=e.get("canvas");e.set("visible",t),i.draw()},e.show=function show(){this._display(!0)},e.hide=function hide(){this._display(!1)},Geom}(X),ut={};function getTickMethod(t){return ut[t]}function registerTickMethod(t,e){ut[t]=e}var ft=function(){function Scale(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return Scale.prototype.translate=function(t){return t},Scale.prototype.change=function(t){mix(this.__cfg__,t),this.init()},Scale.prototype.clone=function(){return this.constructor(this.__cfg__)},Scale.prototype.getTicks=function(){var t=this;return I(this.ticks,function(e,i){return h(e)?e:{"text":t.getText(e,i),"tickValue":e,"value":t.scale(e)}})},Scale.prototype.getText=function(t,e){var i=this.formatter,n=i?i(t,e):t;return l(n)||!s(n.toString)?"":n.toString()},Scale.prototype.getConfig=function(t){return this.__cfg__[t]},Scale.prototype.init=function(){mix(this,this.__cfg__),this.setDomain(),function isEmpty(t){if(l(t))return!0;if(e(t))return!t.length;var i=C(t);if("Map"===i||"Set"===i)return!t.size;if(b(t))return!Object.keys(t).length;for(var n in t)if(A.call(t,n))return!1;return!0}(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},Scale.prototype.initCfg=function(){},Scale.prototype.setDomain=function(){},Scale.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(d(t)){var i=getTickMethod(t);if(!i)throw new Error("There is no method to to calculate ticks!");e=i(this)}else s(t)&&(e=t(this));return e},Scale.prototype.rangeMin=function(){return head(this.range)},Scale.prototype.rangeMax=function(){return last(this.range)},Scale.prototype.calcPercent=function(t,e,i){return m(t)?(t-e)/(i-e):NaN},Scale.prototype.calcValue=function(t,e,i){return e+t*(i-e)},Scale}(),gt=function extendStatics(t,e){return(gt=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function __extends(t,e){function __(){this.constructor=t}gt(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var dt=function(t){function Category(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return __extends(Category,t),Category.prototype.translate=function(t){var e=D(this.values,t);return-1===e?m(t)?t:NaN:e},Category.prototype.scale=function(t){var e=this.translate(t),i=this.calcPercent(e,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},Category.prototype.invert=function(t){var e=this.max-this.min,i=this.calcPercent(t,this.rangeMin(),this.rangeMax()),n=Math.round(e*i)+this.min;return n<this.min||n>this.max?NaN:this.values[n]},Category.prototype.getText=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=e;return m(e)&&!this.values.includes(e)&&(r=this.values[r]),t.prototype.getText.apply(this,function __spreadArrays(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,r++)n[r]=a[s];return n}([r],i))},Category.prototype.initCfg=function(){this.tickMethod="cat"},Category.prototype.setDomain=function(){if(l(this.getConfig("min"))&&(this.min=0),l(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}},Category}(ft),pt=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,vt="[^\\s]+",mt=/\[([^]*?)\]/gm;function shorten(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i.push(t[n].substr(0,e));return i}var yt=function monthUpdate(t){return function(e,i){var n=i[t].map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase());return n>-1?n:null}};function assign(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0,r=e;n<r.length;n++){var a=r[n];for(var s in a)t[s]=a[s]}return t}var xt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_t=["January","February","March","April","May","June","July","August","September","October","November","December"],St=shorten(_t,3),Ct={"dayNamesShort":shorten(xt,3),"dayNames":xt,"monthNamesShort":St,"monthNames":_t,"amPm":["am","pm"],"DoFn":function DoFn(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},Pt=assign({},Ct),Mt=function setGlobalDateI18n(t){return Pt=assign(Pt,t)},wt=function regexEscape(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},bt=function pad(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},Tt={"D":function D(t){return String(t.getDate())},"DD":function DD(t){return bt(t.getDate())},"Do":function Do(t,e){return e.DoFn(t.getDate())},"d":function d(t){return String(t.getDay())},"dd":function dd(t){return bt(t.getDay())},"ddd":function ddd(t,e){return e.dayNamesShort[t.getDay()]},"dddd":function dddd(t,e){return e.dayNames[t.getDay()]},"M":function M(t){return String(t.getMonth()+1)},"MM":function MM(t){return bt(t.getMonth()+1)},"MMM":function MMM(t,e){return e.monthNamesShort[t.getMonth()]},"MMMM":function MMMM(t,e){return e.monthNames[t.getMonth()]},"YY":function YY(t){return bt(String(t.getFullYear()),4).substr(2)},"YYYY":function YYYY(t){return bt(t.getFullYear(),4)},"h":function h(t){return String(t.getHours()%12||12)},"hh":function hh(t){return bt(t.getHours()%12||12)},"H":function H(t){return String(t.getHours())},"HH":function HH(t){return bt(t.getHours())},"m":function m(t){return String(t.getMinutes())},"mm":function mm(t){return bt(t.getMinutes())},"s":function s(t){return String(t.getSeconds())},"ss":function ss(t){return bt(t.getSeconds())},"S":function S(t){return String(Math.round(t.getMilliseconds()/100))},"SS":function SS(t){return bt(Math.round(t.getMilliseconds()/10),2)},"SSS":function SSS(t){return bt(t.getMilliseconds(),3)},"a":function a(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},"A":function A(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},"ZZ":function ZZ(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+bt(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},"Z":function Z(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+bt(Math.floor(Math.abs(e)/60),2)+":"+bt(Math.abs(e)%60,2)}},kt=function monthParse(t){return+t-1},Dt=[null,"[1-9]\\d?"],At=[null,vt],It=["isPm",vt,function(t,e){var i=t.toLowerCase();return i===e.amPm[0]?0:i===e.amPm[1]?1:null}],Yt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var i=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?i:-i}return 0}],Lt={"D":["day","[1-9]\\d?"],"DD":["day","\\d\\d"],"Do":["day","[1-9]\\d?"+vt,function(t){return parseInt(t,10)}],"M":["month","[1-9]\\d?",kt],"MM":["month","\\d\\d",kt],"YY":["year","\\d\\d",function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],"h":["hour","[1-9]\\d?",void 0,"isPm"],"hh":["hour","\\d\\d",void 0,"isPm"],"H":["hour","[1-9]\\d?"],"HH":["hour","\\d\\d"],"m":["minute","[1-9]\\d?"],"mm":["minute","\\d\\d"],"s":["second","[1-9]\\d?"],"ss":["second","\\d\\d"],"YYYY":["year","\\d{4}"],"S":["millisecond","\\d",function(t){return 100*+t}],"SS":["millisecond","\\d\\d",function(t){return 10*+t}],"SSS":["millisecond","\\d{3}"],"d":Dt,"dd":Dt,"ddd":At,"dddd":At,"MMM":["month",vt,yt("monthNamesShort")],"MMMM":["month",vt,yt("monthNames")],"a":It,"A":It,"ZZ":Yt,"Z":Yt},Et={"default":"ddd MMM DD YYYY HH:mm:ss","shortDate":"M/D/YY","mediumDate":"MMM D, YYYY","longDate":"MMMM D, YYYY","fullDate":"dddd, MMMM D, YYYY","isoDate":"YYYY-MM-DD","isoDateTime":"YYYY-MM-DDTHH:mm:ssZ","shortTime":"HH:mm","mediumTime":"HH:mm:ss","longTime":"HH:mm:ss.SSS"},Ot=function setGlobalDateMasks(t){return assign(Et,t)},Bt=function format(t,e,i){if(void 0===e&&(e=Et.default),void 0===i&&(i={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var n=[];e=(e=Et[e]||e).replace(mt,function(t,e){return n.push(e),"@@@"});var r=assign(assign({},Pt),i);return(e=e.replace(pt,function(e){return Tt[e](t,r)})).replace(/@@@/g,function(){return n.shift()})};function parse(t,e,i){if(void 0===i&&(i={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=Et[e]||e,t.length>1e3)return null;var n={"year":(new Date).getFullYear(),"month":0,"day":1,"hour":0,"minute":0,"second":0,"millisecond":0,"isPm":null,"timezoneOffset":null},r=[],a=[],s=e.replace(mt,function(t,e){return a.push(wt(e)),"@@@"}),o={},l={};s=wt(s).replace(pt,function(t){var e=Lt[t],i=e[0],n=e[1],a=e[3];if(o[i])throw new Error("Invalid format. "+i+" specified twice in format");return o[i]=!0,a&&(l[a]=!0),r.push(e),"("+n+")"}),Object.keys(l).forEach(function(t){if(!o[t])throw new Error("Invalid format. "+t+" is required in specified format")}),s=s.replace(/@@@/g,function(){return a.shift()});var c=t.match(new RegExp(s,"i"));if(!c)return null;for(var h=assign(assign({},Pt),i),u=1;u<c.length;u++){var f=r[u-1],g=f[0],d=f[2],p=d?d(c[u],h):+c[u];if(null==p)return null;n[g]=p}1===n.isPm&&null!=n.hour&&12!=+n.hour?n.hour=+n.hour+12:0===n.isPm&&12==+n.hour&&(n.hour=0);for(var v=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond),m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],y=(u=0,m.length);u<y;u++)if(o[m[u][0]]&&n[m[u][0]]!==v[m[u][1]]())return null;return null==n.timezoneOffset?v:new Date(Date.UTC(n.year,n.month,n.day,n.hour,n.minute-n.timezoneOffset,n.second,n.millisecond))}var Ft={"format":Bt,"parse":parse,"defaultI18n":Ct,"setGlobalDateI18n":Mt,"setGlobalDateMasks":Ot},zt=Object.freeze({"__proto__":null,"default":Ft,"assign":assign,"format":Bt,"parse":parse,"defaultI18n":Ct,"setGlobalDateI18n":Mt,"setGlobalDateMasks":Ot});var Nt="format";function timeFormat(t,e){return(zt[Nt]||Ft[Nt])(t,e)}function toTimeStamp$1(t){return d(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),M(t)&&(t=t.getTime()),t}var Gt=1e3,jt=60*Gt,Rt=60*jt,Xt=24*Rt,Ht=31*Xt,Vt=365*Xt,Wt=[["HH:mm:ss",Gt],["HH:mm:ss",10*Gt],["HH:mm:ss",30*Gt],["HH:mm",jt],["HH:mm",10*jt],["HH:mm",30*jt],["HH",Rt],["HH",6*Rt],["HH",12*Rt],["YYYY-MM-DD",Xt],["YYYY-MM-DD",4*Xt],["YYYY-WW",7*Xt],["YYYY-MM",Ht],["YYYY-MM",4*Ht],["YYYY-MM",6*Ht],["YYYY",380*Xt]];function getTickInterval(t,e,i){var n=(e-t)/i,r=function bisector(t){return function(e,i,n,r){for(var a=l(n)?0:n,s=l(r)?e.length:r;a<s;){var o=a+s>>>1;t(e[o])>i?s=o:a=o+1}return a}}(function(t){return t[1]})(Wt,n)-1,a=Wt[r];return r<0?a=Wt[0]:r>=Wt.length&&(a=last(Wt)),a}var qt=function(t){function TimeCat(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return __extends(TimeCat,t),TimeCat.prototype.translate=function(t){t=toTimeStamp$1(t);var e=this.values.indexOf(t);return-1===e&&(e=m(t)&&t<this.values.length?t:NaN),e},TimeCat.prototype.getText=function(t,e){var i=this.translate(t);if(i>-1){var n=this.values[i],r=this.formatter;return n=r?r(n,e):timeFormat(n,this.mask)}return t},TimeCat.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},TimeCat.prototype.setDomain=function(){var e=this.values;each(e,function(t,i){e[i]=toTimeStamp$1(t)}),e.sort(function(t,e){return t-e}),t.prototype.setDomain.call(this)},TimeCat}(dt),$t=function(t){function Continuous(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return __extends(Continuous,t),Continuous.prototype.scale=function(t){if(l(t))return NaN;var e=this.rangeMin(),i=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(i-e)},Continuous.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,i=head(e),n=last(e);i<this.min&&(this.min=i),n>this.max&&(this.max=n),l(this.minLimit)||(this.min=i),l(this.maxLimit)||(this.max=n)},Continuous.prototype.setDomain=function(){var t=function getRange(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{"min":0,"max":0};if(c(t[0])){for(var i=[],n=0;n<t.length;n++)i=i.concat(t[n]);e=i}var r=Math.max.apply(null,e);return{"min":Math.min.apply(null,e),"max":r}}(this.values),e=t.min,i=t.max;l(this.min)&&(this.min=e),l(this.max)&&(this.max=i),this.min>this.max&&(this.min=e,this.max=i)},Continuous.prototype.calculateTicks=function(){var e=this,i=t.prototype.calculateTicks.call(this);return this.nice||(i=n(i,function(t){return t>=e.min&&t<=e.max})),i},Continuous.prototype.getScalePercent=function(t){var e=this.max,i=this.min;return(t-i)/(e-i)},Continuous.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},Continuous}(ft),Zt=function(t){function Linear(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return __extends(Linear,t),Linear.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},Linear.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},Linear}($t);function calBase(t,e){var i=Math.E;return e>=0?Math.pow(i,Math.log(e)/t):-1*Math.pow(i,Math.log(-e)/t)}function log(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function getLogPositiveMin(t,e,i){l(i)&&(i=Math.max.apply(null,t));var n=i;return each(t,function(t){t>0&&t<n&&(n=t)}),n===i&&(n=i/e),n>1&&(n=1),n}var Ut=function(t){function Log(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return __extends(Log,t),Log.prototype.invert=function(t){var e,i=this.base,n=log(i,this.max),r=this.rangeMin(),a=this.rangeMax()-r,s=this.positiveMin;if(s){if(0===t)return 0;var o=1/(n-(e=log(i,s/i)))*a;if(t<o)return t/o*s}else e=log(i,this.min);var l=(t-r)/a*(n-e)+e;return Math.pow(i,l)},Log.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},Log.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=getLogPositiveMin(this.values,this.base,this.max))},Log.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;if(t<=0)return 0;var n=this.base,r=this.positiveMin;return r&&(i=1*r/n),t<r?t/r/(log(n,e)-log(n,i)):(log(n,t)-log(n,i))/(log(n,e)-log(n,i))},Log}($t),Jt=function(t){function Pow(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return __extends(Pow,t),Pow.prototype.invert=function(t){var e=this.getInvertPercent(t),i=this.exponent,n=calBase(i,this.max),r=calBase(i,this.min),a=e*(n-r)+r,s=a>=0?1:-1;return Math.pow(a,i)*s},Pow.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},Pow.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;var n=this.exponent;return(calBase(n,t)-calBase(n,i))/(calBase(n,e)-calBase(n,i))},Pow}($t),Qt=function(t){function Time(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return __extends(Time,t),Time.prototype.getText=function(t,e){var i=this.translate(t),n=this.formatter;return n?n(i,e):timeFormat(i,this.mask)},Time.prototype.scale=function(e){var i=e;return(d(i)||M(i))&&(i=this.translate(i)),t.prototype.scale.call(this,i)},Time.prototype.translate=function(t){return toTimeStamp$1(t)},Time.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},Time.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),i=this.getConfig("max");if(l(e)&&m(e)||(this.min=this.translate(this.min)),l(i)&&m(i)||(this.max=this.translate(this.max)),t&&t.length){var n=[],r=1/0,a=r,s=0;each(t,function(t){var e=toTimeStamp$1(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");r>e?(a=r,r=e):a>e&&(a=e),s<e&&(s=e),n.push(e)}),t.length>1&&(this.minTickInterval=a-r),l(e)&&(this.min=r),l(i)&&(this.max=s)}},Time}(Zt),Kt=function(t){function Quantize(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return __extends(Quantize,t),Quantize.prototype.invert=function(t){var e=this.ticks,i=e.length,n=this.getInvertPercent(t),r=Math.floor(n*(i-1));if(r>=i-1)return last(e);if(r<0)return head(e);var a=e[r],s=r/(i-1);return a+(n-s)/((r+1)/(i-1)-s)*(e[r+1]-a)},Quantize.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},Quantize.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(last(e)!==this.max&&e.push(this.max),head(e)!==this.min&&e.unshift(this.min)),e},Quantize.prototype.getScalePercent=function(t){var e=this.ticks;if(t<head(e))return 0;if(t>last(e))return 1;var i=0;return each(e,function(e,n){if(!(t>=e))return!1;i=n}),i/(e.length-1)},Quantize}($t),te=function(t){function Quantile(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return __extends(Quantile,t),Quantile.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},Quantile}(Kt),ee={};function getClass(t){return ee[t]}function registerClass(t,e){if(getClass(t))throw new Error("type '"+t+"' existed.");ee[t]=e}var ie=function(t){function Identity(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return __extends(Identity,t),Identity.prototype.calculateTicks=function(){return this.values},Identity.prototype.scale=function(t){return this.values[0]!==t&&m(t)?t:this.range[0]},Identity.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},Identity}(ft),ne=[1,5,2,2.5,4,3],re=100*Number.EPSILON;function simplicity(t,e,i,n,r,a){var s=size(e),o=D(e,t),l=0,c=function mod(t,e){return(t%e+e)%e}(n,a);return(c<re||a-c<re)&&n<=0&&r>=0&&(l=1),1-o/(s-1)-i+l}function simplicityMax(t,e,i){var n=size(e);return 1-D(e,t)/(n-1)-i+1}function density(t,e,i,n,r,a){var s=(t-1)/(a-r),o=(e-1)/(Math.max(a,n)-Math.min(i,r));return 2-Math.max(s/o,o/s)}function densityMax(t,e){return t>=e?2-(t-1)/(e-1):1}function coverage(t,e,i,n){var r=e-t;return 1-.5*(Math.pow(e-n,2)+Math.pow(t-i,2))/Math.pow(.1*r,2)}function coverageMax(t,e,i){var n=e-t;if(i>n){var r=(i-n)/2;return 1-Math.pow(r,2)/Math.pow(.1*n,2)}return 1}function extended(t,e,i,n,r,a){if(void 0===i&&(i=5),void 0===n&&(n=!0),void 0===r&&(r=ne),void 0===a&&(a=[.25,.2,.5,.05]),t===e||1===i)return{"min":t,"max":e,"ticks":[t]};for(var s={"score":-2,"lmin":0,"lmax":0,"lstep":0},o=1;o<1/0;){for(var l=0,c=r;l<c.length;l++){var h=c[l],u=simplicityMax(h,r,o);if(Number.isNaN(u))throw new Error("NaN");if(a[0]*u+a[1]+a[2]+a[3]<s.score){o=1/0;break}for(var f=2;f<1/0;){var g=densityMax(f,i);if(a[0]*u+a[1]+a[2]*g+a[3]<s.score)break;for(var d=(e-t)/(f+1)/o/h,p=Math.ceil(Math.log10(d));p<1/0;){var v=o*h*Math.pow(10,p),m=coverageMax(t,e,v*(f-1));if(a[0]*u+a[1]*m+a[2]*g+a[3]<s.score)break;var y=Math.floor(e/v)*o-(f-1)*o,x=Math.ceil(t/v)*o;if(y>x)p+=1;else{for(var _=y;_<=x;_+=1){var S=_*(v/o),C=S+v*(f-1),P=v,M=simplicity(h,r,o,S,C,P),w=coverage(t,e,S,C),b=density(f,i,t,e,S,C),T=a[0]*M+a[1]*w+a[2]*b+1*a[3];T>s.score&&(!n||S<=t&&C>=e)&&(s.lmin=S,s.lmax=C,s.lstep=P,s.score=T)}p+=1}}f+=1}}o+=1}for(var k=Number.isInteger(s.lstep)?0:Math.ceil(Math.abs(Math.log10(s.lstep))),D=[],A=s.lmin;A<=s.lmax;A+=s.lstep)D.push(A);var Y=k?I(D,function(t){return Number.parseFloat(t.toFixed(k))}):D;return{"min":Math.min(t,head(Y)),"max":Math.max(e,last(Y)),"ticks":Y}}function calculateCatTicks(t){var e=t.values,i=t.tickInterval,r=t.tickCount,a=e;if(m(i))return n(a,function(t,e){return e%i==0});var s=t.min,o=t.max;if(l(s)&&(s=0),l(o)&&(o=e.length-1),m(r)&&r<o-s){var c=extended(s,o,r,!1,[1,2,5,3,4,7,6,8,9]).ticks;return n(c,function(t){return t>=s&&t<=o}).map(function(t){return e[t]})}return e.slice(s,o+1)}var ae=Math.sqrt(50),se=Math.sqrt(10),oe=Math.sqrt(2),le=function(){function D3Linear(){this._domain=[0,1]}return D3Linear.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},D3Linear.prototype.nice=function(t){var e,i;void 0===t&&(t=5);var n,r=this._domain.slice(),a=0,s=this._domain.length-1,o=this._domain[a],l=this._domain[s];return l<o&&(o=(e=[l,o])[0],l=e[1],a=(i=[s,a])[0],s=i[1]),(n=tickIncrement(o,l,t))>0?n=tickIncrement(o=Math.floor(o/n)*n,l=Math.ceil(l/n)*n,t):n<0&&(n=tickIncrement(o=Math.ceil(o*n)/n,l=Math.floor(l*n)/n,t)),n>0?(r[a]=Math.floor(o/n)*n,r[s]=Math.ceil(l/n)*n,this.domain(r)):n<0&&(r[a]=Math.ceil(o*n)/n,r[s]=Math.floor(l*n)/n,this.domain(r)),this},D3Linear.prototype.ticks=function(t){return void 0===t&&(t=5),function d3ArrayTicks(t,e,i){var n,r,a,s,o=-1;if(i=+i,(t=+t)==(e=+e)&&i>0)return[t];(n=e<t)&&(r=t,t=e,e=r);if(0===(s=tickIncrement(t,e,i))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),a=new Array(r=Math.ceil(e-t+1));++o<r;)a[o]=(t+o)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),a=new Array(r=Math.ceil(t-e+1));++o<r;)a[o]=(t-o)/s;n&&a.reverse();return a}(this._domain[0],this._domain[this._domain.length-1],t||5)},D3Linear}();function tickIncrement(t,e,i){var n=(e-t)/Math.max(0,i),r=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,r);return r>=0?(a>=ae?10:a>=se?5:a>=oe?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=ae?10:a>=se?5:a>=oe?2:1)}function snapMultiple(t,e,i){return("ceil"===i?Math.ceil(t/e):"floor"===i?Math.floor(t/e):Math.round(t/e))*e}function intervalTicks(t,e,i){var n=snapMultiple(t,i,"floor"),r=snapMultiple(e,i,"ceil");n=v(n,i),r=v(r,i);for(var a=[],s=n;s<=r;s+=i){var o=v(s,i);a.push(o)}return{"min":n,"max":r,"ticks":a}}function strictLimit(t,e,i){var n,r=t.minLimit,a=t.maxLimit,s=t.min,o=t.max,c=t.tickCount,h=void 0===c?5:c,u=l(r)?l(e)?s:e:r,f=l(a)?l(i)?o:i:a;if(u>f&&(f=(n=[u,f])[0],u=n[1]),h<=2)return[u,f];for(var g=(f-u)/(h-1),d=[],p=0;p<h;p++)d.push(u+g*p);return d}function pretty(t,e,i){void 0===i&&(i=5);var n={"max":0,"min":0,"ticks":[]},r=(e-t)/i,a=Math.pow(10,Math.floor(Math.log10(r))),s=a<1?Math.ceil(Math.abs(Math.log10(a))):0,o=a;2*a-r<1.5*(r-o)&&5*a-r<2.75*(r-(o=2*a))&&10*a-r<1.5*(r-(o=5*a))&&(o=10*a);var l=Math.ceil(e/o),c=Math.floor(t/o);n.max=Math.max(l*o,e),n.min=Math.min(c*o,t);for(var h=Number.parseFloat((c*o).toFixed(s));h<e;)n.ticks.push(h),h+=o,s&&(h=Number.parseFloat(h.toFixed(s)));return n.ticks.push(h),n}function quantileSorted(t,e){var i=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:i%1!=0?t[Math.ceil(i)-1]:t.length%2==0?(t[i-1]+t[i])/2:t[i]}function getYear(t){return new Date(t).getFullYear()}function createYear(t){return new Date(t,0,1).getTime()}function getMonth(t){return new Date(t).getMonth()}function creatMonth(t,e){return new Date(t,e,1).getTime()}registerTickMethod("cat",calculateCatTicks),registerTickMethod("time-cat",function calculateTimeCatTicks(t){var e=calculateCatTicks(t),i=last(t.values);return i!==last(e)&&e.push(i),e}),registerTickMethod("wilkinson-extended",function linear(t){var e=t.min,i=t.max,n=t.tickCount,r=t.nice,a=t.tickInterval,s=t.minLimit,o=t.maxLimit,c=extended(e,i,n,r).ticks;return l(s)&&l(o)?a?intervalTicks(e,i,a).ticks:c:strictLimit(t,head(c),last(c))}),registerTickMethod("r-pretty",function linearPretty(t){var e=t.min,i=t.max,n=t.tickCount,r=t.tickInterval,a=t.minLimit,s=t.maxLimit,o=pretty(e,i,n).ticks;return l(a)&&l(s)?r?intervalTicks(e,i,r).ticks:o:strictLimit(t,head(o),last(o))}),registerTickMethod("time",function calculateTimeTicks(t){var e=t.min,i=t.max,n=t.minTickInterval,r=t.tickInterval,a=t.tickCount;if(r)a=Math.ceil((i-e)/r);else{var s=(i-e)/(r=getTickInterval(e,i,a)[1])/a;s>1&&(r*=Math.ceil(s)),n&&r<n&&(r=n)}for(var o=[],l=e;l<i+r;l+=r)o.push(l);return o}),registerTickMethod("time-pretty",function timePretty(t){var e=t.min,i=t.max,n=t.minTickInterval,r=t.tickInterval,a=t.tickCount,s=[];r||(r=(i-e)/a,n&&r<n&&(r=n));var o=getYear(e);if(r>Vt)for(var l=getYear(i),c=Math.ceil(r/Vt),h=o;h<=l+c;h+=c)s.push(createYear(h));else if(r>Ht){var u=Math.ceil(r/Ht),f=getMonth(e),g=function diffMonth(t,e){var i=getYear(t),n=getYear(e),r=getMonth(t);return 12*(n-i)+(getMonth(e)-r)%12}(e,i);for(h=0;h<=g+u;h+=u)s.push(creatMonth(o,h+f))}else if(r>Xt){var d=(x=new Date(e)).getFullYear(),p=x.getMonth(),v=x.getDate(),m=Math.ceil(r/Xt),y=function diffDay(t,e){return Math.ceil((e-t)/Xt)}(e,i);for(h=0;h<y+m;h+=m)s.push(new Date(d,p,v+h).getTime())}else if(r>Rt){d=(x=new Date(e)).getFullYear(),p=x.getMonth(),m=x.getDate();var x,_=x.getHours(),S=Math.ceil(r/Rt),C=function diffHour(t,e){return Math.ceil((e-t)/Rt)}(e,i);for(h=0;h<=C+S;h+=S)s.push(new Date(d,p,m,_+h).getTime())}else if(r>jt){var P=function diffMinus(t,e){return Math.ceil((e-t)/6e4)}(e,i),M=Math.ceil(r/jt);for(h=0;h<=P+M;h+=M)s.push(e+h*jt)}else{var w=r;w<Gt&&(w=Gt);var b=Math.floor(e/Gt)*Gt,T=Math.ceil((i-e)/Gt),k=Math.ceil(w/Gt);for(h=0;h<T+k;h+=k)s.push(b+h*Gt)}return s}),registerTickMethod("log",function calculateLogTicks(t){var e,i=t.base,n=t.tickCount,r=t.min,a=t.max,s=t.values,o=log(i,a);if(r>0)e=Math.floor(log(i,r));else{var l=getLogPositiveMin(s,i,a);e=Math.floor(log(i,l))}for(var c=o-e,h=Math.ceil(c/n),u=[],f=e;f<o+h;f+=h)u.push(Math.pow(i,f));return r<=0&&u.unshift(0),u}),registerTickMethod("pow",function calculatePowTicks(t){var e=t.exponent,i=t.tickCount,n=Math.ceil(calBase(e,t.max));return pretty(Math.floor(calBase(e,t.min)),n,i).ticks.map(function(t){var i=t>=0?1:-1;return Math.pow(t,e)*i})}),registerTickMethod("quantile",function calculateTicks(t){var e=t.tickCount,i=t.values;if(!i||!i.length)return[];for(var n=i.slice().sort(function(t,e){return t-e}),r=[],a=0;a<e;a++){var s=a/(e-1);r.push(quantileSorted(n,s))}return r}),registerTickMethod("d3-linear",function d3LinearTickMethod(t){var e=t.min,i=t.max,n=t.tickInterval,r=t.minLimit,a=t.maxLimit,s=function d3Linear(t){var e=t.min,i=t.max,n=t.nice,r=t.tickCount,a=new le;return a.domain([e,i]),n&&a.nice(r),a.ticks(r)}(t);return l(r)&&l(a)?n?intervalTicks(e,i,n).ticks:s:strictLimit(t,head(s),last(s))}),registerClass("cat",dt),registerClass("category",dt),registerClass("identity",ie),registerClass("linear",Zt),registerClass("log",Ut),registerClass("pow",Jt),registerClass("time",Qt),registerClass("timeCat",qt),registerClass("quantize",Kt),registerClass("quantile",te);var ce=function CatTick(t){var e=t.values,i=t.tickCount;if(!i)return e;if(e.length<=1)return e;for(var n=parseInt(e.length/(i-1))||1,r=[],a=0;a<e.length;a+=n)r.push(e[a]);var s=e[e.length-1];return r[r.length-1]!==s&&(r.length>=i?r[r.length-1]=s:r.push(s)),r},he=[1,1.2,1.5,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],ue=12;function getFactor(t){var e=1;if(0===(t=Math.abs(t)))return e;if(t<1){for(var i=0;t<1;)e/=10,t*=10,i++;return e.toString().length>ue&&(e=parseFloat(e.toFixed(i))),e}for(;t>10;)e*=10,t/=10;return e}function intervalIsVerify(t){var e=t.interval,i=t.tickCount,n=t.max,r=t.min;return Math.floor(r/e)*e+(i-1)*e>=n}function getFixedLength(t){var e=t.toString(),i=e.indexOf("."),n=e.indexOf("e-"),r=n>=0?parseInt(e.substr(n+2),10):e.substr(i+1).length;return r>20&&(r=20),r}function toFixed(t,e){return parseFloat(t.toFixed(e))}var fe=getClass("linear"),ge=getClass("identity"),de=getClass("category"),pe=getClass("timeCat");function clearObj(t){Object.keys(t).forEach(function(e){delete t[e]})}registerTickMethod("cat",ce),registerTickMethod("time-cat",ce),registerTickMethod("wilkinson-extended",function LinearTick(t){var e=t||{},i=e.tickCount,n=e.tickInterval,r=t||{},a=r.min,s=r.max;a=isNaN(a)?0:a,s=isNaN(s)?0:s;var o=i&&i>=2?i:5,l=n||function getBestInterval(t){var e=t.tickCount,i=t.min,n=t.max;if(i===n)return 1*getFactor(n);for(var r=(n-i)/(e-1),a=getFactor(r),s=r/a,o=n/a,l=i/a,c=0,h=0;h<he.length;h++){var u=he[h];if(s<=u){c=h;break}}var f=function getInterval(t,e,i,n){for(var r=!1,a=he[t],s=t;s<he.length;s++)if(intervalIsVerify({"interval":he[s],"tickCount":e,"max":n,"min":i})){a=he[s],r=!0;break}return r?a:10*getInterval(0,e,i/10,n/10)}(c,e,l,o),g=getFixedLength(f)+getFixedLength(a);return toFixed(f*a,g)}({"tickCount":o,"max":s,"min":a}),c=Math.floor(a/l)*l;if(n){var h=Math.abs(Math.ceil((s-c)/n))+1;o=Math.max(o,h)}for(var u=[],f=0,g=getFixedLength(l);f<o;)u.push(toFixed(c+f*l,g)),f++;return u}),ft.Linear=fe,ft.Identity=ge,ft.Category=de,ft.Cat=de,ft.TimeCat=pe;var ve=function(){function ScaleController(t){this.defs={},this.scales={},mix(this,t)}var t=ScaleController.prototype;return t.setFieldDef=function setFieldDef(t,e){var i=this.defs;h(t)?mix(i,t):i[t]=e,this.updateScales()},t._getDef=function _getDef(t){var e=this.defs,i=null;return(j.scales[t]||e[t])&&(i=mix({},j.scales[t]),each(e[t],function(t,e){l(t)?delete i[e]:i[e]=t})),i},t._getDefaultType=function _getDefaultType(t,e,i){if(i&&i.type)return i.type;var n="linear",r=firstValue(e,t);return c(r)&&(r=r[0]),d(r)&&(n="cat"),n},t._getScaleDef=function _getScaleDef(t,e,i,n){var r,a={"field":e,"values":r=n&&n.values?n.values:values(i,e)};if("cat"!==t&&"timeCat"!==t){if(!n||!n.min||!n.max){var s=getRange$1(r),o=s.min,l=s.max;a.min=o,a.max=l,a.nice=!0}}else a.isRounding=!1;return a},t._adjustRange=function _adjustRange(t,e){var i=e.range,n=e.values;if("linear"===t||i||!n)return e;var r=n.length;if(1===r)e.range=[.5,1];else{var a=this.chart.get("coord"),s=j.widthRatio.multiplePie,o=0;!function isFullCircle(t){if(!t.isPolar)return!1;var e=t.startAngle,i=t.endAngle;return!(!l(e)&&!l(i)&&i-e<2*Math.PI)}(a)?(o=1/r*.5,e.range=[o,1-o]):a.transposed?(o=1/r*s,e.range=[o/2,1-o/2]):e.range=[0,1-1/r]}return e},t._getScaleCfg=function _getScaleCfg(t,e){var i=this._getDef(t);if(!e||!e.length)return i&&i.type?(i.field=t,{"type":i.type,"cfg":i}):{"type":"identity","cfg":{"value":t,"field":t.toString(),"values":[t]}};var n=e[0][t];if(null===n&&(n=firstValue(e,t)),m(t)||l(n)&&!i)return{"type":"identity","cfg":{"value":t,"field":t.toString(),"values":[t]}};var r=this._getDefaultType(t,e,i),a=this._getScaleDef(r,t,e,i);return i&&mix(a,i),{"type":r,"cfg":a=this._adjustRange(r,a)}},t.createScale=function createScale(t,e){var i=this.scales,n=this._getScaleCfg(t,e),r=n.type,a=n.cfg,s=i[t];if(s&&s.type===r)return s.change(a),s;var o=new(getClass(r))(a);return i[t]=o,o},t._updateScale=function _updateScale(t){var e=t.field,i=this.chart._getScaleData(e),n=this._getScaleCfg(e,i).cfg;t.change(n)},t.updateScales=function updateScales(){var t=this;each(this.scales,function(e){t._updateScale(e)})},t.adjustStartZero=function adjustStartZero(t){var e=this.defs,i=t.field,n=t.min,r=t.max;e[i]&&e[i].min||(n>0?t.change({"min":0}):r<0&&t.change({"max":0}))},t.clear=function clear(){clearObj(this.defs),clearObj(this.scales),this.data=null},ScaleController}(),me=function(){var t=Abastract.prototype;function Abastract(t){this._initDefaultCfg(),mix(this,t),this.draw()}return t._initDefaultCfg=function _initDefaultCfg(){this.ticks=[],this.tickLine={},this.offsetFactor=1,this.frontContainer=null,this.backContainer=null,this.gridPoints=[]},t.draw=function draw(){var t=this.line,e=this.tickLine,i=this.label,n=this.grid;n&&this.drawGrid(n),e&&this.drawTicks(e),t&&this.drawLine(t),i&&this.drawLabels()},t.drawTicks=function drawTicks(t){var e=this,i=e.ticks,n=t.length,r=e.getContainer(t.top);each(i,function(i){var a=e.getOffsetPoint(i.value),s=e.getSidePoint(a,n);r.addShape("line",{"className":"axis-tick","attrs":mix({"x1":a.x,"y1":a.y,"x2":s.x,"y2":s.y},t)})._id=e._id+"-ticks"})},t.drawLabels=function drawLabels(){var t=this,e=t.labelOffset;each(t.labels,function(i){var n=t.getContainer(i.get("top")),r=t.getOffsetPoint(i.get("value")),a=t.getSidePoint(r,e),s=a.x,o=a.y;i.attr(mix({"x":s,"y":o},t.getTextAlignInfo(r,e),i.get("textStyle"))),i._id=t._id+"-"+i.attr("text"),n.add(i)})},t.drawLine=function drawLine(){},t.drawGrid=function drawGrid(t){var e=this,i=e.gridPoints,n=e.ticks,r=t,a=i.length;each(i,function(i,o){if(s(t)){var l=n[o]||{},c=t(l.text,o,a);r=c?mix({},j._defaultAxis.grid,c):null}if(r){var h,u=r.type,f=i.points,g=e.getContainer(r.top);if("arc"===u){var d=e.center,p=e.startAngle,v=e.endAngle,m=W.length([f[0].x-d.x,f[0].y-d.y]);h=g.addShape("Arc",{"className":"axis-grid","attrs":mix({"x":d.x,"y":d.y,"startAngle":p,"endAngle":v,"r":m},r)})}else h=g.addShape("Polyline",{"className":"axis-grid","attrs":mix({"points":f},r)});h._id=i._id}})},t.getOffsetPoint=function getOffsetPoint(){},t.getAxisVector=function getAxisVector(){},t.getOffsetVector=function getOffsetVector(t,e){var i=this.getAxisVector(t),n=W.normalize([],i),r=this.offsetFactor,a=[-1*n[1]*r,n[0]*r];return W.scale([],a,e)},t.getSidePoint=function getSidePoint(t,e){var i=this.getOffsetVector(t,e);return{"x":t.x+i[0],"y":t.y+i[1]}},t.getTextAlignInfo=function getTextAlignInfo(t,e){var i=this.getOffsetVector(t,e);return{"textAlign":i[0]>0?"left":i[0]<0?"right":"center","textBaseline":i[1]>0?"top":i[1]<0?"bottom":"middle"}},t.getContainer=function getContainer(t){var e=this.frontContainer,i=this.backContainer;return t?e:i},Abastract}(),ye=function(t){function Line(){return t.apply(this,arguments)||this}_inheritsLoose(Line,t);var e=Line.prototype;return e._initDefaultCfg=function _initDefaultCfg(){t.prototype._initDefaultCfg.call(this),this.start=null,this.end=null},e.getOffsetPoint=function getOffsetPoint(t){var e=this.start,i=this.end;return{"x":e.x+(i.x-e.x)*t,"y":e.y+(i.y-e.y)*t}},e.getAxisVector=function getAxisVector(){var t=this.start,e=this.end;return[e.x-t.x,e.y-t.y]},e.drawLine=function drawLine(t){var e=this.getContainer(t.top),i=this.start,n=this.end;e.addShape("line",{"className":"axis-line","attrs":mix({"x1":i.x,"y1":i.y,"x2":n.x,"y2":n.y},t)})},Line}(me);me.Line=ye;var xe=function calcDirection(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.abs(i)>Math.abs(n)?i>0?"right":"left":n>0?"down":"up"},_e=function calcDistance(t,e){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)},Se=function getCenter(t,e){return{"x":t.x+(e.x-t.x)/2,"y":t.y+(e.y-t.y)/2}},Ce=function convertPoints(t,e){var i=t.touches;if(!i)return[getRelativePosition({"x":t.clientX,"y":t.clientY},e)];for(var n=[],r=i.length,a=0;a<r;a++){var s=i[a],o=s.x,l=s.y,c=s.clientX,h=s.clientY,u=void 0;u=m(o)||m(l)?{"x":o,"y":l}:getRelativePosition({"x":c,"y":h},e),n.push(u)}return n},Pe=250,Me=function(){function EventController(t){var e=this,i=t.canvas,n=t.el;_defineProperty(this,"_click",function(t){var i=Ce(t,e.canvas);t.points=i,e.emitEvent("click",t)}),_defineProperty(this,"_start",function(t){var i=Ce(t,e.canvas);i&&(t.points=i,e.emitEvent("touchstart",t),e.reset(),e.startTime=Date.now(),e.startPoints=i,i.length>1?(e.startDistance=_e(i[0],i[1]),e.center=Se(i[0],i[1])):e.pressTimeout=setTimeout(function(){t.direction="none",e.emitStart("press",t),e.emitEvent("press",t),e.eventType="press",e.direction="none"},Pe))}),_defineProperty(this,"_move",function(t){var i=Ce(t,e.canvas);if(i){e.clearPressTimeout(),t.points=i,e.emitEvent("touchmove",t);var n=e.startPoints;if(n)if(i.length>1){var r=e.startDistance,a=_e(i[0],i[1]);t.zoom=a/r,t.center=e.center,e.emitStart("pinch",t),e.emitEvent("pinch",t)}else{var s=i[0].x-n[0].x,o=i[0].y-n[0].y,l=e.direction||xe(n[0],i[0]);e.direction=l;var c=e.getEventType(i);t.direction=l,t.deltaX=s,t.deltaY=o,e.emitStart(c,t),e.emitEvent(c,t);var h=e.lastMoveTime,u=Date.now();u-h>0&&(e.prevMoveTime=h,e.prevMovePoints=e.lastMovePoints,e.lastMoveTime=u,e.lastMovePoints=i)}}}),_defineProperty(this,"_end",function(t){e.emitEnd(t),e.emitEvent("touchend",t);var i=e.lastMoveTime;if(Date.now()-i<100){var n=i-(e.prevMoveTime||e.startTime);if(n>0){var r=e.prevMovePoints||e.startPoints,a=e.lastMovePoints,s=_e(r[0],a[0])/n;s>.3&&(t.velocity=s,t.direction=xe(r[0],a[0]),e.emitEvent("swipe",t))}}e.reset();var o=t.touches;o&&o.length>0&&e._start(t)}),_defineProperty(this,"_cancel",function(t){e.emitEvent("touchcancel",t),e.reset()}),this.canvas=i,this.delegateEvent(n),this.processEvent={}}var t=EventController.prototype;return t.delegateEvent=function delegateEvent(t){t.addEventListener("click",this._click),t.addEventListener("touchstart",this._start),t.addEventListener("touchmove",this._move),t.addEventListener("touchend",this._end),t.addEventListener("touchcancel",this._cancel)},t.emitEvent=function emitEvent(t,e){this.canvas.emit(t,e)},t.getEventType=function getEventType(t){var e,i=this.eventType,n=this.canvas,r=this.startTime,a=this.startPoints;if(i)return i;var s=n.__events.pan;s&&s.length?e=Date.now()-r>Pe&&_e(a[0],t[0])<10?"press":"pan":e="press";return this.eventType=e,e},t.enable=function enable(t){this.processEvent[t]=!0},t.isProcess=function isProcess(t){return this.processEvent[t]},t.emitStart=function emitStart(t,e){this.isProcess(t)||(this.enable(t),this.emitEvent(t+"start",e))},t.emitEnd=function emitEnd(t){var e=this,i=this.processEvent;Object.keys(i).forEach(function(n){e.emitEvent(n+"end",t),delete i[n]})},t.clearPressTimeout=function clearPressTimeout(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},t.reset=function reset(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.pinch=!1,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},EventController}(),we=function(t){function CanvasElement(e){var i;return(i=t.call(this)||this).context=e,i.width=0,i.height=0,i.style={},i.currentStyle={},i.isCanvasElement=!0,i}_inheritsLoose(CanvasElement,t);var e=CanvasElement.prototype;return e.getContext=function getContext(){return this.context},e.getBoundingClientRect=function getBoundingClientRect(){return{"top":0,"right":this.width,"bottom":this.height,"left":0}},e.addEventListener=function addEventListener(t,e){this.on(t,e)},e.removeEventListener=function removeEventListener(t,e){this.off(t,e)},e.dispatchEvent=function dispatchEvent(t,e){this.emit(t,e)},CanvasElement}(R);var be=function create(t){return t?function supportEventListener(t){if(!t)return!1;if(1!==t.nodeType||!t.nodeName||"canvas"!==t.nodeName.toLowerCase())return!1;var e=!1;try{t.addEventListener("eventTest",function(){e=!0}),t.dispatchEvent(new Event("eventTest"))}catch(t){e=!1}return e}(t.canvas)?t.canvas:new we(t):null};function _addStop(t,e){each(t,function(t){t=t.split(":"),e.addColorStop(Number(t[0]),t[1])})}function parseStyle(t,e,i){if("("===t[1])try{var n=t[0];if("l"===n)return function _parseLineGradient(t,e,i){var n=t.split(" "),r=n[0].slice(2,n[0].length-1);r=function _mod(t,e){return(t%e+e)%e}(parseFloat(r)*Math.PI/180,2*Math.PI);var a,s,o=n.slice(1),l=e.getBBox(),c=l.minX,h=l.minY,u=l.maxX,f=l.maxY;r>=0&&r<.5*Math.PI?(a={"x":c,"y":h},s={"x":u,"y":f}):.5*Math.PI<=r&&r<Math.PI?(a={"x":u,"y":h},s={"x":c,"y":f}):Math.PI<=r&&r<1.5*Math.PI?(a={"x":u,"y":f},s={"x":c,"y":h}):(a={"x":c,"y":f},s={"x":u,"y":h});var g=Math.tan(r),d=g*g,p=(s.x-a.x+g*(s.y-a.y))/(d+1)+a.x,v=g*(s.x-a.x+g*(s.y-a.y))/(d+1)+a.y,m=i.createLinearGradient(a.x,a.y,p,v);return _addStop(o,m),m}(t,e,i);if("r"===n)return function _parseRadialGradient(t,e,i){var n=t.split(" "),r=n[0].slice(2,n[0].length-1);r=r.split(",");var a=parseFloat(r[0]),s=parseFloat(r[1]),o=parseFloat(r[2]),l=n.slice(1);if(0===o)return l[l.length-1].split(":")[1];var c=e.getBBox(),h=c.width,u=c.height,f=c.minX,g=c.minY,d=Math.sqrt(h*h+u*u)/2,p=i.createRadialGradient(f+h*a,g+u*s,o*d,f+h/2,g+u/2,d);return _addStop(l,p),p}(t,e,i)}catch(t){console.error("error in parsing gradient string, please check if there are any extra whitespaces."),console.error(t)}return t}var Te={"stroke":"strokeStyle","fill":"fillStyle","opacity":"globalAlpha"},ke=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","shadow"],De=["circle","sector","polygon","rect","polyline"],Ae=function(){var t=Element.prototype;function Element(t){this._initProperties(),mix(this._attrs,t);var e=this._attrs.attrs;e&&this.initAttrs(e),this.initTransform()}return t._initProperties=function _initProperties(){this._attrs={"zIndex":0,"visible":!0,"destroyed":!1}},t.get=function get(t){return this._attrs[t]},t.set=function set(t,e){this._attrs[t]=e},t.isGroup=function isGroup(){return this.get("isGroup")},t.isShape=function isShape(){return this.get("isShape")},t.initAttrs=function initAttrs(t){this.attr(mix(this.getDefaultAttrs(),t))},t.getDefaultAttrs=function getDefaultAttrs(){return{}},t._setAttr=function _setAttr(t,e){var i=this._attrs.attrs;if("clip"===t)e=this._setAttrClip(e);else{var n=Te[t];n&&(i[n]=e)}i[t]=e},t._getAttr=function _getAttr(t){return this._attrs.attrs[t]},t._setAttrClip=function _setAttrClip(t){return t&&De.indexOf(t._attrs.type)>-1?(null===t.get("canvas")&&(t=Object.assign({},t)),t.set("parent",this.get("parent")),t.set("context",this.get("context")),t):null},t.attr=function attr(t,e){if(this.get("destroyed"))return null;var i=arguments.length;if(0===i)return this._attrs.attrs;if(h(t)){for(var n in this._attrs.bbox=null,t)this._setAttr(n,t[n]);return this._afterAttrsSet&&this._afterAttrsSet(),this}return 2===i?(this._attrs.bbox=null,this._setAttr(t,e),this._afterAttrsSet&&this._afterAttrsSet(),this):this._getAttr(t)},t.getParent=function getParent(){return this.get("parent")},t.draw=function draw(t){this.get("destroyed")||this.get("visible")&&(this.setContext(t),this.drawInner(t),this.restoreContext(t))},t.setContext=function setContext(t){var e=this._attrs.attrs.clip;t.save(),e&&(e.resetTransform(t),e.createPath(t),t.clip()),this.resetContext(t),this.resetTransform(t)},t.restoreContext=function restoreContext(t){t.restore()},t.resetContext=function resetContext(t){var e=this._attrs.attrs;if(!this._attrs.isGroup)for(var i in e)if(ke.indexOf(i)>-1){var n=e[i];"fillStyle"!==i&&"strokeStyle"!==i||(n=parseStyle(n,this,t)),"lineDash"===i&&t.setLineDash&&c(n)?t.setLineDash(n):t[i]=n}},t.hasFill=function hasFill(){return this.get("canFill")&&this._attrs.attrs.fillStyle},t.hasStroke=function hasStroke(){return this.get("canStroke")&&this._attrs.attrs.strokeStyle},t.drawInner=function drawInner(){},t.show=function show(){return this.set("visible",!0),this},t.hide=function hide(){return this.set("visible",!1),this},t.isVisible=function isVisible(){return this.get("visible")},t._removeFromParent=function _removeFromParent(){var t=this.get("parent");t&&remove(t.get("children"),this);return this},t.remove=function remove(t){t?this.destroy():this._removeFromParent()},t.destroy=function destroy(){if(this.get("destroyed"))return null;this._removeFromParent(),this._attrs={},this.set("destroyed",!0)},t.getBBox=function getBBox(){return{"minX":0,"maxX":0,"minY":0,"maxY":0,"width":0,"height":0}},t.initTransform=function initTransform(){var t=this._attrs.attrs||{};t.matrix||(t.matrix=[1,0,0,1,0,0]),this._attrs.attrs=t},t.getMatrix=function getMatrix(){return this._attrs.attrs.matrix},t.setMatrix=function setMatrix(t){this._attrs.attrs.matrix=[t[0],t[1],t[2],t[3],t[4],t[5]]},t.transform=function transform(t){var e=this._attrs.attrs.matrix;return this._attrs.attrs.matrix=V.transform(e,t),this},t.setTransform=function setTransform(t){return this._attrs.attrs.matrix=[1,0,0,1,0,0],this.transform(t)},t.translate=function translate(t,e){var i=this._attrs.attrs.matrix;V.translate(i,i,[t,e])},t.rotate=function rotate(t){var e=this._attrs.attrs.matrix;V.rotate(e,e,t)},t.scale=function scale(t,e){var i=this._attrs.attrs.matrix;V.scale(i,i,[t,e])},t.moveTo=function moveTo(t,e){var i=this._attrs.x||0,n=this._attrs.y||0;this.translate(t-i,e-n),this.set("x",t),this.set("y",e)},t.apply=function apply(t){var e=this._attrs.attrs.matrix;return W.transformMat2d(t,t,e),this},t.resetTransform=function resetTransform(t){var e=this._attrs.attrs.matrix;V.isChanged(e)&&t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},t.isDestroyed=function isDestroyed(){return this.get("destroyed")},Element}(),Ie=function(t){function Shape(){return t.apply(this,arguments)||this}_inheritsLoose(Shape,t);var e=Shape.prototype;return e._initProperties=function _initProperties(){this._attrs={"zIndex":0,"visible":!0,"destroyed":!1,"isShape":!0,"attrs":{}}},e.getType=function getType(){return this._attrs.type},e.drawInner=function drawInner(t){var e=this.get("attrs");this.createPath(t);var i=t.globalAlpha;if(this.hasFill()){var n=e.fillOpacity;l(n)||1===n?t.fill():(t.globalAlpha=n,t.fill(),t.globalAlpha=i)}if(this.hasStroke()&&e.lineWidth>0){var r=e.strokeOpacity;l(r)||1===r||(t.globalAlpha=r),t.stroke()}},e.getBBox=function getBBox(){var t=this._attrs.bbox;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this._attrs.bbox=t),t},e.calculateBox=function calculateBox(){return null},e.createPath=function createPath(){},Shape}(Ae),Ye={},Le="_INDEX";var Ee={"getGroupClass":function getGroupClass(){},"getChildren":function getChildren(){return this.get("children")},"addShape":function addShape(t,e){void 0===e&&(e={});var i=this.get("canvas"),n=Ye[t];n||(n=_(t),Ye[t]=n),e.canvas=i,"Text"===n&&i&&i.get("fontFamily")&&(e.attrs.fontFamily=e.attrs.fontFamily||i.get("fontFamily"));var r=new Ie[n](e);return this.add(r),r},"addGroup":function addGroup(t){var e=this.get("canvas"),i=this.getGroupClass();(t=mix({},t)).canvas=e,t.parent=this;var n=new i(t);return this.add(n),n},"contain":function contain(t){return this.get("children").indexOf(t)>-1},"sort":function sort(){for(var t=this.get("children"),e=0,i=t.length;e<i;e++){t[e][Le]=e}return t.sort(function getComparer(t){return function(e,i){var n=t(e,i);return 0===n?e[Le]-i[Le]:n}}(function(t,e){return t.get("zIndex")-e.get("zIndex")})),this},"drawInner":function drawInner(t){for(var e=this.get("children"),i=0,n=e.length;i<n;i++){e[i].draw(t)}return this},"clear":function clear(){for(var t=this.get("children");0!==t.length;)t[t.length-1].remove(!0);return this},"add":function add(t){var e=this.get("children");c(t)||(t=[t]);for(var i=0,n=t.length;i<n;i++){var r=t[i],a=r.get("parent");if(a)remove(a.get("children"),r);this._setEvn(r),e.push(r)}return this},"_setEvn":function _setEvn(t){t._attrs.parent=this,t._attrs.context=this._attrs.context,t._attrs.canvas=this._attrs.canvas;var e=t._attrs.attrs.clip;if(e&&(e.set("parent",this),e.set("context",this.get("context"))),t._attrs.isGroup)for(var i=t._attrs.children,n=0,r=i.length;n<r;n++)t._setEvn(i[n])}},Oe=function(t){function Group(){return t.apply(this,arguments)||this}_inheritsLoose(Group,t);var e=Group.prototype;return e._initProperties=function _initProperties(){this._attrs={"zIndex":0,"visible":!0,"destroyed":!1,"isGroup":!0,"children":[]}},e.getBBox=function getBBox(){for(var t=1/0,e=-1/0,i=1/0,n=-1/0,r=this.get("children"),a=0,s=r.length;a<s;a++){var o=r[a];if(o.get("visible")){var l=o.getBBox();if(!l)continue;var c=[l.minX,l.minY],h=[l.minX,l.maxY],u=[l.maxX,l.minY],f=[l.maxX,l.maxY],g=o.attr("matrix");W.transformMat2d(c,c,g),W.transformMat2d(h,h,g),W.transformMat2d(u,u,g),W.transformMat2d(f,f,g),t=Math.min(c[0],h[0],u[0],f[0],t),e=Math.max(c[0],h[0],u[0],f[0],e),i=Math.min(c[1],h[1],u[1],f[1],i),n=Math.max(c[1],h[1],u[1],f[1],n)}}return{"minX":t,"minY":i,"maxX":e,"maxY":n,"x":t,"y":i,"width":e-t,"height":n-i}},e.destroy=function destroy(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},Group}(Ae);mix(Oe.prototype,Ee,{"getGroupClass":function getGroupClass(){return Oe}});var Be="object"===("undefined"==typeof window?"undefined":o(window))&&window.requestAnimationFrame?window.requestAnimationFrame:function(t){return setTimeout(t,16)},Fe=function(t){_inheritsLoose(Canvas,t);var e=Canvas.prototype;function Canvas(e){var i;return(i=t.call(this)||this)._attrs=mix({"type":"canvas","children":[]},e),i._initPixelRatio(),i._initCanvas(),i}return e.get=function get(t){return this._attrs[t]},e.set=function set(t,e){this._attrs[t]=e},e._initPixelRatio=function _initPixelRatio(){this.get("pixelRatio")||this.set("pixelRatio",getPixelRatio())},e.beforeDraw=function beforeDraw(){var t=this._attrs.context,e=this._attrs.el;t&&t.clearRect&&t.clearRect(0,0,e.width,e.height)},e._initCanvas=function _initCanvas(){var t,e=this.get("el"),i=this.get("context");if(!e&&!i)throw new Error("Please specify the id, el or context of the chart!");t=e?d(e)?getDomById(e):e:be(i),i&&t&&!t.getContext&&(t.getContext=function(){return i});var n=this.get("width");n||(n=getWidth(t));var r=this.get("height");r||(r=getHeight(t)),this.set("canvas",this),this.set("el",t),this.set("context",i||t.getContext("2d")),this.changeSize(n,r);var a=new Me({"canvas":this,"el":t});this.set("eventController",a)},e.changeSize=function changeSize(t,e){var i=this.get("pixelRatio"),n=this.get("el");(n.style&&(n.style.width=t+"px",n.style.height=e+"px"),isCanvasElement(n))&&(n.width=t*i,n.height=e*i,1!==i&&this.get("context").scale(i,i));this.set("width",t),this.set("height",e)},e.getWidth=function getWidth(){var t=this.get("pixelRatio");return this.get("width")*t},e.getHeight=function getHeight(){var t=this.get("pixelRatio");return this.get("height")*t},e.getPointByClient=function getPointByClient(t,e){var i=this.get("el"),n=i.getBoundingClientRect(),r=n.right-n.left,a=n.bottom-n.top;return{"x":(t-n.left)*(i.width/r),"y":(e-n.top)*(i.height/a)}},e._beginDraw=function _beginDraw(){this._attrs.toDraw=!0},e._endDraw=function _endDraw(){this._attrs.toDraw=!1},e.draw=function draw(){var t=this;t.get("destroyed")||(t.get("animateHandler")?this._beginDraw():function drawInner(){t.set("animateHandler",Be(function(){t.set("animateHandler",void 0),t.get("toDraw")&&drawInner()})),t.beforeDraw();try{var e=t._attrs.context;t.drawInner(e),e.draw&&e.draw()}catch(e){console.warn("error in draw canvas, detail as:"),console.warn(e),t._endDraw()}t._endDraw()}())},e.destroy=function destroy(){if(!this.get("destroyed")){var t=this.get("el");t.width=0,t.height=0,this.clear(),this._attrs={},this.set("destroyed",!0)}},e.isDestroyed=function isDestroyed(){return this.get("destroyed")},Canvas}(R);mix(Fe.prototype,Ee,{"getGroupClass":function getGroupClass(){return Oe}});var ze=function(t){function Rect(){return t.apply(this,arguments)||this}_inheritsLoose(Rect,t);var e=Rect.prototype;return e._initProperties=function _initProperties(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="rect"},e.getDefaultAttrs=function getDefaultAttrs(){return{"x":0,"y":0,"width":0,"height":0,"radius":0,"lineWidth":0}},e.createPath=function createPath(t){var e=this.get("attrs"),i=e.x,n=e.y,r=e.width,a=e.height,s=e.radius;t.beginPath(),s&&r*a?(s=function parseRadius(t,e,i){if(!((t=parsePadding(t))[0]||t[1]||t[2]||t[3]))return t;var n=Math.max(t[0]+t[1],t[2]+t[3]),r=Math.max(t[0]+t[3],t[1]+t[2]),a=Math.min(e/n,i/r);return a<1?t.map(function(t){return t*a}):t}(s,r,a),t.moveTo(i+s[0],n),t.lineTo(i+r-s[1],n),t.arc(i+r-s[1],n+s[1],s[1],-Math.PI/2,0,!1),t.lineTo(i+r,n+a-s[2]),t.arc(i+r-s[2],n+a-s[2],s[2],0,Math.PI/2,!1),t.lineTo(i+s[3],n+a),t.arc(i+s[3],n+a-s[3],s[3],Math.PI/2,Math.PI,!1),t.lineTo(i,n+s[0]),t.arc(i+s[0],n+s[0],s[0],Math.PI,3*Math.PI/2,!1),t.closePath()):t.rect(i,n,r,a)},e.calculateBox=function calculateBox(){var t=this.get("attrs"),e=t.x,i=t.y;return{"minX":e,"minY":i,"maxX":e+t.width,"maxY":i+t.height}},Rect}(Ie);Ie.Rect=ze;var Ne=function(t){function ImageShape(){return t.apply(this,arguments)||this}_inheritsLoose(ImageShape,t);var e=ImageShape.prototype;return e._initProperties=function _initProperties(){t.prototype._initProperties.call(this),this._attrs.canFill=!1,this._attrs.canStroke=!1,this._attrs.loading=!1,this._attrs.image=null,this._attrs.type="image"},e.getDefaultAttrs=function getDefaultAttrs(){return{"x":0,"y":0,"width":0,"height":0}},e.createPath=function createPath(t){var e=this,i=this.get("attrs").src;if(!this.get("loading")){var n=this.get("image");if(n)this.drawImage(t,n);else if(i&&Image){this.set("loading",!0);var r=new Image;r.src=i,r.crossOrigin="Anonymous",r.onload=function(){e.set("loading",!1),e.set("image",r),e.drawImage(t,r)}}}},e.drawImage=function drawImage(t,e){var i=this.get("attrs"),n=i.x,r=i.y,a=i.width,s=i.height,o=i.sx,c=i.sy,h=i.swidth,u=i.sheight;l(o)||l(c)||l(h)||l(u)?t.drawImage(e,n,r,a,s):t.drawImage(e,o,c,h,u,n,r,a,s)},e.calculateBox=function calculateBox(){var t=this.get("attrs"),e=t.x,i=t.y;return{"minX":e,"minY":i,"maxX":e+t.width,"maxY":i+t.height}},ImageShape}(Ie);Ie.Image=Ne;var Ge=function(t){function Circle(){return t.apply(this,arguments)||this}_inheritsLoose(Circle,t);var e=Circle.prototype;return e._initProperties=function _initProperties(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="circle"},e.getDefaultAttrs=function getDefaultAttrs(){return{"x":0,"y":0,"r":0,"lineWidth":0}},e.createPath=function createPath(t){var e=this.get("attrs"),i=e.x,n=e.y,r=e.r;t.beginPath(),t.arc(i,n,r,0,2*Math.PI,!1),t.closePath()},e.calculateBox=function calculateBox(){var t=this.get("attrs"),e=t.x,i=t.y,n=t.r;return{"minX":e-n,"maxX":e+n,"minY":i-n,"maxY":i+n}},Circle}(Ie);Ie.Circle=Ge;var je=W.create(),Re=W.create(),Xe=W.create();function CubicN(t,e,i,n,r){var a=t*t;return e+(3*-e+t*(3*e-e*t))*t+(3*i+t*(-6*i+3*i*t))*t+(3*n-3*n*t)*a+r*(a*t)}function cubicBezierBounds(t){for(var e,i,n,r,a,s=1/0,o=-1/0,l=1/0,c=-1/0,h={"x":t[0],"y":t[1]},u={"x":t[2],"y":t[3]},f={"x":t[4],"y":t[5]},g={"x":t[6],"y":t[7]},d=0;d<100;d++){var p={"x":CubicN(a=d/100,(e=h).x,(i=u).x,(n=f).x,(r=g).x),"y":CubicN(a,e.y,i.y,n.y,r.y)};p.x<s&&(s=p.x),p.x>o&&(o=p.x),p.y<l&&(l=p.y),p.y>c&&(c=p.y)}return{"minX":s,"minY":l,"maxX":o,"maxY":c}}function getBBoxFromPoints(t,e){if(0!==t.length){for(var i=t[0],n=i.x,r=i.x,a=i.y,s=i.y,o=t.length,l=1;l<o;l++)i=t[l],n=Math.min(n,i.x),r=Math.max(r,i.x),a=Math.min(a,i.y),s=Math.max(s,i.y);return{"minX":n-(e=e/2||0),"minY":a-e,"maxX":r+e,"maxY":s+e}}}function getBBoxFromArc(t,e,i,n,r,a){var s=Math.abs(n-r);if(s%(2*Math.PI)<1e-4&&s>1e-4)return{"minX":t-i,"minY":e-i,"maxX":t+i,"maxY":e+i};je[0]=Math.cos(n)*i+t,je[1]=Math.sin(n)*i+e,Re[0]=Math.cos(r)*i+t,Re[1]=Math.sin(r)*i+e;var o=[0,0],l=[0,0];if(W.min(o,je,Re),W.max(l,je,Re),(n%=2*Math.PI)<0&&(n+=2*Math.PI),(r%=2*Math.PI)<0&&(r+=2*Math.PI),n>r&&!a?r+=2*Math.PI:n<r&&a&&(n+=2*Math.PI),a){var c=r;r=n,n=c}for(var h=0;h<r;h+=Math.PI/2)h>n&&(Xe[0]=Math.cos(h)*i+t,Xe[1]=Math.sin(h)*i+e,W.min(o,Xe,o),W.max(l,Xe,l));return{"minX":o[0],"minY":o[1],"maxX":l[0],"maxY":l[1]}}var He=function(t){function Line(){return t.apply(this,arguments)||this}_inheritsLoose(Line,t);var e=Line.prototype;return e._initProperties=function _initProperties(){t.prototype._initProperties.call(this),this._attrs.canStroke=!0,this._attrs.type="line"},e.getDefaultAttrs=function getDefaultAttrs(){return{"x1":0,"y1":0,"x2":0,"y2":0,"lineWidth":1}},e.createPath=function createPath(t){var e=this.get("attrs"),i=e.x1,n=e.y1,r=e.x2,a=e.y2;t.beginPath(),t.moveTo(i,n),t.lineTo(r,a)},e.calculateBox=function calculateBox(){var t=this.get("attrs");return function getBBoxFromLine(t,e,i,n,r){return r=r/2||0,{"minX":Math.min(t,i)-r,"minY":Math.min(e,n)-r,"maxX":Math.max(t,i)+r,"maxY":Math.max(e,n)+r}}(t.x1,t.y1,t.x2,t.y2,t.lineWidth)},Line}(Ie);Ie.Line=He;var Ve=function(t){function Polygon(){return t.apply(this,arguments)||this}_inheritsLoose(Polygon,t);var e=Polygon.prototype;return e._initProperties=function _initProperties(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="polygon"},e.getDefaultAttrs=function getDefaultAttrs(){return{"points":null,"lineWidth":0}},e.createPath=function createPath(t){var e=this.get("attrs").points;t.beginPath();for(var i=0,n=e.length;i<n;i++){var r=e[i];0===i?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y)}t.closePath()},e.calculateBox=function calculateBox(){return getBBoxFromPoints(this.get("attrs").points)},Polygon}(Ie);function getPoint(t){return[t.x,t.y]}function catmullRom2bezier(t,e,i){for(var n,r,a,s=!!e,o=function smoothBezier(t,e,i,n){var r,a,s,o,l,c,h,u,f=[],g=!!n;if(g){for(s=[1/0,1/0],o=[-1/0,-1/0],u=0,h=t.length;u<h;u++)l=getPoint(t[u]),W.min(s,s,l),W.max(o,o,l);W.min(s,s,n[0]),W.max(o,o,n[1])}for(u=0,c=t.length;u<c;u++){if(l=getPoint(t[u]),i)r=getPoint(t[u?u-1:c-1]),a=getPoint(t[(u+1)%c]);else{if(0===u||u===c-1){f.push([l[0],l[1]]);continue}r=getPoint(t[u-1]),a=getPoint(t[u+1])}var d=W.sub([],a,r);W.scale(d,d,e);var p=W.distance(l,r),v=W.distance(l,a),m=p+v;0!==m&&(p/=m,v/=m);var y=W.scale([],d,-p),x=W.scale([],d,v),_=W.add([],l,y),S=W.add([],l,x);g&&(W.max(_,_,s),W.min(_,_,o),W.max(S,S,s),W.min(S,S,o)),f.push([_[0],_[1]]),f.push([S[0],S[1]])}return i&&f.push(f.shift()),f}(t,.4,s,i),l=t.length,c=[],h=0;h<l-1;h++)n=o[2*h],r=o[2*h+1],a=t[h+1],c.push(["C",n[0],n[1],r[0],r[1],a.x,a.y]);return s&&(n=o[l],r=o[l+1],a=t[0],c.push(["C",n[0],n[1],r[0],r[1],a.x,a.y])),c}function _filterPoints(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i];isNaN(r.x)||isNaN(r.y)||e.push(r)}return e}Ie.Polygon=Ve;var We=function(t){function Polyline(){return t.apply(this,arguments)||this}_inheritsLoose(Polyline,t);var e=Polyline.prototype;return e._initProperties=function _initProperties(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="polyline"},e.getDefaultAttrs=function getDefaultAttrs(){return{"points":null,"lineWidth":1,"smooth":!1}},e.createPath=function createPath(t){var e=this.get("attrs"),i=e.points,n=e.smooth,r=_filterPoints(i);if(t.beginPath(),r.length)if(t.moveTo(r[0].x,r[0].y),n)for(var a=catmullRom2bezier(r,!1,[[0,0],[1,1]]),s=0,o=a.length;s<o;s++){var l=a[s];t.bezierCurveTo(l[1],l[2],l[3],l[4],l[5],l[6])}else{var c,h;for(c=1,h=r.length-1;c<h;c++)t.lineTo(r[c].x,r[c].y);t.lineTo(r[h].x,r[h].y)}},e.calculateBox=function calculateBox(){var t=this.get("attrs"),e=t.points,i=t.smooth,n=t.lineWidth,r=_filterPoints(e);if(i){for(var a=[],s=catmullRom2bezier(r,!1,[[0,0],[1,1]]),o=0,l=s.length;o<l;o++){var c=s[o];if(0===o)a.push([r[0].x,r[0].y,c[1],c[2],c[3],c[4],c[5],c[6]]);else{var h=s[o-1];a.push([h[5],h[6],c[1],c[2],c[3],c[4],c[5],c[6]])}}return function getBBoxFromBezierGroup(t,e){for(var i=1/0,n=-1/0,r=1/0,a=-1/0,s=0,o=t.length;s<o;s++){var l=cubicBezierBounds(t[s]);l.minX<i&&(i=l.minX),l.maxX>n&&(n=l.maxX),l.minY<r&&(r=l.minY),l.maxY>a&&(a=l.maxY)}return{"minX":i-(e=e/2||0),"minY":r-e,"maxX":n+e,"maxY":a+e}}(a,n)}return getBBoxFromPoints(r,n)},Polyline}(Ie);Ie.Polyline=We;var qe=function(t){function Arc(){return t.apply(this,arguments)||this}_inheritsLoose(Arc,t);var e=Arc.prototype;return e._initProperties=function _initProperties(){t.prototype._initProperties.call(this),this._attrs.canStroke=!0,this._attrs.canFill=!0,this._attrs.type="arc"},e.getDefaultAttrs=function getDefaultAttrs(){return{"x":0,"y":0,"r":0,"startAngle":0,"endAngle":2*Math.PI,"anticlockwise":!1,"lineWidth":1}},e.createPath=function createPath(t){var e=this.get("attrs"),i=e.x,n=e.y,r=e.r,a=e.startAngle,s=e.endAngle,o=e.anticlockwise;t.beginPath(),a!==s&&t.arc(i,n,r,a,s,o)},e.calculateBox=function calculateBox(){var t=this.get("attrs");return getBBoxFromArc(t.x,t.y,t.r,t.startAngle,t.endAngle,t.anticlockwise)},Arc}(Ie);Ie.Arc=qe;var $e=function(t){function Sector(){return t.apply(this,arguments)||this}_inheritsLoose(Sector,t);var e=Sector.prototype;return e._initProperties=function _initProperties(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="sector"},e.getDefaultAttrs=function getDefaultAttrs(){return{"x":0,"y":0,"lineWidth":0,"r":0,"r0":0,"startAngle":0,"endAngle":2*Math.PI,"anticlockwise":!1}},e.createPath=function createPath(t){var e=this.get("attrs"),i=e.x,n=e.y,r=e.startAngle,a=e.endAngle,s=e.r,o=e.r0,l=e.anticlockwise;t.beginPath();var c=Math.cos(r),h=Math.sin(r);t.moveTo(c*o+i,h*o+n),t.lineTo(c*s+i,h*s+n),(Math.abs(a-r)>1e-4||0===r&&a<0)&&(t.arc(i,n,s,r,a,l),t.lineTo(Math.cos(a)*o+i,Math.sin(a)*o+n),0!==o&&t.arc(i,n,o,a,r,!l)),t.closePath()},e.calculateBox=function calculateBox(){var t=this.get("attrs"),e=t.x,i=t.y,n=t.r,r=t.r0,a=t.startAngle,s=t.endAngle,o=t.anticlockwise,l=getBBoxFromArc(e,i,n,a,s,o),c=getBBoxFromArc(e,i,r,a,s,o);return{"minX":Math.min(l.minX,c.minX),"minY":Math.min(l.minY,c.minY),"maxX":Math.max(l.maxX,c.maxX),"maxY":Math.max(l.maxY,c.maxY)}},Sector}(Ie);Ie.Sector=$e;var Ze=function calcRotatedBox(t){var e=t.width,i=t.height,n=t.rotate,r=Math.abs(n);return{"width":Math.abs(e*Math.cos(r)+i*Math.sin(r)),"height":Math.abs(i*Math.cos(r)+e*Math.sin(r))}},Ue=0,Je={},Qe=function(t){function Text(){return t.apply(this,arguments)||this}_inheritsLoose(Text,t);var e=Text.prototype;return e._initProperties=function _initProperties(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="text"},e.getDefaultAttrs=function getDefaultAttrs(){return{"lineWidth":0,"lineCount":1,"fontSize":12,"fontFamily":"sans-serif","fontStyle":"normal","fontWeight":"normal","fontVariant":"normal","textAlign":"start","textBaseline":"bottom","lineHeight":null,"textArr":null}},e._getFontStyle=function _getFontStyle(){var t=this._attrs.attrs,e=t.fontSize,i=t.fontFamily,n=t.fontWeight;return t.fontStyle+" "+t.fontVariant+" "+n+" "+e+"px "+i},e._afterAttrsSet=function _afterAttrsSet(){var t=this._attrs.attrs;if(t.font=this._getFontStyle(),t.text){var e=t.text,i=null,n=1;d(e)&&-1!==e.indexOf("\n")&&(n=(i=e.split("\n")).length),t.lineCount=n,t.textArr=i}this.set("attrs",t)},e._getTextHeight=function _getTextHeight(){var t=this._attrs.attrs;if(t.height)return t.height;var e=t.lineCount,i=1*t.fontSize;return e>1?i*e+this._getSpaceingY()*(e-1):i},e._getSpaceingY=function _getSpaceingY(){var t=this._attrs.attrs,e=t.lineHeight,i=1*t.fontSize;return e?e-i:.14*i},e.drawInner=function drawInner(t){var e=this._attrs.attrs,i=e.text,n=e.x,r=e.y;if(!(l(i)||isNaN(n)||isNaN(r))){var a=e.textArr,s=1*e.fontSize,o=this._getSpaceingY();e.rotate&&(t.translate(n,r),t.rotate(e.rotate),n=0,r=0);var c,h,u=e.textBaseline;if(a&&(c=this._getTextHeight()),this.hasFill()){var f=e.fillOpacity;if(l(f)||1===f||(t.globalAlpha=f),a)for(var g=0,d=a.length;g<d;g++){var p=a[g];h=r+g*(o+s)-c+s,"middle"===u&&(h+=c-s-(c-s)/2),"top"===u&&(h+=c-s),t.fillText(p,n,h)}else t.fillText(i,n,r)}if(this.hasStroke())if(a)for(var v=0,m=a.length;v<m;v++){var y=a[v];h=r+v*(o+s)-c+s,"middle"===u&&(h+=c-s-(c-s)/2),"top"===u&&(h+=c-s),t.strokeText(y,n,h)}else t.strokeText(i,n,r)}},e.calculateBox=function calculateBox(){var t=this._attrs.attrs,e=t.x,i=t.y,n=t.textAlign,r=t.textBaseline,a=this._getTextWidth();if(!a)return{"minX":e,"minY":i,"maxX":e,"maxY":i};var s=this._getTextHeight();if(t.rotate){var o=Ze({"width":a,"height":s,"rotate":t.rotate});a=o.width,s=o.height}var l={"x":e,"y":i-s};return n&&("end"===n||"right"===n?l.x-=a:"center"===n&&(l.x-=a/2)),r&&("top"===r?l.y+=s:"middle"===r&&(l.y+=s/2)),{"minX":l.x,"minY":l.y,"maxX":l.x+a,"maxY":l.y+s}},e._getTextWidth=function _getTextWidth(){var t=this._attrs.attrs;if(t.width)return t.width;var e=t.text,i=this.get("context");if(!l(e)){var n=t.font,r=t.textArr,a=e+""+n;if(Je[a])return Je[a];var s=0;if(r)for(var o=0,c=r.length;o<c;o++){var h=r[o];s=Math.max(s,measureText(h,n,i).width)}else s=measureText(e,n,i).width;return Ue>5e3&&(Ue=0,Je={}),Ue++,Je[a]=s,s}},Text}(Ie);Ie.Text=Qe;var Ke=function(t){function Custom(){return t.apply(this,arguments)||this}_inheritsLoose(Custom,t);var e=Custom.prototype;return e._initProperties=function _initProperties(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.createPath=null,this._attrs.type="custom"},e.createPath=function createPath(t){var createPath=this.get("createPath");createPath&&createPath.call(this,t)},e.calculateBox=function calculateBox(){var calculateBox=this.get("calculateBox");return calculateBox&&calculateBox.call(this)},Custom}(Ie);Ie.Custom=Ke;var ti=Object.freeze({"__proto__":null,"Canvas":Fe,"Group":Oe,"Shape":Ie,"Matrix":V,"Vector2":W});var ei=function(){function AxisController(t){this.axisCfg={},this.frontPlot=null,this.backPlot=null,this.axes={},mix(this,t)}var t=AxisController.prototype;return t._isHide=function _isHide(t){var e=this.axisCfg;return!e||!1===e[t]},t._getLinePosition=function _getLinePosition(t,e,i,n){var r="",a=t.field,s=this.axisCfg;return s[a]&&s[a].position?r=s[a].position:"x"===e?r=n?"left":"bottom":"y"===e&&(r=i?"right":"left",n&&(r="bottom")),r},t._getLineCfg=function _getLineCfg(t,e,i){var n,r,a=1;return"x"===e?(n={"x":0,"y":0},r={"x":1,"y":0}):"right"===i?(n={"x":1,"y":0},r={"x":1,"y":1}):(n={"x":0,"y":0},r={"x":0,"y":1},a=-1),t.transposed&&(a*=-1),{"offsetFactor":a,"start":t.convertPoint(n),"end":t.convertPoint(r)}},t._getCircleCfg=function _getCircleCfg(t){return{"startAngle":t.startAngle,"endAngle":t.endAngle,"center":t.center,"radius":t.circleRadius}},t._getRadiusCfg=function _getRadiusCfg(t){var e,i;return t.transposed?(e={"x":0,"y":0},i={"x":1,"y":0}):(e={"x":0,"y":0},i={"x":0,"y":1}),{"offsetFactor":-1,"start":t.convertPoint(e),"end":t.convertPoint(i)}},t._getAxisCfg=function _getAxisCfg(t,e,i,n,r){var a=this,o=this.axisCfg,l=e.getTicks(),c=k({"ticks":l,"frontContainer":this.frontPlot,"backContainer":this.backPlot},r,o[e.field]),h=[],u=c.label,f=l.length,g=0,d=0,p=u;return each(l,function(t,e){if(s(u)){var i=u(t.text,e,f);p=i?mix({},j._defaultAxis.label,i):null}if(p){var n={};p.textAlign&&(n.textAlign=p.textAlign),p.textBaseline&&(n.textBaseline=p.textBaseline);var r=new Ie.Text({"className":"axis-label","attrs":mix({"x":0,"y":0,"text":t.text,"fontFamily":a.chart.get("canvas").get("fontFamily")},p),"value":t.value,"textStyle":n,"top":p.top,"context":a.chart.get("canvas").get("context")});h.push(r);var o=r.getBBox(),l=o.width,c=o.height;g=Math.max(g,l),d=Math.max(d,c)}}),c.labels=h,c.maxWidth=g,c.maxHeight=d,c},t._createAxis=function _createAxis(t,e,i,n,r){void 0===r&&(r="");var a,s,o,l=t.type,c=t.transposed;if("cartesian"===l||"rect"===l){var h=this._getLinePosition(e,n,r,c);(o=j.axis[h]).position=h,a="Line",s=h}else"x"===n&&!c||"y"===n&&c?(o=j.axis.circle,a="Circle",s="circle"):(o=j.axis.radius,a="Line",s="radius");var u=this._getAxisCfg(t,e,i,n,o);u.type=a,u.dimType=n,u.verticalScale=i,u.index=r,this.axes[s]=u},t.createAxis=function createAxis(t,e,i){var n=this;e&&!n._isHide(e.field)&&n._createAxis(t,e,i[0],"x"),each(i,function(i,r){n._isHide(i.field)||n._createAxis(t,i,e,"y",r)});var r=this.axes,a=n.chart;if(a._isAutoPadding()){var s=parsePadding(a.get("padding")),o=parsePadding(a.get("appendPadding")),c=a.get("legendRange")||{"top":0,"right":0,"bottom":0,"left":0},h=["auto"===s[0]?c.top+2*o[0]:s[0],"auto"===s[1]?c.right+o[1]:s[1],"auto"===s[2]?c.bottom+o[2]:s[2],"auto"===s[3]?c.left+o[3]:s[3]];if(t.isPolar){var u=r.circle;if(u){var f=u.maxHeight,g=u.maxWidth,d=u.labelOffset;h[0]+=f+d,h[1]+=g+d,h[2]+=f+d,h[3]+=g+d}}else{if(r.right&&"auto"===s[1]){var p=r.right,v=p.maxWidth,m=p.labelOffset;h[1]+=v+m}if(r.left&&"auto"===s[3]){var y=r.left,x=y.maxWidth,_=y.labelOffset;h[3]+=x+_}if(r.bottom&&"auto"===s[2]){var S=r.bottom,C=S.maxHeight,P=S.labelOffset;h[2]+=C+P}}a.set("_padding",h),a._updateLayout(h)}each(r,function(e){var i,r=e.type,a=e.grid,s=e.verticalScale,o=e.ticks,c=e.dimType,h=e.position,u=e.index;if(t.isPolar?"Line"===r?i=n._getRadiusCfg(t):"Circle"===r&&(i=n._getCircleCfg(t)):i=n._getLineCfg(t,c,h),a&&s){var f=[],g=function formatTicks(t){var e=t.slice(0);if(e.length>0){var i=e[0],n=e[e.length-1];0!==i.value&&e.unshift({"value":0}),1!==n.value&&e.push({"value":1})}return e}(s.getTicks());each(o,function(e){var i=[];each(g,function(n){var r="x"===c?e.value:n.value,a="x"===c?n.value:e.value;if(r>=0&&r<=1&&a>=0&&a<=1){var s=t.convertPoint({"x":r,"y":a});i.push(s)}}),f.push({"points":i,"_id":"axis-"+c+u+"-grid-"+e.tickValue})}),e.gridPoints=f,t.isPolar&&(e.center=t.center,e.startAngle=t.startAngle,e.endAngle=t.endAngle)}i._id="axis-"+c,l(u)||(i._id="axis-"+c+u),new me[r](mix(e,i))})},t.clear=function clear(){this.axes={},this.frontPlot.clear(),this.backPlot.clear()},AxisController}();function getClip(t){var e,i=t.start,n=t.end,r=n.x-i.x,a=Math.abs(n.y-i.y);if(t.isPolar){var s=t.circleRadius,o=t.center,l=t.startAngle,c=t.endAngle;e=new Ie.Sector({"attrs":{"x":o.x,"y":o.y,"r":s,"r0":0,"startAngle":l,"endAngle":c}})}else e=new Ie.Rect({"attrs":{"x":i.x,"y":n.y-10,"width":r,"height":a+20}});return e.isClip=!0,e}function isPointInPlot(t,e){var i=t.x,n=t.y,r=e.tl,a=e.tr,s=e.br;return i>=r.x&&i<=a.x&&n>=r.y&&n<=s.y}var ii=Object.freeze({"__proto__":null,"getClip":getClip,"isPointInPlot":isPointInPlot});function compare(t,e){return t-e}var ni=function(t){_inheritsLoose(Chart,t),Chart.initPlugins=function initPlugins(){return{"_plugins":[],"_cacheId":0,"register":function register(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},"unregister":function unregister(t){var e=this._plugins;[].concat(t).forEach(function(t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}),this._cacheId++},"clear":function clear(){this._plugins=[],this._cacheId++},"count":function count(){return this._plugins.length},"getAll":function getAll(){return this._plugins},"notify":function notify(t,e,i){var n,r,a,s,o=this.descriptors(t),l=o.length;for(n=0;n<l;++n)if("function"==typeof(s=(r=o[n].plugin)[e])&&(a=[t].concat(i||[]),!1===s.apply(r,a)))return!1;return!0},"descriptors":function descriptors(t){var e=t._plugins||(t._plugins={});if(e.id===this._cacheId)return e.descriptors;var i=[],descriptors=[];return this._plugins.concat(t&&t.get("plugins")||[]).forEach(function(t){-1===i.indexOf(t)&&(i.push(t),descriptors.push({"plugin":t}))}),e.descriptors=descriptors,e.id=this._cacheId,descriptors}}};var e=Chart.prototype;function Chart(e){var i,n=_assertThisInitialized(i=t.call(this,e)||this);return each(ht,function(t,e){var i=x(e);n[i]=function(e){var i=new t(e);return n.addGeom(i),i}}),n._init(),i}return e.getDefaultCfg=function getDefaultCfg(){return{"id":null,"rendered":!1,"padding":j.padding,"data":null,"scales":{},"geoms":[],"colDefs":null,"pixelRatio":j.pixelRatio,"filters":null,"appendPadding":j.appendPadding}},e._syncYScales=function _syncYScales(){if(this.get("syncY")){var t=[],e=[],i=[];each(this.get("geoms"),function(n){var r=n.getYScale();r.isLinear&&(t.push(r),e.push(r.min),i.push(r.max))}),e=Math.min.apply(null,e),i=Math.max.apply(null,i),each(t,function(t){t.change({"min":e}),t.change({"max":i})})}},e._getFieldsForLegend=function _getFieldsForLegend(){var t=[];return each(this.get("geoms"),function(e){var i=e.get("attrOptions").color;i&&i.field&&d(i.field)&&each(i.field.split("*"),function(e){-1===t.indexOf(e)&&t.push(e)})}),t},e._getScaleData=function _getScaleData(t){var e=this.get("data"),i=this.get("filteredData");i.length&&(-1===this._getFieldsForLegend().indexOf(t)&&(e=i));return e},e._adjustScale=function _adjustScale(){for(var t=this.get("scaleController"),e=this.get("geoms"),i=0;i<e.length;i++){var n=e[i];if("interval"===n.get("type")){var r=n.getYScale();t.adjustStartZero(r)}}},e._removeGeoms=function _removeGeoms(){for(var t=this.get("geoms");t.length>0;){t.shift().destroy()}},e._clearGeoms=function _clearGeoms(){for(var t=this.get("geoms"),e=0,i=t.length;e<i;e++){t[e].clear()}},e._clearInner=function _clearInner(){this._clearGeoms(),Chart.plugins.notify(this,"clearInner"),this.emit("clearinner"),this.get("axisController")&&this.get("axisController").clear()},e._initFilteredData=function _initFilteredData(){var t=this.get("filters"),e=this.get("data")||[];t&&(e=e.filter(function(e){var i=!0;return each(t,function(t,n){if(t&&!(i=t(e[n],e)))return!1}),i})),this.set("filteredData",e)},e._changeGeomsData=function _changeGeomsData(){for(var t=this.get("geoms"),e=this.get("filteredData"),i=0,n=t.length;i<n;i++){t[i].changeData(e)}},e._initGeom=function _initGeom(t){if(!t.get("isInit")){var e=this.get("coord"),i=this.get("filteredData"),n=this.get("colDefs"),r=this.get("middlePlot");t.set("chart",this),t.set("container",r.addGroup()),t.set("data",i),t.set("coord",e),t.set("colDefs",n),t.init(),this.emit("_aftergeominit",t)}},e._initGeoms=function _initGeoms(){for(var t=this.get("geoms"),e=0,i=t.length;e<i;e++)this._initGeom(t[e])},e._initCoord=function _initCoord(){var t=this.get("plotRange"),e=mix({"type":"cartesian"},this.get("coordCfg"),{"plot":t}),i=e.type,n=new(0,$[_(i)])(e);this.set("coord",n)},e._initLayout=function _initLayout(){var t=this.get("_padding");t||(t=parsePadding(t=this.get("margin")||this.get("padding")));var e="auto"===t[0]?0:t[0],i="auto"===t[1]?0:t[1],n="auto"===t[2]?0:t[2],r={"x":"auto"===t[3]?0:t[3],"y":e},a={"x":this.get("width")-i,"y":this.get("height")-n},s=this.get("plot");if(s)s.reset(r,a);else{var o=new H({"start":r,"end":a});this.set("plotRange",o),this.set("plot",o)}},e._initCanvas=function _initCanvas(){try{var t=new Fe({"el":this.get("el")||this.get("id"),"context":this.get("context"),"pixelRatio":this.get("pixelRatio"),"width":this.get("width"),"height":this.get("height"),"fontFamily":j.fontFamily});this.set("canvas",t),this.set("el",t.get("el")),this.set("width",t.get("width")),this.set("height",t.get("height"))}catch(t){throw t}Chart.plugins.notify(this,"afterCanvasInit")},e._initLayers=function _initLayers(){var t=this.get("canvas");this.set("backPlot",t.addGroup()),this.set("middlePlot",t.addGroup({"zIndex":10})),this.set("frontPlot",t.addGroup({"zIndex":20}))},e._initEvents=function _initEvents(){var t=this;this.on("afterdatachange",function(){t._initFilteredData(),t._changeGeomsData()}),this.on("_aftersizechange",function(){t._initLayout();var e=t.get("coord");e&&e.reset(t.get("plot"))})},e._initScaleController=function _initScaleController(){var t=new ve({"chart":this});this.set("colDefs",t.defs),this.set("scales",t.scales),this.set("scaleController",t)},e._clearScaleController=function _clearScaleController(){this.get("scaleController").clear()},e._init=function _init(){this._initCanvas(),this._initLayout(),this._initLayers(),this._initEvents(),this._initScaleController(),this.set("axisController",new ei({"frontPlot":this.get("frontPlot").addGroup({"className":"axisContainer"}),"backPlot":this.get("backPlot").addGroup({"className":"axisContainer"}),"chart":this})),Chart.plugins.notify(this,"init")},e.init=function init(){this._initFilteredData(),this._initCoord(),Chart.plugins.notify(this,"beforeGeomInit"),this._initGeoms(),this._syncYScales(),this._adjustScale(),this.emit("afterinit")},e.source=function source(t,e){return this.set("data",t),e&&this.scale(e),this},e.scale=function scale(t,e){return this.get("scaleController").setFieldDef(t,e),this},e.axis=function axis(t,e){var i=this.get("axisController");return t?(i.axisCfg=i.axisCfg||{},i.axisCfg[t]=e):i.axisCfg=null,this},e.coord=function coord(t,e){var i;return h(t)?i=t:(i=e||{}).type=t||"cartesian",this.set("coordCfg",i),this},e.filter=function filter(t,e){var i=this.get("filters")||{};i[t]=e,this.set("filters",i),this.get("rendered")&&this.emit("afterdatachange",this.get("data"))},e.render=function render(){var t=this.get("rendered"),e=this.get("canvas"),i=this.get("geoms");t?(this._initGeoms(),this._adjustScale()):(this.init(),this.set("rendered",!0)),this.emit("beforerender"),Chart.plugins.notify(this,"beforeGeomDraw"),this._renderAxis();var n=this.get("middlePlot");if(this.get("limitInPlot")&&!n.attr("clip")){var r=getClip(this.get("coord"));r.set("canvas",n.get("canvas")),n.attr("clip",r)}this.emit("beforegeomdraw");for(var a=0,s=i.length;a<s;a++){i[a].paint()}return this.emit("aftergeomdraw"),Chart.plugins.notify(this,"afterGeomDraw"),e.sort(),this.get("frontPlot").sort(),Chart.plugins.notify(this,"beforeCanvasDraw"),e.draw(),this.emit("afterrender"),this},e.clear=function clear(){return Chart.plugins.notify(this,"clear"),this.emit("clear"),this._clearInner(),this._removeGeoms(),this._clearScaleController(),this.set("legendItems",null),this.set("filters",null),this.set("isUpdate",!1),this.set("_padding",null),this.set("rendered",!1),this.get("canvas").draw(),this},e.repaint=function repaint(){this.get("rendered")&&(this.set("isUpdate",!0),this.set("legendItems",null),Chart.plugins.notify(this,"repaint"),this._clearInner(),this.emit("repaint"),this.render())},e.changeData=function changeData(t){this.emit("beforedatachange",t),this.set("data",t),Chart.plugins.notify(this,"changeData"),this.emit("afterdatachange",t),this.set("_padding",null),this.repaint()},e.changeSize=function changeSize(t,e){return t?this.set("width",t):t=this.get("width"),e?this.set("height",e):e=this.get("height"),this.get("canvas").changeSize(t,e),this.emit("_aftersizechange",{"width":t,"height":e}),this.repaint(),this},e.destroy=function destroy(){this.clear(),this.get("canvas").destroy(),Chart.plugins.notify(this,"afterCanvasDestroyed"),this._interactions&&each(this._interactions,function(t){t.destroy()}),t.prototype.destroy.call(this)},e.getPosition=function getPosition(t){for(var e=this.get("coord"),i=this.getXScale(),n=i.field,r=this.getYScales(),a=r[0],s=a.field,o=0,l=r.length;o<l;o++){var c=r[o],h=c.field;if(t[h]){a=c,s=h;break}}var u=i.scale(t[n]),f=a.scale(t[s]);return e.convertPoint({"x":u,"y":f})},e.getRecord=function getRecord(t){var e=this.get("coord"),i=this.getXScale(),n=this.getYScales()[0],r=e.invertPoint(t),a={};return a[i.field]=i.invert(r.x),a[n.field]=n.invert(r.y),a},e.getSnapRecords=function getSnapRecords(t){var e=this.get("geoms")[0],i=[];return e&&(i=e.getSnapRecords(t)),i},e.createScale=function createScale(t){var e=this._getScaleData(t);return this.get("scaleController").createScale(t,e)},e.addGeom=function addGeom(t){this.get("geoms").push(t)},e.getXScale=function getXScale(){return this.get("geoms")[0].getXScale()},e.getYScales=function getYScales(){var t=[];return each(this.get("geoms"),function(e){var i=e.getYScale();-1===t.indexOf(i)&&t.push(i)}),t},e.getLegendItems=function getLegendItems(){if(this.get("legendItems"))return this.get("legendItems");var t={},e=[];return each(this.get("geoms"),function(i){var n=i.getAttr("color");if(n){var r=n.getScale("color");if(r.isCategory&&!function _isScaleExist(t,e){var i=!1;return each(t,function(t){var n=[].concat(t.values),r=[].concat(e.values);t.type!==e.type||t.field!==e.field||n.sort(compare).toString()!==r.sort(compare).toString()||(i=!0)}),i}(e,r)){e.push(r);var a=r.field,s=[];each(r.getTicks(),function(t){var e=t.text,i=t.value,a=r.invert(i),o={"fill":n.mapping(a).join("")||j.defaultColor,"radius":3,"symbol":"circle","stroke":"#fff"};s.push({"name":e,"dataValue":a,"checked":!0,"marker":o})}),t[a]=s}}}),this.set("legendItems",t),t},e.registerPlugins=function registerPlugins(t){var e=this,i=e.get("plugins")||[];c(i)||(i=[i]),[].concat(t).forEach(function(t){-1===i.indexOf(t)&&(t.init&&t.init(e),i.push(t))}),Chart.plugins._cacheId++,e.set("plugins",i)},e._renderAxis=function _renderAxis(){var t=this.get("axisController"),e=this.getXScale(),i=this.getYScales(),n=this.get("coord");Chart.plugins.notify(this,"beforeRenderAxis"),t.createAxis(n,e,i)},e._isAutoPadding=function _isAutoPadding(){if(this.get("_padding"))return!1;var t=this.get("padding");return c(t)?-1!==t.indexOf("auto"):"auto"===t},e._updateLayout=function _updateLayout(t){var e=this.get("width"),i=this.get("height"),n={"x":t[3],"y":t[0]},r={"x":e-t[1],"y":i-t[2]},a=this.get("plot"),s=this.get("coord");a.reset(n,r),s.reset(a)},Chart}(X);ni.plugins=ni.initPlugins();var ri=function track(){return null};function splitPoints(t){var e=[],i=t.x,n=t.y;return(n=c(n)?n:[n]).forEach(function(t,n){var r={"x":c(i)?i[n]:i,"y":t};e.push(r)}),e}function splitArray(t,e,i){if(!t.length)return[];var n,r=[],a=[];return each(t,function(t){n=t._origin?t._origin[e]:t[e],i?l(n)||a.push(t):c(n)&&l(n[0])||l(n)?a.length&&(r.push(a),a=[]):a.push(t)}),a.length&&r.push(a),r}rt.registerFactory("point",{"defaultShapeType":"circle","getDefaultPoints":function getDefaultPoints(t){return splitPoints(t)}});function drawShape(t,e,i){if(0!==t.size){var n=function getPointsCfg(t){var e={"lineWidth":0,"stroke":t.color,"fill":t.color};return t.size&&(e.size=t.size),mix(e,t.style),mix({},j.shape.point,e)}(t),r=n.r||n.size,a=t.x,s=c(t.y)?t.y:[t.y];"hollowCircle"===i&&(n.lineWidth=1,n.fill=null);for(var o=0,l=s.length;o<l;o++)return"rect"===i?e.addShape("Rect",{"className":"point","attrs":mix({"x":a-r,"y":s[o]-r,"width":2*r,"height":2*r},n)}):e.addShape("Circle",{"className":"point","attrs":mix({"x":a,"y":s[o],"r":r},n)})}}each(["circle","hollowCircle","rect"],function(t){rt.registerShape("point",t,{"draw":function draw(e,i){return drawShape(e,i,t)}})});var ai=function(t){function Point(){return t.apply(this,arguments)||this}_inheritsLoose(Point,t);var e=Point.prototype;return e.getDefaultCfg=function getDefaultCfg(){var e=t.prototype.getDefaultCfg.call(this);return e.type="point",e.shapeType="point",e.generatePoints=!1,e},e.draw=function draw(t,e){var i=this,n=i.get("container");each(t,function(t){var r=t.shape,a=i.getDrawCfg(t);if(c(t.y)){var s=i.hasAdjust("stack");each(t.y,function(o,l){a.y=o,s&&0===l||i.drawShape(r,t,a,n,e)})}else l(t.y)||i.drawShape(r,t,a,n,e)})},Point}(ht);ht.Point=ai;rt.registerFactory("line",{"defaultShapeType":"line"});each(["line","smooth","dash"],function(t){rt.registerShape("line",t,{"draw":function draw(e,i){var n="smooth"===t,r=function getStyle$1(t){var e={"strokeStyle":t.color};return t.size>=0&&(e.lineWidth=t.size),mix(e,t.style),mix({},j.shape.line,e)}(e);return"dash"===t&&(r.lineDash=j.lineDash),function drawLines(t,e,i,n){var r=t.points;if(r.length&&c(r[0].y)){for(var a=[],s=[],o=0,l=r.length;o<l;o++){var h=splitPoints(r[o]);s.push(h[0]),a.push(h[1])}return t.isInCircle&&(a.push(a[0]),s.push(s[0])),t.isStack?e.addShape("Polyline",{"className":"line","attrs":mix({"points":a,"smooth":n},i)}):[e.addShape("Polyline",{"className":"line","attrs":mix({"points":a,"smooth":n},i)}),e.addShape("Polyline",{"className":"line","attrs":mix({"points":s,"smooth":n},i)})]}return t.isInCircle&&r.push(r[0]),e.addShape("Polyline",{"className":"line","attrs":mix({"points":r,"smooth":n},i)})}(e,i,r,n)}})});var si=function(t){function Path(){return t.apply(this,arguments)||this}_inheritsLoose(Path,t);var e=Path.prototype;return e.getDefaultCfg=function getDefaultCfg(){var e=t.prototype.getDefaultCfg.call(this);return e.type="path",e.shapeType="line",e},e.getDrawCfg=function getDrawCfg(e){var i=t.prototype.getDrawCfg.call(this,e);return i.isStack=this.hasAdjust("stack"),i},e.draw=function draw(t,e){var i=this,n=i.get("container"),r=i.getYScale(),a=i.get("connectNulls"),s=splitArray(t,r.field,a),o=this.getDrawCfg(t[0]);o.origin=t,each(s,function(r,a){o.splitedIndex=a,o.points=r,i.drawShape(o.shape,t[0],o,n,e)})},Path}(ht);ht.Path=si;var oi=function(t){function Line(){return t.apply(this,arguments)||this}return _inheritsLoose(Line,t),Line.prototype.getDefaultCfg=function getDefaultCfg(){var e=t.prototype.getDefaultCfg.call(this);return e.type="line",e.sortable=!0,e},Line}(si);function equals(t,e){return Math.abs(t-e)<1e-5}function notEmpty(t){return!isNaN(t)&&!l(t)}function filterPoints(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i];notEmpty(r.x)&&notEmpty(r.y)&&e.push(r)}return e}function drawShape$1(t,e,i){var n=[],r=[];each(t.points,function(t){r.push(t[0]),n.push(t[1])});var a=mix({"fillStyle":t.color},j.shape.area,t.style);return r.reverse(),n=this.parsePoints(n),r=this.parsePoints(r),t.isInCircle&&(n.push(n[0]),r.unshift(r[r.length-1]),function equalsCenter(t,e){var i=!0;return each(t,function(t){if(!equals(t.x,e.x)||!equals(t.y,e.y))return i=!1,!1}),i}(r,t.center)&&(r=[])),function drawRectShape(t,e,i,n,r){var a=t.concat(e);return r?i.addShape("Custom",{"className":"area","attrs":mix({"points":a},n),"createPath":function createPath(t){var e=[[0,0],[1,1]],i=filterPoints(this._attrs.attrs.points),n=i.length,r=i.slice(0,n/2),a=i.slice(n/2,n),s=catmullRom2bezier(r,!1,e);t.beginPath(),t.moveTo(r[0].x,r[0].y);for(var o=0,l=s.length;o<l;o++){var c=s[o];t.bezierCurveTo(c[1],c[2],c[3],c[4],c[5],c[6])}if(a.length){var h=catmullRom2bezier(a,!1,e);t.lineTo(a[0].x,a[0].y);for(var u=0,f=h.length;u<f;u++){var g=h[u];t.bezierCurveTo(g[1],g[2],g[3],g[4],g[5],g[6])}}t.closePath()},"calculateBox":function calculateBox(){return getBBoxFromPoints(filterPoints(this._attrs.attrs.points))}}):i.addShape("Polyline",{"className":"area","attrs":mix({"points":a},n)})}(n,r,e,a,i)}ht.Line=oi;rt.registerFactory("area",{"defaultShapeType":"area","getDefaultPoints":function getDefaultPoints(t){var e=t.x,i=t.y,n=t.y0;i=c(i)?i:[n,i];var r=[];return r.push({"x":e,"y":i[0]},{"x":e,"y":i[1]}),r}});each(["area","smooth"],function(t){rt.registerShape("area",t,{"draw":function draw(e,i){var n="smooth"===t;return drawShape$1.call(this,e,i,n)}})});var li=function(t){function Area(){return t.apply(this,arguments)||this}_inheritsLoose(Area,t);var e=Area.prototype;return e.getDefaultCfg=function getDefaultCfg(){var e=t.prototype.getDefaultCfg.call(this);return e.type="area",e.shapeType="area",e.generatePoints=!0,e.sortable=!0,e},e.draw=function draw(t,e){var i=this,n=i.get("container"),r=this.getDrawCfg(t[0]),a=i.getYScale(),s=i.get("connectNulls"),o=splitArray(t,a.field,s);r.origin=t,each(o,function(a,s){r.splitedIndex=s;var o=a.map(function(t){return t.points});r.points=o,i.drawShape(r.shape,t[0],r,n,e)})},Area}(ht);ht.Area=li;var ci={"initEvent":function initEvent(){var t=this,e=this.get("chart");e&&e.on("_aftersizechange",function(){t.set("_width",null)})},"getDefaultSize":function getDefaultSize(){var t=this.get("defaultSize");if(!t){var e=this.get("coord"),i=this.getXScale(),n=this.get("dataArray"),r=p(i.values).length,a=i.range,s=1/r,o=1;e&&e.isPolar?o=e.transposed&&r>1?j.widthRatio.multiplePie:j.widthRatio.rose:(i.isLinear&&(s*=a[1]-a[0]),o=j.widthRatio.column),s*=o,this.hasAdjust("dodge")&&(s/=n.length),t=s,this.set("defaultSize",t)}return t},"getDimWidth":function getDimWidth(t){var e=this.get("coord"),i=e.convertPoint({"x":0,"y":0}),n=e.convertPoint({"x":"x"===t?1:0,"y":"x"===t?0:1}),r=0;return i&&n&&(r=Math.sqrt(Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2))),r},"_getWidth":function _getWidth(){var t=this.get("_width");if(!t){var e=this.get("coord");t=e&&e.isPolar&&!e.transposed?(e.endAngle-e.startAngle)*e.circleRadius:this.getDimWidth("x"),this.set("_width",t)}return t},"_toNormalizedSize":function _toNormalizedSize(t){return t/this._getWidth()},"_toCoordSize":function _toCoordSize(t){return this._getWidth()*t},"getNormalizedSize":function getNormalizedSize(t){var e=this.getAttrValue("size",t);return e=l(e)?this.getDefaultSize():this._toNormalizedSize(e)},"getSize":function getSize(t){var e=this.getAttrValue("size",t);if(l(e)){var i=this.getDefaultSize();e=this._toCoordSize(i)}return e}};function getRectPoints(t){var e,i,n=t.x,r=t.y,a=t.y0,s=t.size,o=a,l=r;return c(r)&&(l=r[1],o=r[0]),c(n)?(e=n[0],i=n[1]):(e=n-s/2,i=n+s/2),[{"x":e,"y":o},{"x":e,"y":l},{"x":i,"y":l},{"x":i,"y":o}]}rt.registerFactory("interval",{"defaultShapeType":"rect","getDefaultPoints":function getDefaultPoints(t){return getRectPoints(t)}});rt.registerShape("interval","rect",{"draw":function draw(t,e){var i=this.parsePoints(t.points),n=mix({"fill":t.color},j.shape.interval,t.style);if(t.isInCircle){var r=i.slice(0);this._coord.transposed&&(r=[i[0],i[3],i[2],i[1]]);var a=t.center,s=a.x,o=a.y,l=[1,0],c=[r[0].x-s,r[0].y-o],h=[r[1].x-s,r[1].y-o],u=[r[2].x-s,r[2].y-o],f=W.angleTo(l,h),g=W.angleTo(l,u),d=W.length(c),p=W.length(h);return f>=1.5*Math.PI&&(f-=2*Math.PI),g>=1.5*Math.PI&&(g-=2*Math.PI),e.addShape("Sector",{"className":"interval","attrs":mix({"x":s,"y":o,"r":p,"r0":d,"startAngle":f,"endAngle":g},n)})}var v=function getRectRange(t){for(var e=[],i=[],n=0,r=t.length;n<r;n++){var a=t[n];e.push(a.x),i.push(a.y)}var s=Math.min.apply(null,e),o=Math.min.apply(null,i);return{"x":s,"y":o,"width":Math.max.apply(null,e)-s,"height":Math.max.apply(null,i)-o}}(i);return e.addShape("rect",{"className":"interval","attrs":mix(v,n)})}}),["pyramid","funnel"].forEach(function(t){rt.registerShape("interval",t,{"getPoints":function getPoints(t){return t.size=2*t.size,getRectPoints(t)},"draw":function draw(e,i){var n=this.parsePoints(e.points),r=this.parsePoints(e.nextPoints),a=null;r?a=[n[0],n[1],r[1],r[0]]:(a=[n[0],n[1]],"pyramid"===t?a.push(function getMiddlePoint(t,e){return{"x":(t.x-e.x)/2+e.x,"y":(t.y-e.y)/2+e.y}}(n[2],n[3])):a.push(n[2],n[3]));var s=mix({"fill":e.color,"points":a},j.shape.interval,e.style);return i.addShape("polygon",{"className":"interval","attrs":s})}})});var hi=function(t){_inheritsLoose(Interval,t);var e=Interval.prototype;function Interval(e){var i;return mix(_assertThisInitialized(i=t.call(this,e)||this),ci),i}return e.getDefaultCfg=function getDefaultCfg(){var e=t.prototype.getDefaultCfg.call(this);return e.type="interval",e.shapeType="interval",e.generatePoints=!0,e},e.init=function init(){t.prototype.init.call(this),this.initEvent()},e.createShapePointsCfg=function createShapePointsCfg(e){var i=t.prototype.createShapePointsCfg.call(this,e);return i.size=this.getNormalizedSize(e),i},e.clearInner=function clearInner(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},Interval}(ht);ht.Interval=hi;rt.registerFactory("polygon",{"defaultShapeType":"polygon","getDefaultPoints":function getDefaultPoints(t){for(var e=[],i=t.x,n=t.y,r=0,a=i.length;r<a;r++)e.push({"x":i[r],"y":n[r]});return e}});rt.registerShape("polygon","polygon",{"draw":function draw(t,e){var i=this.parsePoints(t.points),n=mix({"fill":t.color,"points":i},t.style);return e.addShape("Polygon",{"className":"polygon","attrs":n})}});var ui=function(t){function Polygon(){return t.apply(this,arguments)||this}_inheritsLoose(Polygon,t);var e=Polygon.prototype;return e.getDefaultCfg=function getDefaultCfg(){var e=t.prototype.getDefaultCfg.call(this);return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e},e.createShapePointsCfg=function createShapePointsCfg(e){var i,n=t.prototype.createShapePointsCfg.call(this,e),r=n.x,a=n.y;if(!c(r)||!c(a)){var s=this.getXScale(),o=this.getYScale(),l=.5/(s.values?s.values.length:s.ticks.length),h=.5/(o.values?o.values.length:o.ticks.length);s.isCategory&&o.isCategory?(r=[r-l,r-l,r+l,r+l],a=[a-h,a+h,a+h,a-h]):c(r)?(r=[(i=r)[0],i[0],i[1],i[1]],a=[a-h/2,a+h/2,a+h/2,a-h/2]):c(a)&&(a=[(i=a)[0],i[1],i[1],i[0]],r=[r-l/2,r-l/2,r+l/2,r+l/2]),n.x=r,n.y=a}return n},Polygon}(ht);ht.Polygon=ui;rt.registerFactory("schema",{});rt.registerShape("schema","candle",{"getPoints":function getPoints(t){return function getCandlePoints(t,e,i){var n=function _sortValue(t){var e=t.sort(function(t,e){return t<e?1:-1}),i=e.length;if(i<4)for(var n=e[i-1],r=0;r<4-i;r++)e.push(n);return e}(e);return[{"x":t,"y":n[0]},{"x":t,"y":n[1]},{"x":t-i/2,"y":n[2]},{"x":t-i/2,"y":n[1]},{"x":t+i/2,"y":n[1]},{"x":t+i/2,"y":n[2]},{"x":t,"y":n[2]},{"x":t,"y":n[3]}]}(t.x,t.y,t.size)},"draw":function draw(t,e){var i=this.parsePoints(t.points),n=mix({"stroke":t.color,"fill":t.color,"lineWidth":1},t.style);return e.addShape("Custom",{"className":"schema","attrs":n,"createPath":function createPath(t){t.beginPath(),t.moveTo(i[0].x,i[0].y),t.lineTo(i[1].x,i[1].y),t.moveTo(i[2].x,i[2].y);for(var e=3;e<6;e++)t.lineTo(i[e].x,i[e].y);t.closePath(),t.moveTo(i[6].x,i[6].y),t.lineTo(i[7].x,i[7].y)}})}});var fi=function(t){_inheritsLoose(Schema,t);var e=Schema.prototype;function Schema(e){var i;return mix(_assertThisInitialized(i=t.call(this,e)||this),ci),i}return e.getDefaultCfg=function getDefaultCfg(){var e=t.prototype.getDefaultCfg.call(this);return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e},e.init=function init(){t.prototype.init.call(this),this.initEvent()},e.createShapePointsCfg=function createShapePointsCfg(e){var i=t.prototype.createShapePointsCfg.call(this,e);return i.size=this.getNormalizedSize(e),i},e.clearInner=function clearInner(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},Schema}(ht);ht.Schema=fi;var gi={}.toString,di=function isType(t,e){return gi.call(t)==="[object "+e+"]"},pi=Array.isArray?Array.isArray:function(t){return di(t,"Array")},vi=function isNil(t){return null===t||void 0===t};var mi=function(t){function Stack(){return t.apply(this,arguments)||this}!function _inheritsLoose$1(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(Stack,t);var e=Stack.prototype;return e._initDefaultCfg=function _initDefaultCfg(){this.xField=null,this.yField=null},e.processAdjust=function processAdjust(t){this.processStack(t)},e.processStack=function processStack(t){var e=this.xField,i=this.yField,n=t.length,r={"positive":{},"negative":{}};this.reverseOrder&&(t=t.slice(0).reverse());for(var a=0;a<n;a++)for(var s=t[a],o=0,l=s.length;o<l;o++){var c=s[o],h=c[e]||0,u=c[i],f=h.toString();if(u=pi(u)?u[1]:u,!vi(u)){var g=u>=0?"positive":"negative";r[g][f]||(r[g][f]=0),c[i]=[r[g][f],u+r[g][f]],r[g][f]+=u}}},Stack}(lt);lt.Stack=mi;var yi="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)},xi=function isObject(t){var e=void 0===t?"undefined":yi(t);return null!==t&&"object"===e||"function"===e},_i=function each(t,e){if(t)if(pi(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(xi(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break};var Si=function(t){function Dodge(){return t.apply(this,arguments)||this}!function _inheritsLoose$2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(Dodge,t);var e=Dodge.prototype;return e._initDefaultCfg=function _initDefaultCfg(){this.marginRatio=.5,this.dodgeRatio=.5,this.adjustNames=["x","y"]},e.getDodgeOffset=function getDodgeOffset(t,e,i){var n=t.pre,r=t.next,a=r-n,s=a*this.dodgeRatio/i,o=this.marginRatio*s;return(n+r)/2+(.5*(a-i*s-(i-1)*o)+((e+1)*s+e*o)-.5*s-.5*a)},e.processAdjust=function processAdjust(t){var e=this,i=t.length,n=e.xField;_i(t,function(t,r){for(var a=0,s=t.length;a<s;a++){var o=t[a],l=o[n],c={"pre":1===s?l-1:l-.5,"next":1===s?l+1:l+.5},h=e.getDodgeOffset(c,r,i);o[n]=h}})},Dodge}(lt);lt.Dodge=Si;var Ci=function isFunction(t){return di(t,"Function")},Pi=function maxBy(t,e){if(pi(t)){var i=t[0],n=void 0;n=Ci(e)?e(t[0]):t[0][e];var r=void 0;return _i(t,function(t){(r=Ci(e)?e(t):t[e])>n&&(i=t,n=r)}),i}};var Mi={"merge":function merge(t){for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);return e}},wi=function(t){function Symmetric(){return t.apply(this,arguments)||this}!function _inheritsLoose$3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(Symmetric,t);var e=Symmetric.prototype;return e._initDefaultCfg=function _initDefaultCfg(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},e._getMax=function _getMax(t){var e=this.mergeData,i=Pi(e,function(e){var i=e[t];return pi(i)?Math.max.apply(null,i):i})[t];return pi(i)?Math.max.apply(null,i):i},e._getXValuesMax=function _getXValuesMax(){var t=this.yField,e=this.xField,i={},n=this.mergeData;return _i(n,function(n){var r=n[e],a=n[t],s=pi(a)?Math.max.apply(null,a):a;i[r]=i[r]||0,i[r]<s&&(i[r]=s)}),i},e.processAdjust=function processAdjust(t){var e=Mi.merge(t);this.mergeData=e,this._processSymmetric(t),this.mergeData=null},e._processSymmetric=function _processSymmetric(t){var e,i=this.xField,n=this.yField,r=this._getMax(n),a=t[0][0];a&&pi(a[n])&&(e=this._getXValuesMax()),_i(t,function(t){_i(t,function(t){var a,s=t[n];if(pi(s)){var o=t[i],l=e[o];a=(r-l)/2;var c=[];_i(s,function(t){c.push(a+t)}),t[n]=c}else a=(r-s)/2,t[n]=[a,s+a]})})},Symmetric}(lt);lt.Symmetric=wi;var bi=function(t){function Polar(){return t.apply(this,arguments)||this}_inheritsLoose(Polar,t);var e=Polar.prototype;return e._initDefaultCfg=function _initDefaultCfg(){this.type="polar",this.startAngle=-Math.PI/2,this.endAngle=3*Math.PI/2,this.inner=0,this.innerRadius=0,this.isPolar=!0,this.transposed=!1,this.center=null,this.radius=null},e.init=function init(e,i){t.prototype.init.call(this,e,i);var n,r,a=this.inner||this.innerRadius,s=Math.abs(i.x-e.x),o=Math.abs(i.y-e.y);this.startAngle===-Math.PI&&0===this.endAngle?(n=Math.min(s/2,o),r={"x":(e.x+i.x)/2,"y":e.y}):(n=Math.min(s,o)/2,r={"x":(e.x+i.x)/2,"y":(e.y+i.y)/2});var l=this.radius;l>0&&l<=1&&(n*=l),this.x={"start":this.startAngle,"end":this.endAngle},this.y={"start":n*a,"end":n},this.center=r,this.circleRadius=n},e._convertPoint=function _convertPoint(t){var e=this.center,i=this.transposed,n=i?"y":"x",r=i?"x":"y",a=this.x,s=this.y,o=a.start+(a.end-a.start)*t[n],l=s.start+(s.end-s.start)*t[r];return{"x":e.x+Math.cos(o)*l,"y":e.y+Math.sin(o)*l}},e._invertPoint=function _invertPoint(t){var e=this.center,i=this.transposed,n=this.x,r=this.y,a=i?"y":"x",s=i?"x":"y",o=[1,0,0,1,0,0];V.rotate(o,o,n.start);var l=[1,0];W.transformMat2d(l,l,o),l=[l[0],l[1]];var c=[t.x-e.x,t.y-e.y];if(W.zero(c))return{"x":0,"y":0};var h=W.angleTo(l,c,n.end<n.start);Math.abs(h-2*Math.PI)<.001&&(h=0);var u=W.length(c),f=h/(n.end-n.start);f=n.end-n.start>0?f:-f;var g=(u-r.start)/(r.end-r.start),d={};return d[a]=f,d[s]=g,d},Polar}($);$.Polar=bi;var Ti=function(t){function Circle(){return t.apply(this,arguments)||this}_inheritsLoose(Circle,t);var e=Circle.prototype;return e._initDefaultCfg=function _initDefaultCfg(){t.prototype._initDefaultCfg.call(this),this.startAngle=-Math.PI/2,this.endAngle=3*Math.PI/2,this.radius=null,this.center=null},e.getOffsetPoint=function getOffsetPoint(t){var e=this.startAngle,i=e+(this.endAngle-e)*t;return this._getCirclePoint(i)},e._getCirclePoint=function _getCirclePoint(t,e){var i=this.center;return e=e||this.radius,{"x":i.x+Math.cos(t)*e,"y":i.y+Math.sin(t)*e}},e.getTextAlignInfo=function getTextAlignInfo(t,e){var i,n=this.getOffsetVector(t,e),r="middle";return n[0]>0?i="left":n[0]<0?i="right":(i="center",n[1]>0?r="top":n[1]<0&&(r="bottom")),{"textAlign":i,"textBaseline":r}},e.getAxisVector=function getAxisVector(t){var e=this.center,i=this.offsetFactor;return[(t.y-e.y)*i,-1*(t.x-e.x)*i]},e.drawLine=function drawLine(t){var e=this.center,i=this.radius,n=this.startAngle,r=this.endAngle;this.getContainer(t.top).addShape("arc",{"className":"axis-line","attrs":mix({"x":e.x,"y":e.y,"r":i,"startAngle":n,"endAngle":r},t)})},Circle}(me);me.Circle=Ti;var ki={"min":0,"median":.5,"max":1},Di=function(){var t=GuideBase.prototype;function GuideBase(t){this._initDefaultCfg(),k(this,t)}return t._initDefaultCfg=function _initDefaultCfg(){},t._getNormalizedValue=function _getNormalizedValue(t,e){return l(ki[t])?e.scale(t):ki[t]},t.parsePercentPoint=function parsePercentPoint(t,e){var i=parseFloat(e[0])/100,n=parseFloat(e[1])/100,r=t.start,a=t.end,s=Math.abs(r.x-a.x),o=Math.abs(r.y-a.y);return{"x":s*i+Math.min(r.x,a.x),"y":o*n+Math.min(r.y,a.y)}},t.parsePoint=function parsePoint(t,e){var i=this.xScale,n=this.yScales;if(s(e)&&(e=e(i,n)),d(e[0])&&-1!==e[0].indexOf("%")&&!isNaN(e[0].slice(0,-1)))return this.parsePercentPoint(t,e);var r=this._getNormalizedValue(e[0],i),a=this._getNormalizedValue(e[1],n[0]),o=t.convertPoint({"x":r,"y":a});return this.limitInPlot?r>=0&&r<=1&&a>=0&&a<=1?o:null:o},t.render=function render(){},t.repaint=function repaint(){this.remove();var t=this.coord,e=this.container,i=this.canvas;e&&!e.isDestroyed()&&(this.render(t,e),i.draw())},t.remove=function remove(){var t=this.element;t&&t.remove(!0)},t.changeVisible=function changeVisible(t){this.visible=t;var e=this.element;e&&(e.set?e.set("visible",t):e.style.display=t?"":"none")},GuideBase}(),Ai=function(t){function Arc(){return t.apply(this,arguments)||this}_inheritsLoose(Arc,t);var e=Arc.prototype;return e._initDefaultCfg=function _initDefaultCfg(){this.type="arc",this.start=[],this.end=[],this.style={"stroke":"#999","lineWidth":1}},e.render=function render(t,e){var i=this.parsePoint(t,this.start),n=this.parsePoint(t,this.end);if(i&&n){var r=t.center,a=Math.sqrt((i.x-r.x)*(i.x-r.x)+(i.y-r.y)*(i.y-r.y)),s=Math.atan2(i.y-r.y,i.x-r.x),o=Math.atan2(n.y-r.y,n.x-r.x),l=e.addShape("arc",{"className":"guide-arc","attrs":mix({"x":r.x,"y":r.y,"r":a,"startAngle":s,"endAngle":o},this.style)});return this.element=l,l}},Arc}(Di);function modifyCSS(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style[i]=e[i]);return t}function createDom(t){var e=document.createElement("div");return t=t.replace(/(^\s*)|(\s*$)/g,""),e.innerHTML=""+t,e.childNodes[0]}Di.Arc=Ai;var Ii=function(t){function Html(){return t.apply(this,arguments)||this}_inheritsLoose(Html,t);var e=Html.prototype;return e._initDefaultCfg=function _initDefaultCfg(){this.type="html",this.position=null,this.alignX="center",this.alignY="middle",this.offsetX=null,this.offsetY=null,this.html=null},e.render=function render(t,e){var i=this.parsePoint(t,this.position);if(i){var n=createDom(this.html);n=modifyCSS(n,{"position":"absolute","top":Math.floor(i.y)+"px","left":Math.floor(i.x)+"px","visibility":"hidden"});var r=e.get("canvas").get("el"),a=r.parentNode;a=modifyCSS(a,{"position":"relative"});var s=createDom('<div class="guideWapper" style="position: absolute;top: 0; left: 0;"></div>');a.appendChild(s),s.appendChild(n);var o=r.offsetTop,l=r.offsetLeft,c=this.alignX,h=this.alignY,u=this.offsetX,f=this.offsetY,g=function getOffsetFromAlign(t,e,i,n){var r=[];return"left"===t&&"top"===e?(r[0]=0,r[1]=0):"right"===t&&"top"===e?(r[0]=-i,r[1]=0):"left"===t&&"bottom"===e?(r[0]=0,r[1]=Math.floor(-n)):"right"===t&&"bottom"===e?(r[0]=Math.floor(-i),r[1]=Math.floor(-n)):"right"===t&&"middle"===e?(r[0]=Math.floor(-i),r[1]=Math.floor(-n/2)):"left"===t&&"middle"===e?(r[0]=0,r[1]=Math.floor(-n/2)):"center"===t&&"bottom"===e?(r[0]=Math.floor(-i/2),r[1]=Math.floor(-n)):"center"===t&&"top"===e?(r[0]=Math.floor(-i/2),r[1]=0):(r[0]=Math.floor(-i/2),r[1]=Math.floor(-n/2)),r}(c,h,getWidth(n),getHeight(n));i.x=i.x+g[0]+l,i.y=i.y+g[1]+o,u&&(i.x+=u),f&&(i.y+=f),modifyCSS(n,{"top":Math.floor(i.y)+"px","left":Math.floor(i.x)+"px","visibility":"visible"}),this.element=s}},e.remove=function remove(){var t=this.element;t&&t.parentNode&&t.parentNode.removeChild(t)},Html}(Di);Di.Html=Ii;var Yi=function(t){function Line(){return t.apply(this,arguments)||this}_inheritsLoose(Line,t);var e=Line.prototype;return e._initDefaultCfg=function _initDefaultCfg(){this.type="line",this.start=[],this.end=[],this.style={"stroke":"#000","lineWidth":1}},e.render=function render(t,e){var i=[];if(i[0]=this.parsePoint(t,this.start),i[1]=this.parsePoint(t,this.end),i[0]&&i[1]){var n=e.addShape("Line",{"className":"guide-line","attrs":mix({"x1":i[0].x,"y1":i[0].y,"x2":i[1].x,"y2":i[1].y},this.style)});return this.element=n,n}},Line}(Di);Di.Line=Yi;var Li=function(t){function Rect(){return t.apply(this,arguments)||this}_inheritsLoose(Rect,t);var e=Rect.prototype;return e._initDefaultCfg=function _initDefaultCfg(){this.type="rect",this.start=[],this.end=[],this.style={"fill":"#CCD7EB","opacity":.4}},e.render=function render(t,e){var i=this.parsePoint(t,this.start),n=this.parsePoint(t,this.end);if(i&&n){var r=e.addShape("rect",{"className":"guide-rect","attrs":mix({"x":Math.min(i.x,n.x),"y":Math.min(i.y,n.y),"width":Math.abs(n.x-i.x),"height":Math.abs(i.y-n.y)},this.style)});return this.element=r,r}},Rect}(Di);Di.Rect=Li;var Ei=function(t){function Text(){return t.apply(this,arguments)||this}_inheritsLoose(Text,t);var e=Text.prototype;return e._initDefaultCfg=function _initDefaultCfg(){this.type="text",this.position=null,this.content=null,this.style={"fill":"#000"},this.offsetX=0,this.offsetY=0},e.render=function render(t,e){var i=this.position,n=this.parsePoint(t,i);if(n){var r=this.content,a=this.style,s=this.offsetX,o=this.offsetY;s&&(n.x+=s),o&&(n.y+=o);var l=e.addShape("text",{"className":"guide-text","attrs":mix({"x":n.x,"y":n.y,"text":r},a)});return this.element=l,l}},Text}(Di);Di.Text=Ei;var Oi=function(t){function Tag(){return t.apply(this,arguments)||this}_inheritsLoose(Tag,t);var e=Tag.prototype;return e._initDefaultCfg=function _initDefaultCfg(){this.type="tag",this.position=null,this.content=null,this.direct="tl",this.autoAdjust=!0,this.offsetX=0,this.offsetY=0,this.side=4,this.background={"padding":5,"radius":2,"fill":"#1890FF"},this.textStyle={"fontSize":12,"fill":"#fff","textAlign":"center","textBaseline":"middle"},this.withPoint=!0,this.pointStyle={"fill":"#1890FF","r":3,"lineWidth":1,"stroke":"#fff"}},e._getDirect=function _getDirect(t,e,i,n){var r=this.direct,a=this.side,s=t.get("canvas"),o=s.get("width"),l=s.get("height"),c=e.x,h=e.y,u=r[0],f=r[1];"t"===u&&h-a-n<0?u="b":"b"===u&&h+a+n>l&&(u="t");var g="c"===u?a:0;return"l"===f&&c-g-i<0?f="r":"r"===f&&c+g+i>o?f="l":"c"===f&&(i/2+c+g>o?f="l":c-i/2-g<0&&(f="r")),r=u+f},e.render=function render(t,e){var i=this.parsePoint(t,this.position);if(i&&!isNaN(i.x)&&!isNaN(i.y)){var n=this.content,r=this.background,a=this.textStyle,s=[],o=e.addGroup({"className":"guide-tag"});if(this.withPoint){var l=o.addShape("Circle",{"className":"guide-tag-point","attrs":mix({"x":i.x,"y":i.y},this.pointStyle)});s.push(l)}var c=o.addGroup(),h=c.addShape("text",{"className":"guide-tag-text","zIndex":1,"attrs":mix({"x":0,"y":0,"text":n},a)});s.push(h);var u=h.getBBox(),f=parsePadding(r.padding),g=u.width+f[1]+f[3],d=u.height+f[0]+f[2],p=u.minY-f[0],v=u.minX-f[3],m=c.addShape("rect",{"className":"guide-tag-bg","zIndex":-1,"attrs":mix({"x":v,"y":p,"width":g,"height":d},r)});s.push(m);var y,x=this.autoAdjust?this._getDirect(e,i,g,d):this.direct,_=this.side,S=i.x+this.offsetX,C=i.y+this.offsetY,P=parsePadding(r.radius);"tl"===x?(y=[{"x":g+v-_-1,"y":d+p-1},{"x":g+v,"y":d+p-1},{"x":g+v,"y":d+_+p}],P[2]=0,S-=g,C=C-_-d):"cl"===x?(y=[{"x":g+v-1,"y":(d-_)/2+p-1},{"x":g+v-1,"y":(d+_)/2+p+1},{"x":g+_+v,"y":d/2+p}],S=S-g-_,C-=d/2):"bl"===x?(y=[{"x":g+v,"y":-_+p},{"x":g+v-_-1,"y":p+1},{"x":g+v,"y":p+1}],P[1]=0,S-=g,C+=_):"bc"===x?(y=[{"x":g/2+v,"y":-_+p},{"x":(g-_)/2+v-1,"y":p+1},{"x":(g+_)/2+v+1,"y":p+1}],S-=g/2,C+=_):"br"===x?(y=[{"x":v,"y":p-_},{"x":v,"y":p+1},{"x":v+_+1,"y":p+1}],P[0]=0,C+=_):"cr"===x?(y=[{"x":v-_,"y":d/2+p},{"x":v+1,"y":(d-_)/2+p-1},{"x":v+1,"y":(d+_)/2+p+1}],S+=_,C-=d/2):"tr"===x?(y=[{"x":v,"y":d+_+p},{"x":v,"y":d+p-1},{"x":_+v+1,"y":d+p-1}],P[3]=0,C=C-d-_):"tc"===x&&(y=[{"x":(g-_)/2+v-1,"y":d+p-1},{"x":(g+_)/2+v+1,"y":d+p-1},{"x":g/2+v,"y":d+_+p}],S-=g/2,C=C-d-_);var M=c.addShape("Polygon",{"className":"guide-tag-side","zIndex":0,"attrs":{"points":y,"fill":r.fill}});return s.push(M),m.attr("radius",P),c.moveTo(S-v,C-p),c.sort(),this.element=o,s}},Tag}(Di);Di.Tag=Oi;var Bi=function(t){function Point(){return t.apply(this,arguments)||this}_inheritsLoose(Point,t);var e=Point.prototype;return e._initDefaultCfg=function _initDefaultCfg(){this.type="point",this.position=null,this.offsetX=0,this.offsetY=0,this.style={"fill":"#1890FF","r":3,"lineWidth":1,"stroke":"#fff"}},e.render=function render(t,e){var i=this.parsePoint(t,this.position);if(!i)return null;var n=e.addShape("Circle",{"className":"guide-point","attrs":mix({"x":i.x+this.offsetX,"y":i.y+this.offsetY},this.style)});return this.element=n,n},Point}(Di);Di.Point=Bi;var Fi={"circle":function circle(t,e,i,n){n.arc(t,e,i,0,2*Math.PI,!1)},"square":function square(t,e,i,n){n.moveTo(t-i,e-i),n.lineTo(t+i,e-i),n.lineTo(t+i,e+i),n.lineTo(t-i,e+i),n.closePath()}},zi=function(t){function Marker(){return t.apply(this,arguments)||this}_inheritsLoose(Marker,t);var e=Marker.prototype;return e._initProperties=function _initProperties(){t.prototype._initProperties.call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="marker"},e.getDefaultAttrs=function getDefaultAttrs(){return{"x":0,"y":0,"lineWidth":0}},e.createPath=function createPath(t){var e,i=this.get("attrs"),n=i.x,r=i.y,a=i.radius,o=i.symbol||"circle";e=s(o)?o:Fi[o],t.beginPath(),e(n,r,a,t,this)},e.calculateBox=function calculateBox(){var t=this.get("attrs"),e=t.x,i=t.y,n=t.radius;return{"minX":e-n,"minY":i-n,"maxX":e+n,"maxY":i+n}},Marker}(Ie),Ni=function(){var t=List.prototype;function List(t){k(this,this.getDefaultCfg(),t),this._init(),this._renderTitle(),this._renderItems()}return t.getDefaultCfg=function getDefaultCfg(){return{"showTitle":!1,"title":null,"items":null,"titleGap":12,"itemGap":10,"itemMarginBottom":12,"itemFormatter":null,"itemWidth":null,"wordSpace":6,"x":0,"y":0,"layout":"horizontal","joinString":": "}},t._init=function _init(){var t=new Oe({"zIndex":this.zIndex||0});this.container=t;var e=t.addGroup();this.wrapper=e;var i=e.addGroup({"className":"itemsGroup"});this.itemsGroup=i,this.parent&&this.parent.add(t)},t._renderTitle=function _renderTitle(t){t=t||this.title;var e=this.titleShape,i=0;if(this.showTitle&&t){if(e&&!e.get("destroyed"))e.attr("text",t);else{var n=this.wrapper,r=this.titleStyle;e=n.addShape("text",{"className":"title","attrs":mix({"x":0,"y":0,"text":t},r)}),this.titleShape=e}i=e.getBBox().height+this.titleGap}this._titleHeight=i},t._renderItems=function _renderItems(t){var e=this;(t=t||e.items)&&(e.reversed&&t.reverse(),each(t,function(t,i){e._addItem(t,i)}),t.length>1&&this._adjustItems(),this._renderBackground())},t._renderBackground=function _renderBackground(){var t=this.background;if(t){var e=this.container,i=this.wrapper.getBBox(),n=i.minX,r=i.minY,a=i.width,s=i.height,o=t.padding||[0,0,0,0],l=mix({"x":n-(o=parsePadding(o))[3],"y":r-o[0],"width":a+o[1]+o[3],"height":s+o[0]+o[2]},t),c=this.backShape;c?c.attr(l):c=e.addShape("Rect",{"zIndex":-1,"attrs":l}),this.backShape=c,e.sort()}},t._addItem=function _addItem(t){var e,i=this.itemsGroup.addGroup({"name":t.name,"value":t.value,"dataValue":t.dataValue,"checked":t.checked}),n=this.unCheckStyle,r=this.unCheckColor,a=this.nameStyle,s=this.valueStyle,o=this.wordSpace,l=t.marker,c=t.value,h=0;if(r&&(n.fill=r),l){var u=mix({"x":l.radius||3,"y":this._titleHeight},l);!1===t.checked&&mix(u,n);var f=new zi({"className":"item-marker","attrs":u});i.add(f),h+=f.getBBox().width+o}var g=t.name;if(g){var d=this.joinString||"";g=c?g+d:g,e=i.addShape("text",{"className":"name","attrs":mix({"x":h,"y":this._titleHeight,"text":this._formatItemValue(g)},a,!1===t.checked?n:null)})}if(c){var p=h;e&&(p+=e.getBBox().width),i.addShape("text",{"className":"value","attrs":mix({"x":p,"y":this._titleHeight,"text":c},s,!1===t.checked?n:null)})}return i},t._formatItemValue=function _formatItemValue(t){var e=this.itemFormatter;return e&&(t=e.call(this,t)),t},t._getMaxItemWidth=function _getMaxItemWidth(){var t=this.itemWidth;if(m(t)||l(t))return t;if("auto"===t){for(var e=this.itemsGroup.get("children"),i=e.length,n=0,r=0;r<i;r++){var a=e[r].getBBox().width;n=Math.max(n,a)}var s=this.maxLength,o=this.itemGap,c=(s-o)/2,h=(s-2*o)/3;return 2===i?Math.max(n,c):n<=h?h:n<=c?c:n}},t._adjustHorizontal=function _adjustHorizontal(){for(var t,e,i=this.maxLength,n=this.itemsGroup.get("children"),r=this.itemGap,a=this.itemMarginBottom,s=this._titleHeight,o=0,l=0,c=this._getMaxItemWidth(),h=[],u=0,f=n.length;u<f;u++){var g=n[u],d=g.getBBox(),p=d.height,v=d.width;e=p+a,(t=c||v)-(i-l)>1e-4&&(o++,l=0),g.moveTo(l,o*e),h.push({"x":l,"y":o*e+s-p/2,"width":1.375*v,"height":1.375*p}),l+=t+r}this.legendHitBoxes=h},t._adjustVertical=function _adjustVertical(){for(var t,e,i=this.maxLength,n=this.itemsGroup,r=this.itemGap,a=this.itemMarginBottom,s=this.itemWidth,o=this._titleHeight,l=n.get("children"),c=0,h=0,u=0,f=[],g=0,d=l.length;g<d;g++){var p=l[g],v=p.getBBox();t=v.width,e=v.height,m(s)?h=s+r:t>h&&(h=t+r),i-c<e?(c=0,u+=h,p.moveTo(u,0),f.push({"x":u,"y":o-e/2,"width":1.375*t,"height":1.375*e})):(p.moveTo(u,c),f.push({"x":u,"y":c-e/2+o,"width":1.375*t,"height":1.375*e})),c+=e+a}this.legendHitBoxes=f},t._adjustItems=function _adjustItems(){"horizontal"===this.layout?this._adjustHorizontal():this._adjustVertical()},t.moveTo=function moveTo(t,e){this.x=t,this.y=e;var i=this.container;return i&&i.moveTo(t,e),this},t.setItems=function setItems(t){this.clearItems(),this._renderItems(t)},t.setTitle=function setTitle(t){this._renderTitle(t)},t.clearItems=function clearItems(){this.itemsGroup.clear()},t.getWidth=function getWidth(){return this.container.getBBox().width},t.getHeight=function getHeight(){return this.container.getBBox().height},t.show=function show(){this.container.show()},t.hide=function hide(){this.container.hide()},t.clear=function clear(){var t=this.container;t.clear(),t.remove(!0)},List}(),Gi=function(){var t=TextBox.prototype;function TextBox(t){k(this,this.getDefaultCfg(),t),this._init();var e=this.content,i=this.x,n=this.y;l(e)||this.updateContent(e),this.updatePosition(i,n)}return t.getDefaultCfg=function getDefaultCfg(){return{"x":0,"y":0,"content":"","textStyle":{"fontSize":12,"fill":"#fff","textAlign":"center","textBaseline":"middle","fontFamily":"Arial"},"background":{"radius":1,"fill":"rgba(0, 0, 0, 0.65)","padding":[3,5]},"width":0,"height":0,"className":""}},t._init=function _init(){var t=this.content,e=this.textStyle,i=this.background,n=this.className,r=this.visible,a=this.context,s=new Oe({"context":a,"className":n,"zIndex":0,"visible":r}),o=s.addShape("Text",{"className":n+"-text","zIndex":1,"attrs":mix({"text":t,"x":0,"y":0},e)}),l=s.addShape("Rect",{"className":n+"-bg","zIndex":-1,"attrs":mix({"x":0,"y":0,"width":0,"height":0},i)});s.sort(),this.container=s,this.textShape=o,this.backgroundShape=l},t._getBBox=function _getBBox(){var t=this.textShape,e=this.background,i=t.getBBox(),n=parsePadding(e.padding),r=i.width+n[1]+n[3],a=i.height+n[0]+n[2];return{"x":i.minX-n[3],"y":i.minY-n[0],"width":r,"height":a}},t.updateContent=function updateContent(t){var e=this.textShape,i=this.backgroundShape;if(!l(t)){h(t)||(t={"text":t}),e.attr(t);var n=this._getBBox(),r=n.x,a=n.y,s=n.width,o=n.height,c=this.width||s,u=this.height||o;i.attr({"x":r,"y":a,"width":c,"height":u}),this._width=c,this._height=u,this.content=t.text}},t.updatePosition=function updatePosition(t,e){var i=this.container,n=this._getBBox(),r=n.x,a=n.y;i.moveTo(t-r,e-a),this.x=t-r,this.y=e-a},t.getWidth=function getWidth(){return this._width},t.getHeight=function getHeight(){return this._height},t.show=function show(){this.container.show()},t.hide=function hide(){this.container.hide()},t.clear=function clear(){var t=this.container;t.clear(),t.remove(!0),this.container=null,this.textShape=null,this.backgroundShape=null},TextBox}(),ji=function(){var t=Tooltip.prototype;function Tooltip(t){k(this,this.getDefaultCfg(),t);var e=this.frontPlot;if(!this.custom){var i=new Ni(mix({"parent":e,"zIndex":3},t));this.container=i;var n=this.fixed,r=this.background;n||(this.tooltipArrow=e.addShape("Polygon",{"className":"tooltip-arrow","visible":!1,"zIndex":2,"attrs":mix({"points":[]},r)}))}if(this.showXTip){var a=this.xTipBackground,s=this.xTipTextStyle,o=new Gi({"context":e.get("context"),"className":"xTip","background":a,"textStyle":s,"visible":!1});e.add(o.container),this.xTipBox=o}if(this.showYTip){var l=this.yTipBackground,c=this.yTipTextStyle,h=new Gi({"context":e.get("context"),"className":"yTip","background":l,"textStyle":c,"visible":!1});e.add(h.container),this.yTipBox=h}this.showCrosshairs&&this._renderCrosshairs(),e.sort()}return t.getDefaultCfg=function getDefaultCfg(){return{"showCrosshairs":!1,"crosshairsStyle":{"stroke":"rgba(0, 0, 0, 0.25)","lineWidth":1},"crosshairsType":"y","showXTip":!1,"showYTip":!1,"xTip":null,"xTipBackground":{"radius":1,"fill":"rgba(0, 0, 0, 0.65)","padding":[3,5]},"xTipTextStyle":{"fontSize":12,"fill":"#fff","textAlign":"center","textBaseline":"middle"},"yTip":null,"yTipBackground":{"radius":1,"fill":"rgba(0, 0, 0, 0.65)","padding":[3,5]},"yTipTextStyle":{"fontSize":12,"fill":"#fff","textAlign":"center","textBaseline":"middle"},"background":null,"layout":"horizontal","offsetX":0,"offsetY":0}},t.setContent=function setContent(t,e){if(this.title=t,this.items=e,!this.custom){var i=this.container;i.setTitle(t),i.setItems(e)}},t.setYTipContent=function setYTipContent(t){var e=this.yTip;t=s(e)?e(t):mix({"text":t},e),this.yTipBox&&this.yTipBox.updateContent(t)},t.setYTipPosition=function setYTipPosition(t){var e=this.plotRange,i=this.crosshairsShapeX;if(this.showYTip){var n=this.yTipBox,r=n.getHeight(),a=n.getWidth(),s=e.tl.x-a,o=t-r/2;o<=e.tl.y&&(o=e.tl.y),o+r>=e.br.y&&(o=e.br.y-r),s<0&&(s=e.tl.x,i&&i.attr("x1",e.tl.x+a)),n.updatePosition(s,o)}},t.setXTipContent=function setXTipContent(t){var e=this.xTip;t=s(e)?e(t):mix({"text":t},e),this.xTipBox&&this.xTipBox.updateContent(t)},t.setXTipPosition=function setXTipPosition(t){var e=this.showXTip,i=this.canvas,n=this.plotRange,r=this.xTipBox,a=this.crosshairsShapeY;if(e){var s=i.get("height"),o=r.getWidth(),l=r.getHeight(),c=t-o/2,h=n.br.y;c<=n.tl.x&&(c=n.tl.x),c+o>=n.tr.x&&(c=n.tr.x-o),s-h<l&&(h-=l),r.updatePosition(c,h),a&&a.attr("y1",h)}},t.setXCrosshairPosition=function setXCrosshairPosition(t){this.crosshairsShapeX&&this.crosshairsShapeX.moveTo(0,t)},t.setYCrosshairPosition=function setYCrosshairPosition(t){this.crosshairsShapeY&&this.crosshairsShapeY.moveTo(t,0)},t.setPosition=function setPosition(t){var e=this.container,i=this.plotRange,n=this.offsetX,r=this.offsetY,a=this.fixed,s=this.tooltipArrow;if(e){var o,l=e.container.getBBox(),c=l.minX,h=l.minY,u=l.width,f=l.height,g=i.tl,d=i.tr,p=0,v=g.y-f-4+r;if(a)p=(g.x+d.x)/2-u/2+n;else if((p=(o=t.length>1?(t[0].x+t[t.length-1].x)/2:t[0].x)-u/2+n)<g.x&&(p=g.x),p+u>d.x&&(p=d.x-u),s){s.attr("points",[{"x":o-3,"y":g.y-4+r},{"x":o+3,"y":g.y-4+r},{"x":o,"y":g.y+r}]);var m=e.backShape,y=parsePadding(m.attr("radius"));o===g.x?(y[3]=0,s.attr("points",[{"x":g.x,"y":g.y+r},{"x":g.x,"y":g.y-4+r},{"x":g.x+4,"y":g.y-4+r}])):o===d.x&&(y[2]=0,s.attr("points",[{"x":d.x,"y":g.y+r},{"x":d.x-4,"y":g.y-4+r},{"x":d.x,"y":g.y-4+r}])),m.attr("radius",y)}e.moveTo(p-c,v-h)}},t.setMarkers=function setMarkers(t){void 0===t&&(t={});var e=t,i=e.items,n=e.style,r=e.type,a=this._getMarkerGroup(r);if("circle"===r)for(var s=0,o=i.length;s<o;s++){var l=i[s],c=new zi({"className":"tooltip-circle-marker","attrs":mix({"x":l.x,"y":l.y,"stroke":l.color},n)});a.add(c)}else a.addShape("rect",{"className":"tooltip-rect-marker","attrs":n})},t.clearMarkers=function clearMarkers(){var t=this.markerGroup;t&&t.clear()},t.show=function show(){var t=this.crosshairsShapeX,e=this.crosshairsShapeY,i=this.markerGroup,n=this.container,r=this.tooltipArrow,a=this.xTipBox,s=this.yTipBox,o=this.canvas;t&&t.show(),e&&e.show(),i&&i.show(),n&&n.show(),r&&r.show(),a&&a.show(),s&&s.show(),o.draw()},t.hide=function hide(){var t=this.crosshairsShapeX,e=this.crosshairsShapeY,i=this.markerGroup,n=this.container,r=this.tooltipArrow,a=this.xTipBox,s=this.yTipBox;t&&t.hide(),e&&e.hide(),i&&i.hide(),n&&n.hide(),r&&r.hide(),a&&a.hide(),s&&s.hide()},t.destroy=function destroy(){var t=this.crosshairsShapeX,e=this.crosshairsShapeY,i=this.markerGroup,n=this.container,r=this.tooltipArrow,a=this.xTipBox,s=this.yTipBox;t&&t.remove(!0),e&&e.remove(!0),i&&i.remove(!0),r&&r.remove(!0),n&&n.clear(),a&&a.clear(),s&&s.clear(),this.destroyed=!0},t._getMarkerGroup=function _getMarkerGroup(t){var e=this.markerGroup;return e?e.clear():("circle"===t?(e=this.frontPlot.addGroup({"zIndex":1}),this.frontPlot.sort()):e=this.backPlot.addGroup(),this.markerGroup=e),e},t._renderCrosshairs=function _renderCrosshairs(){var t=this.crosshairsType,e=this.crosshairsStyle,i=this.frontPlot,n=this.plotRange,r=n.tl,a=n.br;directionEnabled(t,"x")&&(this.crosshairsShapeX=i.addShape("Line",{"className":"tooltip-crosshairs-x","zIndex":0,"visible":!1,"attrs":mix({"x1":r.x,"y1":0,"x2":a.x,"y2":0},e)})),directionEnabled(t,"y")&&(this.crosshairsShapeY=i.addShape("Line",{"className":"tooltip-crosshairs-y","zIndex":0,"visible":!1,"attrs":mix({"x1":0,"y1":a.y,"x2":0,"y2":r.y},e)}))},Tooltip}();function _getTooltipValueScale(t){var e=t.getAttr("color");if(e){var i=e.getScale(e.type);if(i.isLinear)return i}var n=t.getXScale(),r=t.getYScale();return r||n}function _uniqItems(t){var e=[];return each(t,function(t){var i=function _indexOfArray(t,e){var i=-1;return each(t,function(t,n){if(t.title===e.title&&t.name===e.name&&t.value===e.value&&t.color===e.color)return i=n,!1}),i}(e,t);-1===i?e.push(t):e[i]=t}),e}j.tooltip=k({"triggerOn":"press","triggerOff":"pressend","alwaysShow":!1,"showTitle":!1,"showCrosshairs":!1,"crosshairsStyle":{"stroke":"rgba(0, 0, 0, 0.25)","lineWidth":1},"showTooltipMarker":!0,"background":{"radius":1,"fill":"rgba(0, 0, 0, 0.65)","padding":[3,5]},"titleStyle":{"fontSize":12,"fill":"#fff","textAlign":"start","textBaseline":"top"},"nameStyle":{"fontSize":12,"fill":"rgba(255, 255, 255, 0.65)","textAlign":"start","textBaseline":"middle"},"valueStyle":{"fontSize":12,"fill":"#fff","textAlign":"start","textBaseline":"middle"},"showItemMarker":!0,"itemMarkerStyle":{"radius":3,"symbol":"circle","lineWidth":1,"stroke":"#fff"},"layout":"horizontal","snap":!1},j.tooltip||{});var Ri=function(){function TooltipController(t){var e=this;_defineProperty(this,"handleShowEvent",function(t){var i=e.chart;if(e.enable){var n=i.get("plotRange"),r=createEvent(t,i);if(isPointInPlot(r,n)||e._tooltipCfg.alwaysShow){var a=e.timeStamp,s=+new Date;s-a>16&&(e.showTooltip(r),e.timeStamp=s)}else e.hideTooltip()}}),_defineProperty(this,"handleHideEvent",function(){e.enable&&e.hideTooltip()}),this.enable=!0,this.cfg={},this.tooltip=null,this.chart=null,this.timeStamp=0,mix(this,t);var i=this.chart.get("canvas");this.canvas=i,this.canvasDom=i.get("el")}var t=TooltipController.prototype;return t._setCrosshairsCfg=function _setCrosshairsCfg(){var t=this.chart,e=mix({},j.tooltip),i=t.get("geoms"),n=[];each(i,function(t){var e=t.get("type");-1===n.indexOf(e)&&n.push(e)});var r=t.get("coord").type;return!i.length||"cartesian"!==r&&"rect"!==r||1===n.length&&-1!==["line","area","path","point"].indexOf(n[0])&&mix(e,{"showCrosshairs":!0}),e},t._getMaxLength=function _getMaxLength(t){void 0===t&&(t={});var e=t,i=e.layout,n=e.plotRange;return"horizontal"===i?n.br.x-n.bl.x:n.bl.y-n.tr.y},t.render=function render(){if(!this.tooltip){var t=this.chart,e=t.get("canvas"),i=t.get("frontPlot").addGroup({"className":"tooltipContainer","zIndex":10}),n=t.get("backPlot").addGroup({"className":"tooltipContainer"}),r=t.get("plotRange"),a=t.get("coord"),s=this._setCrosshairsCfg(),o=this.cfg,l=k({"plotRange":r,"frontPlot":i,"backPlot":n,"canvas":e,"fixed":a.transposed||a.isPolar},s,o);l.maxLength=this._getMaxLength(l),this._tooltipCfg=l;var c=new ji(l);this.tooltip=c,l.alwaysShow&&this.prePoint&&this.showTooltip(this.prePoint),this.bindEvents()}},t.clear=function clear(){var t=this.tooltip;t&&(t.destroy(),this.unBindEvents()),this.tooltip=null,this._lastActive=null},t._getTooltipMarkerStyle=function _getTooltipMarkerStyle(t){void 0===t&&(t={});var e=t,i=e.type,n=e.items,r=this._tooltipCfg;if("rect"===i){var a,s,o,l,c=this.chart,h=c.get("plotRange"),u=h.tl,f=h.br,g=c.get("coord"),d=n[0],p=n[n.length-1],v=d.width;g.transposed?(a=u.x,s=p.y-.75*v,o=f.x-u.x,l=d.y-p.y+1.5*v):(a=d.x-.75*v,s=u.y,o=p.x-d.x+1.5*v,l=f.y-u.y),t.style=mix({"x":a,"y":s,"width":o,"height":l,"fill":"#CCD6EC","opacity":.3},r.tooltipMarkerStyle)}else t.style=mix({"radius":4,"fill":"#fff","lineWidth":2},r.tooltipMarkerStyle);return t},t._setTooltip=function _setTooltip(t,e,i){void 0===i&&(i={}),this.prePoint=t;var n=this._lastActive,r=this.tooltip,a=this._tooltipCfg;e=_uniqItems(e);var s=this.chart,o=s.get("coord"),l=s.getYScales()[0],c=a.snap;if(!1===c&&l.isLinear){var h,u,f=o.invertPoint(t);isPointInPlot(t,s.get("plotRange"))&&(o.transposed?(h=l.invert(f.x),u=t.x,r.setXTipContent(h),r.setXTipPosition(u),r.setYCrosshairPosition(u)):(h=l.invert(f.y),u=t.y,r.setYTipContent(h),r.setYTipPosition(u),r.setXCrosshairPosition(u)))}if(a.onShow&&a.onShow({"x":t.x,"y":t.y,"tooltip":r,"items":e,"tooltipMarkerCfg":i}),function isEqual$1(t,e){return JSON.stringify(t)===JSON.stringify(e)}(n,e)){!1===c&&(directionEnabled(a.crosshairsType,"y")||a.showYTip)&&this.chart.get("canvas").draw()}else{this._lastActive=e;var g=a.onChange;g&&g({"x":t.x,"y":t.y,"tooltip":r,"items":e,"tooltipMarkerCfg":i});var d=e[0],p=d.title||d.name,v=d.x;if(e.length>1&&(v=(e[0].x+e[e.length-1].x)/2),r.setContent(p,e,o.transposed),r.setPosition(e,t),o.transposed){var m=d.y;e.length>1&&(m=(e[0].y+e[e.length-1].y)/2),r.setYTipContent(p),r.setYTipPosition(m),r.setXCrosshairPosition(m),c&&(r.setXTipContent(d.value),r.setXTipPosition(v),r.setYCrosshairPosition(v))}else r.setXTipContent(p),r.setXTipPosition(v),r.setYCrosshairPosition(v),c&&(r.setYTipContent(d.value),r.setYTipPosition(d.y),r.setXCrosshairPosition(d.y));var y=i.items;a.showTooltipMarker&&y.length?(i=this._getTooltipMarkerStyle(i),r.setMarkers(i)):r.clearMarkers(),r.show()}},t.showTooltip=function showTooltip(t){var e,i,n=this.chart,r=[],a=[],s=this._tooltipCfg,o=s.showItemMarker,l=s.itemMarkerStyle,h=s.alwaysShow;o&&(i=l);var u=n.get("geoms"),f=n.get("coord");if(each(u,function(n){if(n.get("visible")){var s=n.get("type"),o=n.getSnapRecords(t),l=n.get("adjust");if("interval"===s&&l&&"symmetric"===l.type)return;each(o,function(t){if(t.x&&t.y){var o=t.x,l=t.y,h=t._origin,u=t.color,g={"x":o,"y":c(l)?l[1]:l,"color":u||j.defaultColor,"origin":h,"name":function getTooltipName(t,e){var i,n,r=t._getGroupScales();if(r.length&&each(r,function(t){return n=t,!1}),n){var a=n.field;i=n.getText(e[a])}else{var s=_getTooltipValueScale(t);i=s.alias||s.field}return i}(n,h),"value":function getTooltipValue(t,e){var i=_getTooltipValueScale(t);return i.getText(e[i.field])}(n,h),"title":function getTooltipTitle(t,e){var i=t.getAttr("position").getFields()[0],n=t.get("scales")[i];return n.getText(e[n.field])}(n,h)};i&&(g.marker=mix({"fill":u||j.defaultColor},i)),a.push(g),-1!==["line","area","path"].indexOf(s)?(e="circle",r.push(g)):"interval"!==s||"cartesian"!==f.type&&"rect"!==f.type||(e="rect",g.width=n.getSize(t._origin),r.push(g))}})}}),a.length){var g={"items":r,"type":e};this._setTooltip(t,a,g)}else h||this.hideTooltip()},t.hideTooltip=function hideTooltip(){var t=this._tooltipCfg;this._lastActive=null;var e=this.tooltip;e&&(e.hide(),t.onHide&&t.onHide({"tooltip":e}),this.chart.get("canvas").draw())},t._handleEvent=function _handleEvent(t,e,i){var n=this.canvas;each([].concat(t),function(t){"bind"===i?n.on(t,e):n.off(t,e)})},t.bindEvents=function bindEvents(){var t=this._tooltipCfg,e=t.triggerOn,i=t.triggerOff,n=t.alwaysShow;e&&this._handleEvent(e,this.handleShowEvent,"bind"),n||this._handleEvent(i,this.handleHideEvent,"bind")},t.unBindEvents=function unBindEvents(){var t=this._tooltipCfg,e=t.triggerOn,i=t.triggerOff,n=t.alwaysShow;e&&this._handleEvent(e,this.handleShowEvent,"unBind"),n||this._handleEvent(i,this.handleHideEvent,"unBind")},TooltipController}();function init(t){var e=new Ri({"chart":t});t.set("tooltipController",e),t.tooltip=function(t,i){return h(t)&&(i=t,t=!0),e.enable=t,i&&(e.cfg=i),this}}function afterGeomDraw(t){var e=t.get("tooltipController");e.render(),t.showTooltip=function(t){return e.showTooltip(t),this},t.hideTooltip=function(){return e.hideTooltip(),this}}function clearInner(t){t.get("tooltipController").clear()}var Xi={"init":init,"afterGeomDraw":afterGeomDraw,"clearInner":clearInner},Hi=Object.freeze({"__proto__":null,"init":init,"afterGeomDraw":afterGeomDraw,"clearInner":clearInner,"default":Xi});j.guide=k({"line":{"style":{"stroke":"#a3a3a3","lineWidth":1},"top":!0},"text":{"style":{"fill":"#787878","textAlign":"center","textBaseline":"middle"},"offsetX":0,"offsetY":0,"top":!0},"rect":{"style":{"fill":"#fafafa"},"top":!1},"arc":{"style":{"stroke":"#a3a3a3"},"top":!0},"html":{"offsetX":0,"offsetY":0,"alignX":"center","alignY":"middle"},"tag":{"top":!0,"offsetX":0,"offsetY":0,"side":4,"background":{"padding":5,"radius":2,"fill":"#1890FF"},"textStyle":{"fontSize":12,"fill":"#fff","textAlign":"center","textBaseline":"middle"}},"point":{"top":!0,"offsetX":0,"offsetY":0,"style":{"fill":"#fff","r":3,"lineWidth":2,"stroke":"#1890ff"}}},j.guide||{});var Vi=function(){function GuideController(t){this.guides=[],this.xScale=null,this.yScales=null,this.guideShapes=[],mix(this,t)}var t=GuideController.prototype;return t._toString=function _toString(t){return s(t)&&(t=t(this.xScale,this.yScales)),t=t.toString()},t._getId=function _getId(t,e){var i=e.id;if(!i){var n=e.type;i="arc"===n||"line"===n||"rect"===n?this._toString(e.start)+"-"+this._toString(e.end):this._toString(e.position)}return i},t.paint=function paint(t){var e=this,i=e.chart,n=e.guides,r=e.xScale,a=e.yScales,s=[];each(n,function(n,o){var l;n.xScale=r,n.yScales=a,"regionFilter"===n.type?n.chart=i:l=n.top?e.frontPlot:e.backPlot,n.coord=t,n.container=l,n.canvas=i.get("canvas");var c=n.render(t,l);if(c){var h=e._getId(c,n);[].concat(c).forEach(function(t){t._id=t.get("className")+"-"+h,t.set("index",o),s.push(t)})}}),e.guideShapes=s},t.clear=function clear(){return this.reset(),this.guides=[],this},t.reset=function reset(){each(this.guides,function(t){t.remove()})},t._createGuide=function _createGuide(t,e){var i=_(t),n=new Di[i](k({},j.guide[t],e));return this.guides.push(n),n},t.line=function line(t){return void 0===t&&(t={}),this._createGuide("line",t)},t.text=function text(t){return void 0===t&&(t={}),this._createGuide("text",t)},t.arc=function arc(t){return void 0===t&&(t={}),this._createGuide("arc",t)},t.html=function html(t){return void 0===t&&(t={}),this._createGuide("html",t)},t.rect=function rect(t){return void 0===t&&(t={}),this._createGuide("rect",t)},t.tag=function tag(t){return void 0===t&&(t={}),this._createGuide("tag",t)},t.point=function point(t){return void 0===t&&(t={}),this._createGuide("point",t)},t.regionFilter=function regionFilter(t){return void 0===t&&(t={}),this._createGuide("regionFilter",t)},GuideController}();function init$1(t){var e=new Vi({"frontPlot":t.get("frontPlot").addGroup({"zIndex":20,"className":"guideContainer"}),"backPlot":t.get("backPlot").addGroup({"className":"guideContainer"})});t.set("guideController",e),t.guide=function(){return e}}function afterGeomDraw$1(t){var e=t.get("guideController");if(e.guides.length){var i=t.getXScale(),n=t.getYScales(),r=t.get("coord");e.xScale=i,e.yScales=n,e.chart=t,e.paint(r)}}function clear(t){t.get("guideController").clear()}function repaint(t){t.get("guideController").reset()}var Wi={"init":init$1,"afterGeomDraw":afterGeomDraw$1,"clear":clear,"repaint":repaint},qi=Object.freeze({"__proto__":null,"init":init$1,"afterGeomDraw":afterGeomDraw$1,"clear":clear,"repaint":repaint,"default":Wi}),$i={"itemMarginBottom":12,"itemGap":10,"showTitle":!1,"titleStyle":{"fontSize":12,"fill":"#808080","textAlign":"start","textBaseline":"top"},"nameStyle":{"fill":"#808080","fontSize":12,"textAlign":"start","textBaseline":"middle"},"valueStyle":{"fill":"#000000","fontSize":12,"textAlign":"start","textBaseline":"middle"},"unCheckStyle":{"fill":"#bfbfbf"},"itemWidth":"auto","wordSpace":6,"selectedMode":"multiple"};j.legend=k({"common":$i,"right":mix({"position":"right","layout":"vertical"},$i),"left":mix({"position":"left","layout":"vertical"},$i),"top":mix({"position":"top","layout":"horizontal"},$i),"bottom":mix({"position":"bottom","layout":"horizontal"},$i)},j.legend||{});var Zi=function(){function LegendController(t){var e=this;_defineProperty(this,"handleEvent",function(t){var i=e;var n=i.chart,r=createEvent(t,n),a=function findItem(t,e){var n=null;return each(i.legends,function(i){each(i,function(i){var r=i.itemsGroup,a=i.legendHitBoxes,s=r.get("children");if(s.length){var o=i.x,l=i.y;each(a,function(r,a){if(t>=r.x+o&&t<=r.x+r.width+o&&e>=r.y+l&&e<=r.height+r.y+l)return n={"clickedItem":s[a],"clickedLegend":i},!1})}})}),n}(r.x,r.y);if(a&&!1!==a.clickedLegend.clickable){var s=a.clickedItem,o=a.clickedLegend;if(o.onClick)t.clickedItem=s,o.onClick(t);else if(!o.custom){var l=s.get("checked"),c=s.get("dataValue"),h=o.filteredVals,u=o.field;"single"===o.selectedMode?n.filter(u,function(t){return t===c}):(l?h.push(c):remove(h,c),n.filter(u,function(t){return-1===h.indexOf(t)})),n.repaint()}}}),this.legendCfg={},this.enable=!0,this.position="top",mix(this,t);var i=this.chart;this.canvasDom=i.get("canvas").get("el"),this.clear()}var t=LegendController.prototype;return t.addLegend=function addLegend(t,e,i){var n=this.legendCfg,r=t.field,a=n[r];if(!1===a)return null;if(a&&a.custom)this.addCustomLegend(r);else{var s=n.position||this.position;a&&a.position&&(s=a.position),t.isCategory&&this._addCategoryLegend(t,e,s,i)}},t.addCustomLegend=function addCustomLegend(t){var e=this.legendCfg;t&&e[t]&&(e=e[t]);var i=e.position||this.position,n=this.legends;n[i]=n[i]||[];var r=e.items;if(!r)return null;var a=this.container;each(r,function(t){g(t.marker)?t.marker.radius=t.marker.radius||3:t.marker={"symbol":t.marker||"circle","fill":t.fill,"radius":3},t.checked=!!l(t.checked)||t.checked,t.name=t.name||t.value});var s=new Ni(k({},j.legend[i],e,{"maxLength":this._getMaxLength(i),"items":r,"parent":a}));n[i].push(s)},t.clear=function clear(){each(this.legends,function(t){each(t,function(t){t.clear()})}),this.legends={},this.unBindEvents()},t._isFiltered=function _isFiltered(t,e,i){var n=!1;return each(e,function(e){if(n=n||t.getText(e)===t.getText(i))return!1}),n},t._getMaxLength=function _getMaxLength(t){var e=this.chart,i=parsePadding(e.get("appendPadding"));return"right"===t||"left"===t?e.get("height")-(i[0]+i[2]):e.get("width")-(i[1]+i[3])},t._addCategoryLegend=function _addCategoryLegend(t,e,i,n){var r=this,a=r.legendCfg,s=r.legends,o=r.container,l=r.chart,c=t.field;s[i]=s[i]||[];var h="circle";a[c]&&a[c].marker?h=a[c].marker:a.marker&&(h=a.marker),each(e,function(e){g(h)?mix(e.marker,h):e.marker.symbol=h,n&&(e.checked=!r._isFiltered(t,n,e.dataValue))}),l.get("legendItems")[c]=e;var u=k({},j.legend[i],a[c]||a,{"maxLength":r._getMaxLength(i),"items":e,"field":c,"filteredVals":n,"parent":o});u.showTitle&&k(u,{"title":t.alias||t.field});var f=new Ni(u);return s[i].push(f),f},t._alignLegend=function _alignLegend(t,e,i){var n=this.plotRange,r=n.tl,a=n.bl,s=this.chart,o=t.offsetX||0,l=t.offsetY||0,c=s.get("width"),h=s.get("height"),u=parsePadding(s.get("appendPadding")),f=t.getHeight(),g=t.getWidth(),d=0,p=0;if("left"===i||"right"===i){var v=t.verticalAlign||"middle",m=Math.abs(r.y-a.y);d="left"===i?u[3]:c-g-u[1],p=(m-f)/2+r.y,"top"===v?p=r.y:"bottom"===v&&(p=a.y-f),e&&(p=e.get("y")-f-12)}else{var y=t.align||"left";if(d=u[3],"center"===y?d=c/2-g/2:"right"===y&&(d=c-(g+u[1])),p="top"===i?u[0]+Math.abs(t.container.getBBox().minY):h-f,e){var x=e.getWidth();d=e.x+x+12}}"bottom"===i&&l>0&&(l=0),"right"===i&&o>0&&(o=0),t.moveTo(d+o,p+l)},t.alignLegends=function alignLegends(){var t=this;return each(t.legends,function(e,i){each(e,function(n,r){var a=e[r-1];t._alignLegend(n,a,i)})}),t},t.bindEvents=function bindEvents(){var t=this.legendCfg.triggerOn||"touchstart";addEventListener(this.canvasDom,t,this.handleEvent)},t.unBindEvents=function unBindEvents(){var t=this.legendCfg.triggerOn||"touchstart";removeEventListener(this.canvasDom,t,this.handleEvent)},LegendController}();function init$2(t){var e=new Zi({"container":t.get("backPlot"),"plotRange":t.get("plotRange"),"chart":t});t.set("legendController",e),t.legend=function(t,i){var n=e.legendCfg;return e.enable=!0,P(t)?(e.enable=t,n=i||{}):h(t)?n=t:n[t]=i,e.legendCfg=n,this}}function beforeGeomDraw(t){var e=t.get("legendController");if(!e.enable)return null;var i=e.legendCfg;if(i&&i.custom)e.addCustomLegend();else{var n=t.getLegendItems(),r=t.get("scales"),a=t.get("filters");each(n,function(t,i){var n,s=r[i],o=s.values;n=a&&a[i]?o.filter(function(t){return!a[i](t)}):[],e.addLegend(s,t,n)})}i&&!1!==i.clickable&&e.bindEvents();var s={"top":0,"right":0,"bottom":0,"left":0};each(e.legends,function(e,i){var n=0;each(e,function(t){var e=t.getWidth(),r=t.getHeight();"top"===i||"bottom"===i?(n=Math.max(n,r),t.offsetY>0&&(n+=t.offsetY)):(n=Math.max(n,e),t.offsetX>0&&(n+=t.offsetX))}),s[i]=n+function getPaddingByPos(t,e){var i=0;switch(e=parsePadding(e),t){case"top":i=e[0];break;case"right":i=e[1];break;case"bottom":i=e[2];break;case"left":i=e[3]}return i}(i,t.get("appendPadding"))}),t.set("legendRange",s)}function afterGeomDraw$2(t){t.get("legendController").alignLegends()}function clearInner$1(t){t.get("legendController").clear(),t.set("legendRange",null)}var Ui={"init":init$2,"beforeGeomDraw":beforeGeomDraw,"afterGeomDraw":afterGeomDraw$2,"clearInner":clearInner$1},Ji=Object.freeze({"__proto__":null,"init":init$2,"beforeGeomDraw":beforeGeomDraw,"afterGeomDraw":afterGeomDraw$2,"clearInner":clearInner$1,"default":Ui}),Qi="object"===("undefined"==typeof performance?"undefined":o(performance))&&performance.now?performance:Date,Ki=function(){function Timeline(){this.anims=[],this.time=null,this.playing=!1,this.canvas=[]}var t=Timeline.prototype;return t.play=function play(){var t=this;t.time=Qi.now(),t.playing=!0,Be(function step(){t.playing&&(Be(step),t.update())})},t.stop=function stop(){this.playing=!1,this.time=null,this.canvas=[]},t.pushAnim=function pushAnim(t){this.anims.push(t),this.playing||this.play()},t.update=function update(){var t=Qi.now();if(this.canvas=[],this.anims.length){for(var e=0;e<this.anims.length;e++){var i=this.anims[e];if(!(t<i.startTime||i.hasEnded)){var n=i.shape;if(n.get("destroyed"))this.anims.splice(e,1),e--;else{var r=i.startState,a=i.endState,s=i.interpolate,o=i.duration;t>=i.startTime&&!i.hasStarted&&(i.hasStarted=!0,i.onStart&&i.onStart());var l=(t-i.startTime)/o;if(l=Math.max(0,Math.min(l,1)),l=i.easing(l),i.onFrame)i.onFrame(l);else for(var c in s){var h=(0,s[c])(l),u=void 0;if("points"===c){u=[];for(var f=Math.max(r.points.length,a.points.length),g=0;g<f;g+=2)u.push({"x":h[g],"y":h[g+1]})}else u=h;n._attrs.attrs[c]=u,n._attrs.bbox=null}var d=n.get("canvas");-1===this.canvas.indexOf(d)&&this.canvas.push(d),i.onUpdate&&i.onUpdate(l),t>=i.endTime&&!i.hasEnded&&(i.hasEnded=!0,i.onEnd&&i.onEnd()),1===l&&(this.anims.splice(e,1),e--)}}}this.canvas.map(function(t){return t.draw(),t}),this.time=Qi.now()}else this.stop()},Timeline}();function linear$1(t){return t}function bounceIn(t){return 1-bounceOut(1-t)}function bounceOut(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}var tn=Object.freeze({"__proto__":null,"linear":linear$1,"quadraticIn":function quadraticIn(t){return t*t},"quadraticOut":function quadraticOut(t){return t*(2-t)},"quadraticInOut":function quadraticInOut(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},"cubicIn":function cubicIn(t){return t*t*t},"cubicOut":function cubicOut(t){return--t*t*t+1},"cubicInOut":function cubicInOut(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},"elasticIn":function elasticIn(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},"elasticOut":function elasticOut(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},"elasticInOut":function elasticInOut(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4/(2*Math.PI)*Math.asin(1/i),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},"backIn":function backIn(t){var e=1.70158;return t*t*((e+1)*t-e)},"backOut":function backOut(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},"backInOut":function backInOut(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},"bounceIn":bounceIn,"bounceOut":bounceOut,"bounceInOut":function bounceInOut(t){return t<.5?.5*bounceIn(2*t):.5*bounceOut(2*t-1)+.5}});function plainArray(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&(e.push(t[i].x),e.push(t[i].y));return e}function interpolateNumber(t,e){return e-=t=+t,function(i){return t+e*i}}function interpolateArray(t,e){var i,n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n);for(i=0;i<r;++i)a[i]=interpolateNumber(t[i],e[i]);for(;i<n;++i)s[i]=e[i];return function(t){for(i=0;i<r;++i)s[i]=a[i](t);return s}}var en=function(){function Animator(t,e,i){this.hasStarted=!1,this.hasEnded=!1,this.shape=t,this.source=e,this.timeline=i,this.animate=null}var t=Animator.prototype;return t.to=function to(t){void 0===t&&(t={});var e,i=t.delay||0,n=t.attrs||{},r=t.duration||1e3;e="function"==typeof t.easing?t.easing:tn[t.easing]||linear$1;var a={"shape":this.shape,"startTime":this.timeline.time+i,"duration":r,"easing":e},s={};for(var o in n){var l=this.source[o],c=n[o];"points"===o?(l=plainArray(l),c=plainArray(c),s.points=interpolateArray(l,c),this.source.points=l,n.points=c):"matrix"===o?s.matrix=interpolateArray(l,c):s[o]=interpolateNumber(l,c)}return a.interpolate=s,a.startState=this.source,a.endState=n,a.endTime=a.startTime+r,this.timeline.pushAnim(a),this.animate=a,this},t.onFrame=function onFrame(t){return this.animate&&(this.animate.onFrame=function(e){t(e)}),this},t.onStart=function onStart(t){return this.animate&&(this.animate.onStart=function(){t()}),this},t.onUpdate=function onUpdate(t){return this.animate&&(this.animate.onUpdate=function(e){t(e)}),this},t.onEnd=function onEnd(t){return this.animate&&(this.animate.onEnd=function(){t()}),this},Animator}(),nn={"appear":{"duration":450,"easing":"quadraticOut"},"update":{"duration":300,"easing":"quadraticOut"},"enter":{"duration":300,"easing":"quadraticOut"},"leave":{"duration":350,"easing":"quadraticIn"}},rn={"defaultCfg":{},"Action":{},"getAnimation":function getAnimation(t,e,i){var n=this.defaultCfg[t];if(n){var r=n[i];if(s(r))return r(e)}return!1},"getAnimateCfg":function getAnimateCfg(t,e){var i=nn[e],n=this.defaultCfg[t];return n&&n.cfg&&n.cfg[e]?k({},i,n.cfg[e]):i},"registerAnimation":function registerAnimation(t,e){var i;this.Action||(this.Action={}),this.Action=_extends({},this.Action,((i={})[t]=e,i))}};function getScaledMatrix(t,e,i){var n;t.apply(e);var r=e[0],a=e[1];if("x"===i){t.transform([["t",r,a],["s",.01,1],["t",-r,-a]]);var s=t.getMatrix();n=V.transform(s,[["t",r,a],["s",100,1],["t",-r,-a]])}else if("y"===i){t.transform([["t",r,a],["s",1,.01],["t",-r,-a]]);var o=t.getMatrix();n=V.transform(o,[["t",r,a],["s",1,100],["t",-r,-a]])}else if("xy"===i){t.transform([["t",r,a],["s",.01,.01],["t",-r,-a]]);var l=t.getMatrix();n=V.transform(l,[["t",r,a],["s",100,100],["t",-r,-a]])}return n}function doAnimation(t,e,i,n){var r=t._id,a=function getAnimateParam(t,e,i){var n={};return t.delay&&(n.delay=s(t.delay)?t.delay(e,i):t.delay),n.easing=t.easing,n.duration=t.duration,n.delay=t.delay,n}(i,t.get("index"),r),o=a.easing,l=a.delay,c=a.duration,h=t.animate().to({"attrs":e,"duration":c,"delay":l,"easing":o});n&&h.onEnd(function(){n()})}function fadeIn(t,e){var i=l(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),n=l(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity");t.attr("fillOpacity",0),t.attr("strokeOpacity",0),doAnimation(t,{"fillOpacity":i,"strokeOpacity":n},e)}var an=Object.freeze({"__proto__":null,"fadeIn":fadeIn});function _groupScaleIn(t,e,i,n,r){var a,s,o=function getCoordInfo(t){var e=t.start,i=t.end;return{"start":e,"end":i,"width":i.x-e.x,"height":Math.abs(i.y-e.y)}}(i),l=o.start,c=o.end,h=o.width,u=o.height,f=new Ie.Rect({"attrs":{"x":l.x,"y":c.y,"width":h,"height":u}});"y"===r?(a=l.x+h/2,s=n.y<l.y?n.y:l.y):"x"===r?(a=n.x>l.x?n.x:l.x,s=l.y+u/2):"xy"===r&&(i.isPolar?(a=i.center.x,s=i.center.y):(a=(l.x+c.x)/2,s=(l.y+c.y)/2));var g=getScaledMatrix(f,[a,s],r);f.isClip=!0,f.endState={"matrix":g},f.set("canvas",t.get("canvas")),t.attr("clip",f);doAnimation(f,f.endState,e,function onEnd(){t.attr("clip",null),f.remove(!0)})}function _shapeScale(t,e,i){for(var n=t.get("children"),r=0,a=n.length;r<a;r++){var s=n[r],o=s.getBBox();doAnimation(s,{"matrix":getScaledMatrix(s,[(o.minX+o.maxX)/2,(o.minY+o.maxY)/2],i)},e)}}function groupScaleInX(t,e,i,n){_groupScaleIn(t,e,i,n,"x")}function groupScaleInY(t,e,i,n){_groupScaleIn(t,e,i,n,"y")}function groupScaleInXY(t,e,i,n){_groupScaleIn(t,e,i,n,"xy")}function shapesScaleInXY(t,e){_shapeScale(t,e,"xy")}function groupWaveIn(t,e,i){var n=getClip(i);n.set("canvas",t.get("canvas")),t.attr("clip",n);var r={};if(i.isPolar){var a=i.startAngle,s=i.endAngle;r.endAngle=s,n.attr("endAngle",a)}else{var o=i.start,l=i.end,c=Math.abs(o.x-l.x),h=Math.abs(o.y-l.y);i.isTransposed?(n.attr("height",0),r.height=h):(n.attr("width",0),r.width=c)}doAnimation(n,r,e,function onEnd(){t.attr("clip",null),n.remove(!0)})}var sn,on=Object.freeze({"__proto__":null,"groupWaveIn":groupWaveIn,"groupScaleInX":groupScaleInX,"groupScaleInY":groupScaleInY,"groupScaleInXY":groupScaleInXY,"shapesScaleInX":function shapesScaleInX(t,e){_shapeScale(t,e,"x")},"shapesScaleInY":function shapesScaleInY(t,e){_shapeScale(t,e,"y")},"shapesScaleInXY":shapesScaleInXY});Ae.prototype.animate=function(){var t=mix({},this.get("attrs"));return new en(this,t,sn)},ni.prototype.animate=function(t){return this.set("animate",t),this},rn.Action=an,rn.defaultCfg={"interval":{"enter":function enter(t){return t.isPolar&&t.transposed?function(t){t.set("zIndex",-1),t.get("parent").sort()}:fadeIn}},"area":{"enter":function enter(t){return t.isPolar?null:fadeIn}},"line":{"enter":function enter(t){return t.isPolar?null:fadeIn}},"path":{"enter":function enter(t){return t.isPolar?null:fadeIn}}};var ln={"line":function line(t){return t.isPolar?groupScaleInXY:groupWaveIn},"area":function area(t){return t.isPolar?groupScaleInXY:groupWaveIn},"path":function path(t){return t.isPolar?groupScaleInXY:groupWaveIn},"point":function point(){return shapesScaleInXY},"interval":function interval(t){var e;return t.isPolar?(e=groupScaleInXY,t.transposed&&(e=groupWaveIn)):e=t.transposed?groupScaleInX:groupScaleInY,e},"schema":function schema(){return groupWaveIn}};function getShapes(t,e,i){var n=[];return each(t,function(t,r){var a=t.get("container").get("children"),s=t.get("type"),o=l(t.get("animateCfg"))?_getAnimateCfgByShapeType(s,e):t.get("animateCfg");!1!==o&&each(a,function(e,a){e.get("className")===s&&(e._id=function _getShapeId(t,e,i){var n,r=t.get("type"),a="geom"+i+"-"+r,s=t.getXScale(),o=t.getYScale(),l=s.field||"x",c=o.field||"y",h=e[c];return n=s.isIdentity?s.value:e[l],a+="interval"===r||"schema"===r?"-"+n:"line"===r||"area"===r||"path"===r?"-"+r:s.isCategory?"-"+n:"-"+n+"-"+h,each(t._getGroupScales(),function(t){var i=t.field;"identity"!==t.type&&(a+="-"+e[i])}),a}(t,e.get("origin")._origin,r),e.set("coord",i),e.set("animateCfg",o),e.set("index",a),n.push(e))}),t.set("shapes",a)}),n}function getAnimate(t,e,i,n){return s(n)?n:d(n)?rn.Action[n]:rn.getAnimation(t,e,i)}function getAnimateCfg(t,e,i){if(!1===i||h(i)&&!1===i[e])return!1;var n=rn.getAnimateCfg(t,e);return i&&i[e]?k({},n,i[e]):n}function addAnimate(t,e,i){var n,r,a=[],o=[];each(e,function(e){var i=t[e._id];i?(e.set("cacheShape",i),a.push(e),delete t[e._id]):o.push(e)}),each(t,function(t){var e=t.className,a=t.coord,o=t._id,l=t.attrs,c=t.index,h=t.type;if(!1===(r=getAnimateCfg(e,"leave",t.animateCfg)))return!0;if(n=getAnimate(e,a,"leave",r.animation),s(n)){var u=i.addShape(h,{"attrs":l,"index":c,"canvas":i,"className":e});u._id=o,n(u,r,a)}}),each(a,function(t){var e=t.get("className");if(!1===(r=getAnimateCfg(e,"update",t.get("animateCfg"))))return!0;var i=t.get("coord"),a=t.get("cacheShape").attrs,o=function diff(t,e){var i={};for(var n in e)m(t[n])&&t[n]!==e[n]?i[n]=e[n]:c(t[n])&&JSON.stringify(t[n])!==JSON.stringify(e[n])&&(i[n]=e[n]);return i}(a,t._attrs.attrs);Object.keys(o).length&&(n=getAnimate(e,i,"update",r.animation),s(n)?n(t,r,i):(t.attr(a),t.animate().to({"attrs":o,"duration":r.duration,"easing":r.easing,"delay":r.delay}).onEnd(function(){t.set("cacheShape",null)})))}),each(o,function(t){var e=t.get("className"),i=t.get("coord");if(!1===(r=getAnimateCfg(e,"enter",t.get("animateCfg"))))return!0;if(n=getAnimate(e,i,"enter",r.animation),s(n))if("interval"===e&&i.isPolar&&i.transposed){var o=t.get("index"),l=a[o-1];n(t,r,l)}else n(t,r,i)})}function _getAnimateCfgByShapeType(t,e){if(!t)return null;var i=e.get("animate");return t.indexOf("guide-tag")>-1&&(t="guide-tag"),h(i)?i[t]:!1!==i&&null}function afterCanvasInit(){(sn=new Ki).play()}function beforeCanvasDraw(t){if(!1!==t.get("animate")){var e=t.get("isUpdate"),i=t.get("canvas"),n=t.get("coord"),r=t.get("geoms"),a=i.get("caches")||[];0===a.length&&(e=!1);var o=getShapes(r,t,n),c=t.get("axisController"),h=c.frontPlot,u=c.backPlot,f=h.get("children").concat(u.get("children")),g=[];t.get("guideController")&&(g=t.get("guideController").guideShapes);var d,p,v=[];if(f.concat(g).forEach(function(e){var i=_getAnimateCfgByShapeType(e.get("className"),t);e.set("coord",n),e.set("animateCfg",i),v.push(e),o.push(e)}),i.set("caches",function cache(t){for(var e={},i=0,n=t.length;i<n;i++){var r=t[i];if(r._id&&!r.isClip){var a=r._id;e[a]={"_id":a,"type":r.get("type"),"attrs":mix({},r._attrs.attrs),"className":r.get("className"),"geomType":r.get("className"),"index":r.get("index"),"coord":r.get("coord"),"animateCfg":r.get("animateCfg")}}}return e}(o)),e)addAnimate(a,o,i);else each(r,function(e){var i=e.get("type"),r=l(e.get("animateCfg"))?_getAnimateCfgByShapeType(i,t):e.get("animateCfg");if(!1!==r)if(d=getAnimateCfg(i,"appear",r),p=getAnimate(i,n,"appear",d.animation),s(p))each(e.get("shapes"),function(t){p(t,d,n)});else if(ln[i]){p=on[d.animation]||ln[i](n);var a=e.getYScale(),o=n.convertPoint({"x":0,"y":a.scale(e.getYMinValue())}),c=e.get("container");p&&p(c,d,n,o)}}),each(v,function(t){var e=t.get("animateCfg"),i=t.get("className");if(e&&e.appear){var r=rn.getAnimateCfg(i,"appear"),a=k({},r,e.appear),o=getAnimate(i,n,"appear",a.animation);s(o)&&o(t,a,n)}})}}function afterCanvasDestroyed(){sn.stop()}var cn={"afterCanvasInit":afterCanvasInit,"beforeCanvasDraw":beforeCanvasDraw,"afterCanvasDestroyed":afterCanvasDestroyed},hn=Object.freeze({"__proto__":null,"afterCanvasInit":afterCanvasInit,"beforeCanvasDraw":beforeCanvasDraw,"afterCanvasDestroyed":afterCanvasDestroyed,"default":cn});ni._Interactions={},ni.registerInteraction=function(t,e){ni._Interactions[t]=e},ni.getInteraction=function(t){return ni._Interactions[t]},ni.prototype.interaction=function(t,e){var i=this._interactions||{};i[t]&&i[t].destroy();var n=new(ni.getInteraction(t))(e,this);return i[t]=n,this._interactions=i,this},ni.prototype.clearInteraction=function(t){var e=this._interactions;if(e)return t?(e[t]&&e[t].destroy(),delete e[t]):each(e,function(t,i){t.destroy(),delete e[i]}),this};var un=[0,1],fn=function(){function Context(t){var e=this;_defineProperty(this,"chart",null),_defineProperty(this,"values",null),_defineProperty(this,"range",un),_defineProperty(this,"startRange",un),_defineProperty(this,"minCount",10),_defineProperty(this,"_afterinit",function(){var t=e.getPinchScale(),i=[].concat(t.values);e.values=i,e.minScale||(e.minScale=e.minCount/i.length),e.range!==un&&(e.updateRange(e.range),e.updateTicks())}),_defineProperty(this,"_afterdatachange",function(){e.updateRange(e.range)}),this.chart=t,this._initEvent(t)}var t=Context.prototype;return t._initEvent=function _initEvent(t){t.on("afterinit",this._afterinit),t.on("afterdatachange",this._afterdatachange)},t.getPinchScale=function getPinchScale(){return this.chart.getXScale()},t.getFollowScale=function getFollowScale(){return(this.chart.getYScales()||[])[0]},t.start=function start(){var t=this.range,e=this.getPinchScale(),start=t[0],i=t[1];this.startRange=[start,i],this.lastTickCount=e.tickCount},t.doZoom=function doZoom(t,e,i){var n=this.startRange,r=this.minScale,a=n[0],s=n[1],o=(s-a)*(1-i),l=o*t,c=o*e,h=Math.max(0,a-l),u=Math.min(1,s+c),f=[h,u];u-h<r||this.updateRange(f)},t.doMove=function doMove(t){if(t){var e,i=this.startRange,n=i[0],r=i[1],a=r-n,s=a*t,o=n-s,l=r-s;e=o<0?[0,a]:l>1?[1-a,1]:[o,l],this.updateRange(e)}},t.updateRange=function updateRange(t){var e=this.values,i=t[0],n=t[1];i=Math.max(0,i),n=Math.min(1,n),this.range=[i,n];var r=e.length,a=i*r,s=n*r,o=e.slice(a,s);this.repaint(o)},t.repaint=function repaint(t){var e=this.chart,i=this.getPinchScale(),n=i.values,r=i.ticks;(function isValuesEqual(t,e){if(t.length!==e.length)return!1;var i=t.length-1;return t[0]===e[0]&&t[i]===e[i]})(n,t)||(this.updateScale(i,{"ticks":r,"values":t}),this.updateFollowScale(i,t),e.repaint())},t.updateFollowScale=function updateFollowScale(t,e){var i=this.chart,n=this.getFollowScale(),r=t.field,a=t.type,s=n.field,o=[],l={};e.forEach(function(t){l[t]=!0}),i.get("data").forEach(function(t){if("timeCat"===a){var e=toTimeStamp(t[r]);l[e]&&o.push(t[s])}});var c=getRange$1(o),h=c.min,u=c.max;this.updateScale(n,{"min":h,"max":u,"nice":!0})},t.updateScale=function updateScale(t,e){t&&t.change(e)},t.updateTicks=function updateTicks(){var t=this.chart,e=this.values,i=this.getPinchScale(),n=i.values,r=i.tickCount,a=Math.round(r*e.length/n.length),s=getTickMethod("cat")({"tickCount":a,"values":e});this.updateScale(i,{"ticks":s,"values":n}),t.repaint()},t.destroy=function destroy(){var t=this.chart;t.off("afterinit",this._afterinit),t.off("afterdatachange",this._afterdatachange)},Context}(),gn=function(){var t=Base.prototype;function Base(t,e){var i=this;_defineProperty(this,"type",""),_defineProperty(this,"startEvent","touchstart"),_defineProperty(this,"processEvent","touchmove"),_defineProperty(this,"endEvent","touchend"),_defineProperty(this,"resetEvent",null),_defineProperty(this,"context",null),_defineProperty(this,"_start",function(t){i.preStart&&i.preStart(t),i.start(t),i.onStart&&i.onStart(t)}),_defineProperty(this,"_process",function(t){i.preProcess&&i.preProcess(t),i.process(t),i.onProcess&&i.onProcess(t)}),_defineProperty(this,"_end",function(t){i.preEnd&&i.preEnd(t),i.end(t),i.onEnd&&i.onEnd(t)}),_defineProperty(this,"_reset",function(t){i.preReset&&i.preReset(t),i.reset(t),i.onReset&&i.onReset(t)}),mix(this,this.getDefaultCfg(),t),this.context=this.getInteractionContext(e),this.chart=e;var n=this.range;n&&(this.context.range=n),this._bindEvents(e)}return t.getDefaultCfg=function getDefaultCfg(){return{}},t.getInteractionContext=function getInteractionContext(t){var e=t.get("interactionContext");return e||(e=new fn(t),t.set("interactionContext",e),e)},t._bindEvents=function _bindEvents(t){var e=this.startEvent,i=this.processEvent,n=this.endEvent,r=this.resetEvent,a=t.get("canvas");a.on(e,this._start),a.on(i,this._process),a.on(n,this._end),a.on(r,this._reset)},t._clearEvents=function _clearEvents(){var t=this.chart,e=this.startEvent,i=this.processEvent,n=this.endEvent,r=this.resetEvent,a=t.get("canvas");a.off(e,this._start),a.off(i,this._process),a.off(n,this._end),a.off(r,this._start)},t.start=function start(){},t.process=function process(){},t.end=function end(){},t.reset=function reset(){},t.destroy=function destroy(){this.context.destroy(),this._clearEvents()},Base}(),dn=function(t){function Pan(){return t.apply(this,arguments)||this}_inheritsLoose(Pan,t);var e=Pan.prototype;return e.getDefaultCfg=function getDefaultCfg(){return{"type":"pan","startEvent":"panstart","processEvent":"pan","endEvent":"panend"}},e.start=function start(){this.context.start()},e.process=function process(t){var e=t.direction,i=t.deltaX;if("up"!==e&&"down"!==e){t.preventDefault&&t.preventDefault();var n=this.context,r=n.chart.get("coord"),a=r.start,s=i/(r.end.x-a.x);n.doMove(s)}},Pan}(gn),pn=function(t){_inheritsLoose(Pinch,t);var e=Pinch.prototype;function Pinch(e,i){var n;return mix(_assertThisInitialized(n=t.call(this,e,i)||this).context,e),n}return e.getDefaultCfg=function getDefaultCfg(){return{"type":"pinch","startEvent":"pinchstart","processEvent":"pinch","endEvent":"pinchend"}},e.start=function start(){this.context.start()},e.process=function process(t){t.preventDefault&&t.preventDefault();var e=t.zoom,i=t.center,n=this.context,r=n.chart.get("coord"),a=r.start,s=r.end,o=s.x-a.x,l=Math.abs(i.x-a.x)/o,c=Math.abs(s.x-i.x)/o;n.doZoom(l,c,e)},e.end=function end(){this.context.updateTicks()},Pinch}(gn);ni.registerInteraction("pan",dn),ni.registerInteraction("pinch",pn);var vn={"Marker":zi};ni.plugins.register([Hi,Ji,qi,hn]);var mn={"Component":vn,"Global":j,"Chart":ni,"Shape":rt,"G":ti,"Util":z,"Helper":ii,"track":ri,"Animate":rn};t.Animate=rn,t.Chart=ni,t.Component=vn,t.G=ti,t.Global=j,t.Helper=ii,t.Shape=rt,t.Util=z,t.default=mn,t.track=ri,Object.defineProperty(t,"__esModule",{"value":!0})},"object"===o(e)&&void 0!==t?s(e):(r=[e],void 0===(a="function"==typeof(n=s)?n.apply(e,r):n)||(t.exports=a))}).call(this,i(9))},"77":function(t,e,i){var n=i(78);"string"==typeof n&&(n=[[t.i,n,""]]);var r={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};i(18)(n,r);n.locals&&(t.exports=n.locals)},"78":function(t,e,i){(e=i(17)(!1)).push([t.i,".taro-text {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.taro-text__selectable {\n  -moz-user-select: text;\n  -webkit-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}",""]),t.exports=e},"82":function(t,e,i){"use strict";i(8);var n=i(0),r=i(19),a=i(6),s=i.n(a),o=(i(77),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}),l=function(){function defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&defineProperties(t.prototype,e),i&&defineProperties(t,i),t}}();var c=function(t){function Text(){return function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Text),function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(Text.__proto__||Object.getPrototypeOf(Text)).apply(this,arguments))}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Text,n["j"].Component),l(Text,[{"key":"render","value":function render(){var t=this.props,e=t.className,i=t.selectable,a=void 0!==i&&i,l=s()("taro-text",{"taro-text__selectable":a},e);return n.j.createElement("span",o({},Object(r.a)(this.props,["selectable","className"]),{"className":l}),this.props.children)}}]),Text}();e.a=c}}]);